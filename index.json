[{"categories":["æ‘„å½±","è®°å½•ç”Ÿæ´»"],"content":"2021å¹´10æœˆ è¿‡å®Œå›½åº†æ²¡å¤šä¹…åˆåˆåˆåˆåˆåˆæ¥æ­¦æ±‰äº†â€¦ ç»“æœåˆšèµ°æ²¡å¤šä¹…æˆéƒ½é‚£è¾¹å°±çˆ†å‘äº†ç–«æƒ…ï¼Œç„¶åç”²æ–¹çˆ¸çˆ¸æœ€å¼€å§‹è¯´è¦å…ˆéš”ç¦»7å¤©ï¼Œç»“æœä¸´åˆ°è¦è¿›å›­åŒºçš„å‰ä¸€å¤©å‘ŠçŸ¥ä¸è®©è¿›äº†(è¿™æ—¶æˆéƒ½å‡ä¸ºäº†é«˜é£é™©)ã€‚ã€‚ã€‚ emmmâ€¦åœ¨é…’åº—ç™½å¾…äº†ä¸¤å‘¨ã€‚ã€‚ğŸ˜£ å‘¨æœ«ä¾ç„¶æ˜¯å‡ºå»æ‰«è¡— ç„¶åæ‰“å¡äº†å…‰è°·çš„ç½‘çº¢è¡— ä¸–ç•ŒåŸï¼Œemmmâ€¦ å”¯ä¸€çš„å°è±¡å°±æ˜¯å„ç§å°åƒã€é¥­åº—å’Œæ‰å †çš„ç†å‘åº—â€¦ ç„¶åå°±é¡ºä¾¿ç†äº†ä¸ªå‘ï¼Œå“ˆå“ˆå“ˆå“ˆğŸ˜‚ åœ¨éŸ³ä¹å–·æ³‰èƒ–æˆè€çš„å°æœ‹å‹ï¼Œç¾¡æ…•ä»–ä»¬çš„æ— å¿§æ— è™‘ æ„å¼é£æƒ…è¡— è¿˜æ‰“å¡äº†ä¸œæ¹–æ¤ç‰©å›­ğŸ¤“ ç¡è² ","date":"2022-01-10","objectID":"/2021%E5%B9%B410%E6%9C%88-%E5%87%BA%E5%B7%AE%E6%89%AB%E8%A1%97%E8%AE%B0%E5%BD%95%E4%B9%8B%E6%AD%A6%E6%B1%89%E7%AF%87/:1:0","tags":["æ‘„å½±"],"title":"2021å¹´10æœˆ-å‡ºå·®æ‰«è¡—è®°å½•ä¹‹æ­¦æ±‰ç¯‡","uri":"/2021%E5%B9%B410%E6%9C%88-%E5%87%BA%E5%B7%AE%E6%89%AB%E8%A1%97%E8%AE%B0%E5%BD%95%E4%B9%8B%E6%AD%A6%E6%B1%89%E7%AF%87/"},{"categories":["æ‘„å½±","è®°å½•ç”Ÿæ´»"],"content":"2021å¹´4æœˆ å› ä¸ºå…¬å¸æ–°çš„é¡¹ç›®ï¼Œäººç”Ÿç¬¬ä¸€æ¬¡åˆ°æ­¦æ±‰ï¼Œå‘¨æœ«é—²æš‡ä¹‹ä½™è‚¯å®šæ˜¯è¦å››å¤„è½¬è½¬çš„ğŸ˜„ åœ¨é…’åº—æ‹çš„çª—å¤–çš„é«˜æ¶æ¡¥ï¼ŒåŒä¸€å¼ ç…§ç‰‡è°ƒäº†2ç§é¢œè‰²é£æ ¼ï¼š å£•é‡Œå£•æ°”çš„ç”²æ–¹çˆ¸çˆ¸åœ¨å—æ¹–è¾¹çš„åŠå…¬å›­åŒºï¼š emmmï¼Œä¸å¾—ä¸è¯´æ­¦æ±‰çš„å¤©æ°”æ˜¯çœŸçš„å¥½ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯è“å¤©ç™½äº‘ï¼Œå½“ç„¶æœ€ç¾çš„è¿˜æ˜¯å‚æ™šæ¹–è¾¹çš„æ™šéœ åŠ ç­åˆ°æ·±å¤œâ€¦ æ­£åˆ è¿™ä¹ˆå¥½çš„é˜³å…‰ï¼Œä¸è‡ªæ‹ä¸€å¼ å¯æƒœäº†ï¼Œå“ˆå“ˆå“ˆå“ˆ é€¼æ ¼ä¸å¤Ÿï¼Œé»‘ç™½æ¥å‡‘ğŸ˜‚ ","date":"2022-01-10","objectID":"/2021%E5%B9%B44%E6%9C%88-%E5%87%BA%E5%B7%AE%E6%89%AB%E8%A1%97%E8%AE%B0%E5%BD%95%E4%B9%8B%E6%AD%A6%E6%B1%89%E7%AF%87/:1:0","tags":["æ‘„å½±"],"title":"2021å¹´4æœˆ-å‡ºå·®æ‰«è¡—è®°å½•ä¹‹æ­¦æ±‰ç¯‡","uri":"/2021%E5%B9%B44%E6%9C%88-%E5%87%BA%E5%B7%AE%E6%89%AB%E8%A1%97%E8%AE%B0%E5%BD%95%E4%B9%8B%E6%AD%A6%E6%B1%89%E7%AF%87/"},{"categories":["æ‘„å½±","è®°å½•ç”Ÿæ´»"],"content":"2021å¹´5æœˆ æ²¡é”™ï¼Œè¿˜æ²¡è¿‡å®Œäº”ä¸€å‡æœŸï¼Œå°±åˆé©¬ä¸åœè¹„çš„å›åˆ°äº†æ­¦æ±‰ã€‚ã€‚ è¿™æ¬¡æ¢äº†ä¸ªé…’åº—ï¼Œçª—å¤–çš„æ™¯è‰²ä¹Ÿå°±ä¸ä¸€æ ·äº† ä¸­åˆåƒé¥­çš„æ—¶å€™ä¸ç»æ„æŠ¬å¤´çœ‹åˆ°åé©¬ä¸Šæå‡ºæ‰‹æœºæ¥äº†ä¸€å¼  åƒå®Œåˆé¥­å›å»è·¯ä¸Šå†æ¥ä¸€å¼ ï¼Œå“ˆå“ˆå“ˆå“ˆ åŠ ç­åŠ åˆ°å·®ç‚¹æ™•å€’ï¼Œæ·±å¤œæŒ‚äº†æ€¥è¯Šè¾“äº†ä¸€æ™šä¸Šçš„æ¶²ï¼Œæ—©ä¸Šå‡ºé™¢çš„æ—¶å€™å…ˆæ¥äº†ä¸€ç¢—çƒ­å¹²é¢ã€‚emmmmâ€¦ æœç„¶æ˜¯å±‹æ¼åé€¢è¿å¤œé›¨ï¼Œç¢—é‡Œåƒå‡ºä¸€ä¸ªç¡•å¤§çš„è‹è‡é—ä½“ğŸ˜­ ","date":"2022-01-10","objectID":"/2021%E5%B9%B45%E6%9C%88-%E5%87%BA%E5%B7%AE%E6%89%AB%E8%A1%97%E8%AE%B0%E5%BD%95%E4%B9%8B%E6%AD%A6%E6%B1%89%E7%AF%87/:1:0","tags":["æ‘„å½±"],"title":"2021å¹´5æœˆ-å‡ºå·®æ‰«è¡—è®°å½•ä¹‹æ­¦æ±‰ç¯‡","uri":"/2021%E5%B9%B45%E6%9C%88-%E5%87%BA%E5%B7%AE%E6%89%AB%E8%A1%97%E8%AE%B0%E5%BD%95%E4%B9%8B%E6%AD%A6%E6%B1%89%E7%AF%87/"},{"categories":["æ‘„å½±","è®°å½•ç”Ÿæ´»"],"content":"2021å¹´6æœˆ æ˜¯çš„ï¼Œæˆ‘åˆåˆåˆæ¥æ­¦æ±‰äº†ï¼Œè¿˜æ˜¯å‡ºå·®ã€‚ã€‚ğŸ™ å—æ¹–çš„æ™šéœç®—æ˜¯ä¸€ç‚¹ç‚¹äº›è®¸å®‰æ…°å§ï¼ˆå¤ªå–œæ¬¢è¿™å¼ äº†ï¼Œæ‰€ä»¥å¿ä¸ä½å¤šè°ƒäº†ä¸ªé»‘ç™½ç‰ˆçš„ï¼‰ å›­åŒºçš„èŠ±æ­£è‰³ æ¥¼ äº‘ çº¿ ä¸­é€”å›äº†ä¸€è¶Ÿæˆéƒ½ è·Ÿå®¶äººèšäº†èš ç„¶åï¼Œå°±åˆåˆåˆåˆé£æ­¦æ±‰äº†â€¦ğŸ˜¶ ","date":"2022-01-10","objectID":"/2021%E5%B9%B46%E6%9C%88-%E5%87%BA%E5%B7%AE%E6%89%AB%E8%A1%97%E8%AE%B0%E5%BD%95%E4%B9%8B%E6%AD%A6%E6%B1%89%E7%AF%87/:1:0","tags":["æ‘„å½±"],"title":"2021å¹´6æœˆ-å‡ºå·®æ‰«è¡—è®°å½•ä¹‹æ­¦æ±‰ç¯‡","uri":"/2021%E5%B9%B46%E6%9C%88-%E5%87%BA%E5%B7%AE%E6%89%AB%E8%A1%97%E8%AE%B0%E5%BD%95%E4%B9%8B%E6%AD%A6%E6%B1%89%E7%AF%87/"},{"categories":["æ‘„å½±","è®°å½•ç”Ÿæ´»"],"content":"2021å¹´7æœˆ å—æ¹–çš„è·èŠ±å¼€å•¦ æ¥äº†è¿™ä¹ˆå¤šæ¬¡ï¼Œç»ˆäºæ‰“å¡äº†é»„é¹¤æ¥¼ğŸ˜‚ æ¥¼é¡¶çš„è§†é‡æ˜¯çœŸçš„æ£’ ç½‘çº¢æœºä½ğŸ˜ ç»§ç»­æ‰“å¡æ‰“å¡æ‰“å¡ æ±Ÿæ±‰è·¯ åäº†ç›˜2å—é’±çš„è½®æ¸¡ï¼Œæ‹çš„è¿™å¼ æœ€å–œæ¬¢ é•¿æ±Ÿå¤§æ¡¥ï¼Œå¿˜äº†æ˜¯å‡ æ¡¥æ¥ç€ã€‚ã€‚ä¸€æ¡¥ï¼Ÿ ç½‘çº¢ç”µè§†å¡” å¤œæ™¯ æ¹–åŒ—åšç‰©é¦† å½“ç„¶è¿˜æœ‰å‹¾è·µå‰‘ å½“ç„¶è¿˜æœ‰æ›¾ä¾¯ä¹™ç¼–é’Ÿ å¿˜äº†å«å•¥ã€‚ã€‚å°±è§‰å¾—è¿™ä¸ªå¤´å¾ˆæœ‰ç¥ç§˜è‰²å½© è¿˜æ˜¯å¿˜äº†å«å•¥ã€‚ã€‚ åœ°é“ç«™ä¹Ÿä¸æ”¾è¿‡ å—æ¹–çš„æ™šéœçœŸçš„æ˜¯ç¾ç‚¸ ç»ˆäºå¯ä»¥å›å®¶å•¦ï¼ï¼ï¼ è™½ç„¶çª—å¤–ä¸‹ç€é›¨ï¼Œä½†å¿ƒæƒ…å¾ˆé˜³å…‰ å½“ç„¶â€¦é«˜å…´ä¸äº†å¤ªä¹…ï¼Œå›å»æ²¡å¤šä¹…å°±åˆå»äº†åˆè‚¥ã€‚ã€‚ã€‚ ï¼ˆå› ä¸ºåªå‘†äº†å‡ å¤©ï¼Œå°±æ”¾åœ¨è¿™é‡Œä¸å¦å¤–å¼€è´´äº†ï¼‰ ","date":"2022-01-10","objectID":"/2021%E5%B9%B47%E6%9C%88-%E5%87%BA%E5%B7%AE%E6%89%AB%E8%A1%97%E8%AE%B0%E5%BD%95%E4%B9%8B%E6%AD%A6%E6%B1%89%E7%AF%87/:1:0","tags":["æ‘„å½±"],"title":"2021å¹´7æœˆ-å‡ºå·®æ‰«è¡—è®°å½•ä¹‹æ­¦æ±‰ç¯‡","uri":"/2021%E5%B9%B47%E6%9C%88-%E5%87%BA%E5%B7%AE%E6%89%AB%E8%A1%97%E8%AE%B0%E5%BD%95%E4%B9%8B%E6%AD%A6%E6%B1%89%E7%AF%87/"},{"categories":["æ‘„å½±","è®°å½•ç”Ÿæ´»"],"content":"2021å¹´9æœˆ å› ä¸ºåœ¨æ­¦æ±‰è¿™è¾¹æ–°æ‹›äº†äººï¼Œæ‰€ä»¥è¿‡æ¥çš„é¢‘ç‡ç»ˆäºæ²¡é‚£ä¹ˆé«˜äº† éš”äº†è¿™ä¹ˆä¹…ï¼Œæ²¡å˜çš„æ˜¯è¿™è¾¹çš„æ™šéœï¼Œè¿˜æ˜¯é‚£ä¹ˆå¥½çœ‹ ","date":"2022-01-10","objectID":"/2021%E5%B9%B49%E6%9C%88-%E5%87%BA%E5%B7%AE%E6%89%AB%E8%A1%97%E8%AE%B0%E5%BD%95%E4%B9%8B%E6%AD%A6%E6%B1%89%E7%AF%87/:1:0","tags":["æ‘„å½±"],"title":"2021å¹´9æœˆ-å‡ºå·®æ‰«è¡—è®°å½•ä¹‹æ­¦æ±‰ç¯‡","uri":"/2021%E5%B9%B49%E6%9C%88-%E5%87%BA%E5%B7%AE%E6%89%AB%E8%A1%97%E8%AE%B0%E5%BD%95%E4%B9%8B%E6%AD%A6%E6%B1%89%E7%AF%87/"},{"categories":["PinPoint"],"content":"ç®€ä»‹ pinpointæ˜¯å¼€æºåœ¨githubä¸Šçš„ä¸€æ¬¾å…¨é“¾è·¯APMç›‘æ§å·¥å…·ï¼Œæä¾›äº†æ— ä¾µå…¥å¼çš„è°ƒç”¨é“¾ç›‘æ§ã€æ–¹æ³•æ‰§è¡Œè¯¦æƒ…æŸ¥çœ‹ã€åº”ç”¨çŠ¶æ€ä¿¡æ¯ç›‘æ§ç­‰åŠŸèƒ½ã€‚åŸºäºGoogleDapperè®ºæ–‡è¿›è¡Œçš„å®ç°ï¼Œä¸å¦ä¸€æ¬¾å¼€æºçš„å…¨é“¾è·¯åˆ†æå·¥å…·Zipkinç±»ä¼¼ï¼Œä½†ç›¸æ¯”Zipkinæä¾›äº†æ— ä¾µå…¥å¼ã€ä»£ç ç»´åº¦çš„ç›‘æ§ç­‰æ›´å¤šçš„ç‰¹æ€§ã€‚ Pinpointæ”¯æŒçš„åŠŸèƒ½æ¯”è¾ƒä¸°å¯Œï¼Œå¯ä»¥æ”¯æŒå¦‚ä¸‹å‡ ç§åŠŸèƒ½ï¼š æœåŠ¡æ‹“æ‰‘å›¾ï¼š å¯¹æ•´ä¸ªç³»ç»Ÿä¸­åº”ç”¨çš„è°ƒç”¨å…³ç³»è¿›è¡Œäº†å¯è§†åŒ–çš„å±•ç¤ºï¼Œå•å‡»æŸä¸ªæœåŠ¡èŠ‚ç‚¹ï¼Œå¯ä»¥æ˜¾ç¤ºè¯¥èŠ‚ç‚¹çš„ è¯¦ç»†ä¿¡æ¯ï¼Œæ¯”å¦‚å½“å‰èŠ‚ç‚¹çŠ¶æ€ã€è¯·æ±‚æ•°é‡ç­‰ å®æ—¶æ´»è·ƒçº¿ç¨‹å›¾ï¼š ç›‘æ§åº”ç”¨å†…æ´»è·ƒçº¿ç¨‹çš„æ‰§è¡Œæƒ…å†µï¼Œå¯¹åº”ç”¨çš„çº¿ç¨‹æ‰§è¡Œæ€§èƒ½å¯ä»¥æœ‰æ¯”è¾ƒç›´è§‚çš„äº†è§£ è¯·æ±‚å“åº”æ•£ç‚¹å›¾ï¼š ä»¥æ—¶é—´ç»´åº¦è¿›è¡Œè¯·æ±‚è®¡æ•°å’Œå“åº”æ—¶é—´çš„å±•ç¤ºï¼Œæ‹–è¿‡æ‹–åŠ¨å›¾è¡¨å¯ä»¥é€‰æ‹©å¯¹åº”çš„è¯·æ±‚æŸ¥çœ‹æ‰§è¡Œçš„è¯¦ç»†æƒ…å†µ è¯·æ±‚è°ƒç”¨æ ˆæŸ¥çœ‹ï¼š å¯¹åˆ†å¸ƒå¼ç¯å¢ƒä¸­æ¯ä¸ªè¯·æ±‚æä¾›äº†ä»£ç ç»´åº¦çš„å¯è§æ€§ï¼Œå¯ä»¥åœ¨é¡µé¢ä¸­æŸ¥çœ‹è¯·æ±‚é’ˆå¯¹åˆ°ä»£ç ç»´åº¦çš„æ‰§è¡Œè¯¦æƒ…ï¼Œå¸®åŠ©æŸ¥æ‰¾è¯·æ±‚çš„ç“¶é¢ˆå’Œæ•…éšœåŸå› ã€‚ åº”ç”¨çŠ¶æ€ã€æœºå™¨çŠ¶æ€æ£€æŸ¥ï¼š é€šè¿‡è¿™ä¸ªåŠŸèƒ½å¯ä»¥æŸ¥çœ‹ç›¸å…³åº”ç”¨ç¨‹åºçš„å…¶ä»–çš„ä¸€äº›è¯¦ç»†ä¿¡æ¯ï¼Œæ¯”å¦‚CPUä½¿ç”¨æƒ…å†µï¼Œå†…å­˜çŠ¶æ€ã€åƒåœ¾æ”¶é›†çŠ¶æ€ï¼ŒTPSå’ŒJVMä¿¡æ¯ç­‰å‚æ•°ã€‚ æ€»ä½“æ¥è¯´ï¼Œä½¿ç”¨pinpointçš„ä¸€äº›ä¼˜ç‚¹ï¼š å¯ä»¥æŒæ¡ç³»ç»Ÿçš„æ•´ä½“å“åº”é€Ÿåº¦æƒ…å†µï¼Œå¯¹ç³»ç»Ÿè¿è¡Œæƒ…å†µèƒ½æ¯”è¾ƒæ¸…æ™° å¯ä»¥æŒæ¡å„èŠ‚ç‚¹çš„å“åº”é€Ÿåº¦æƒ…å†µï¼Œæ¯”å¦‚ç¬¬ä¸‰æ–¹æœåŠ¡æ¥å£ï¼Œredisï¼Œmysqlç­‰ å¯ä»¥æŒæ¡å•æ¬¡è¯·æ±‚çš„å…·ä½“æœåŠ¡é“¾è·¯è€—æ—¶æƒ…å†µï¼Œå®šä½æ€§èƒ½ç“¶é¢ˆ å•æ¬¡è¯·æ±‚çš„å…·ä½“æœåŠ¡é“¾è·¯è¯·æ±‚ä¿¡æ¯ï¼Œå¯¹äºæ’æŸ¥é—®é¢˜èƒ½æä¾›å¸®åŠ© ç›‘æ§å„æœåŠ¡çš„JVMã€çº¿ç¨‹æ± ã€æ•°æ®åº“è¿æ¥æ± ä½¿ç”¨æƒ…å†µï¼Œå°¤å…¶æ˜¯å¯¹åˆ†å¸ƒå¼æœåŠ¡ç³»ç»Ÿæ¥è¯´ githubåœ°å€ï¼š â€‹ é¡¹ç›®åœ°å€ï¼šhttps://github.com/pinpoint-apm/pinpoint å®˜æ–¹dockeréƒ¨ç½²åœ°å€ï¼šhttps://github.com/pinpoint-apm/pinpoint-docker ","date":"2022-01-07","objectID":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:1:0","tags":["PinPoint","APM"],"title":"PinPointå®‰è£…é…ç½®","uri":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/"},{"categories":["PinPoint"],"content":"æ¶æ„ç»„æˆ Pinpoint ä¸»è¦ç”± 3 ä¸ªç»„ä»¶å¤–åŠ  Hbase æ•°æ®åº“ç»„æˆï¼Œä¸‰ä¸ªç»„ä»¶åˆ†åˆ«ä¸ºï¼šAgentã€Collector å’Œ Web UI â€‹ Agentç»„ä»¶ï¼š ç”¨äºæ”¶é›†åº”ç”¨ç«¯ç›‘æ§æ•°æ®ï¼Œæ— ä¾µå…¥å¼ï¼Œåªéœ€è¦åœ¨å¯åŠ¨å‘½ä»¤ä¸­åŠ å…¥éƒ¨åˆ†å‚æ•°å³å¯ Collectorç»„ä»¶ï¼š æ•°æ®æ”¶é›†æ¨¡å—ï¼Œæ¥æ”¶Agentå‘é€è¿‡æ¥çš„ç›‘æ§æ•°æ®ï¼Œå¹¶å­˜å‚¨åˆ°HBase WebUIï¼š ç›‘æ§å±•ç¤ºæ¨¡å—ï¼Œå±•ç¤ºç³»ç»Ÿè°ƒç”¨å…³ç³»ã€è°ƒç”¨è¯¦æƒ…ã€åº”ç”¨çŠ¶æ€ç­‰ï¼Œå¹¶æ”¯æŒæŠ¥è­¦ç­‰åŠŸèƒ½ ","date":"2022-01-07","objectID":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:2:0","tags":["PinPoint","APM"],"title":"PinPointå®‰è£…é…ç½®","uri":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/"},{"categories":["PinPoint"],"content":"å®‰è£…Collectorç»„ä»¶ ä½¿ç”¨docker-composeå®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼š # å…‹éš†å®˜æ–¹çš„dockeréƒ¨ç½²git git clone https://github.com/naver/pinpoint-docker.git # è¿›å…¥cloneçš„ç›®å½• cd pinpoint-docker # ä½¿ç”¨docker-composeæ‹‰å–é•œåƒå’Œè¿è¡ŒæœåŠ¡ã€‚æ³¨æ„docker-composeæ˜¯éœ€è¦å•ç‹¬å®‰è£…çš„ docker-compose pull \u0026\u0026 docker-compose up -d å¦‚æœæƒ³å®‰è£…å†å²æˆ–æŒ‡å®šç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥æŒ‡å®šgit tagsï¼š # å…‹éš†å®˜æ–¹çš„dockeréƒ¨ç½²git git clone https://github.com/naver/pinpoint-docker.git # è¿›å…¥cloneçš„ç›®å½• cd pinpoint-docker # ä½¿ç”¨gitå‘½ä»¤åˆ‡æ¢åˆ°æŒ‡å®šç‰ˆæœ¬çš„tag git checkout {tag} # ä½¿ç”¨docker-composeæ‹‰å–é•œåƒå’Œè¿è¡ŒæœåŠ¡ã€‚æ³¨æ„docker-composeæ˜¯éœ€è¦å•ç‹¬å®‰è£…çš„ docker-compose pull \u0026\u0026 docker-compose up -d å¦‚æœéƒ¨ç½²çš„æ—¶å€™æƒ³ä½¿ç”¨ä¸€äº›è‡ªå®šä¹‰é…ç½®ï¼Œä¾‹å¦‚æŒ‡å®šçš„ç«¯å£ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ docker-compose.yml å’Œ .env ä¸­å¯¹åº”çš„é…ç½®æ¥å®ç°ï¼Œå»ºè®®ä¼˜å…ˆé€šè¿‡ä¿®æ”¹.envæ–‡ä»¶æ¥åšè‡ªå®šä¹‰é…ç½® ä¿®æ”¹ç«¯å£å¯ä»¥ç›´æ¥ä¿®æ”¹.envæ–‡ä»¶ï¼Œé»˜è®¤ç«¯å£æ˜¯Pinpoint-Webï¼š8079ï¼ŒQuickStartï¼š8000å’ŒFlinkï¼š8081 éƒ¨ç½²å®Œæˆä¹‹åï¼Œä½¿ç”¨docker-compose pså‘½ä»¤å³å¯æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼š è®¿é—® http://xx.xx.xx.xx:8079/ å³å¯æµè§ˆpinpointé¡µé¢ ","date":"2022-01-07","objectID":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:3:0","tags":["PinPoint","APM"],"title":"PinPointå®‰è£…é…ç½®","uri":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/"},{"categories":["PinPoint"],"content":"å®‰è£…é…ç½®Agentç»„ä»¶ ä»githubä¸­pinpointçš„Releaseå‘å¸ƒé¡µé¢ä¸­ä¸‹è½½å’ŒCollectorç»„ä»¶ç‰ˆæœ¬ä¸€è‡´çš„Agentç¨‹åºåŒ… å°†Agentç¨‹åºåŒ…ä¸Šä¼ åˆ°éœ€è¦ç›‘æ§çš„æœåŠ¡å™¨ä¸Šï¼Œè§£å‹å‹ç¼©åŒ…ï¼Œä¿®æ”¹pinpoint.configé…ç½®æ–‡ä»¶ï¼Œä¸€èˆ¬åªéœ€ä¿®æ”¹æ–‡ä»¶ä¸­çš„profiler.collector.ip=127.0.0.1ä¸ºå‰é¢æ‰€éƒ¨ç½²çš„Collectorç»„ä»¶æ‰€åœ¨IPåœ°å€ é…ç½®æ–‡ä»¶åˆ†ä¸ºlocalå’ŒReleaseç‰ˆæœ¬ï¼Œé€‰æ‹©ä»»ä¸€ä¸€ä¸ªä¿®æ”¹å³å¯ï¼Œä½†æ˜¯éœ€è¦åœ¨pinpoint-root.configæ–‡ä»¶ä¸­æŒ‡å®šå¯¹åº”çš„é…ç½®ç‰ˆæœ¬ å¦‚æœåœ¨å¤šå°æœåŠ¡å™¨ä¸Šéƒ¨ç½²äº†åº”ç”¨ï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨å¤šå°æœºå™¨ä¸Šéƒ¨ç½²Agentç»„ä»¶ ","date":"2022-01-07","objectID":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:4:0","tags":["PinPoint","APM"],"title":"PinPointå®‰è£…é…ç½®","uri":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/"},{"categories":["PinPoint"],"content":"é…ç½®ç›‘å¬åº”ç”¨ pinpointçš„ç›‘æ§å®Œå…¨æ˜¯æ— ä¾µå…¥å¼çš„ï¼Œé…ç½®èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨javaåº”ç”¨çš„å¯åŠ¨å‘½ä»¤å¢åŠ å‡ ä¸ªå‚æ•°å³å¯ï¼š # ${pinpointPath}æ˜¯agentç»„ä»¶å­˜æ”¾çš„è·¯å¾„ï¼Œç±»ä¼¼äºJAVA_HOME -javaagent:${pinpointPath}/pinpoint-bootstrap-2.3.1.jar #'dpccb'å¯è‡ªå®šä¹‰å‘½åï¼Œåœ¨pinpointé¡µé¢ä¸Šæ˜¾ç¤ºçš„åç§° -Dpinpoint.applicationName=dpccb #idå¯è‡ªå®šä¹‰å‘½åï¼Œå¯ä»¥å’ŒNameä¸€æ · -Dpinpoint.agentId=dpccb å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œæ‰“å¼€åº”ç”¨é¡µé¢è®¿é—®ä¸€ä¸‹ï¼Œç„¶åç™»é™†pinpointçš„Webé¡µé¢å³å¯çœ‹åˆ°ç›¸å…³çš„ç›‘æ§å†…å®¹äº† å¦‚æœåº”ç”¨æ˜¯é€šè¿‡å®¹å™¨æ–¹å¼è¿è¡Œçš„ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹å¯åŠ¨è„šæœ¬å’ŒDockerfileçš„æ–¹å¼æ¥é…ç½®agentçš„ç›‘å¬ //ä¿®æ”¹å¯åŠ¨å‘½ä»¤ //æŠŠagentçš„å­˜æ”¾ç›®å½•æŒ‚è½½åˆ°åº”ç”¨çš„å®¹å™¨å†… ","date":"2022-01-07","objectID":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:4:1","tags":["PinPoint","APM"],"title":"PinPointå®‰è£…é…ç½®","uri":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/"},{"categories":["PinPoint"],"content":"pinpointåŠŸèƒ½ä»‹ç» è¯¦ç»†ä½¿ç”¨æ•™ç¨‹å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼špinpointä½¿ç”¨è¯¦è§£ï¼ˆå›¾æ–‡ç‰ˆï¼‰ ","date":"2022-01-07","objectID":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:5:0","tags":["PinPoint","APM"],"title":"PinPointå®‰è£…é…ç½®","uri":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/"},{"categories":["PinPoint"],"content":"é¦–é¡µ é€‰æ‹©ä¸€ä¸ªéœ€è¦æŸ¥çœ‹çš„åº”ç”¨ï¼Œå³å¯åœ¨é¦–é¡µä¸­ä»¥å›¾å½¢åŒ–çš„æ–¹å¼å±•ç¤ºç”¨æˆ·è¯·æ±‚ã€æœåŠ¡é—´çš„è°ƒç”¨å…³ç³»ç­‰ä¿¡æ¯ã€‚å¦å¤–è¿˜æœ‰å“åº”æ—¶é—´åˆ†æå›¾ã€è°ƒç”¨æ•£ç‚¹å›¾ã€å“åº”æ—¶é•¿åˆ†å¸ƒã€ç­‰å¾…æ—¶é•¿åˆ†å¸ƒç­‰ã€‚åœ¨å³ä¾§çš„è°ƒç”¨ç»Ÿè®¡å›¾ä¸­ç”¨é¼ æ ‡å·¦é”®æ¡†é€‰(å¦‚å›¾ä¸Šçº¢æ¡†)å³å¯æŸ¥çœ‹é€‰ä¸­éƒ¨åˆ†çš„è°ƒç”¨è¯¦æƒ… ","date":"2022-01-07","objectID":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:5:1","tags":["PinPoint","APM"],"title":"PinPointå®‰è£…é…ç½®","uri":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/"},{"categories":["PinPoint"],"content":"è°ƒç”¨è¯¦ç»†ä¿¡æ¯ è¯¦æƒ…é¡µï¼Œé€‰æ‹©ä¸€ä¸ªè¯·æ±‚åä¸‹æ–¹ä¼šæ˜¾ç¤ºå…¶è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…å«å“åº”æ—¶é—´ï¼Œè¯·æ±‚è¿‡ç¨‹ä¸­æ¶‰åŠçš„ä»£ç æ–¹æ³•ï¼Œsqlè¯­å¥ç­‰ é€‰æ‹©æ··åˆè§†å›¾åè¿˜å¯ä»¥åŒæ—¶æŸ¥çœ‹è°ƒç”¨æ ‘ã€æœåŠ¡å™¨æ€§èƒ½å ç”¨ã€server mapç­‰ä¿¡æ¯ ","date":"2022-01-07","objectID":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:5:2","tags":["PinPoint","APM"],"title":"PinPointå®‰è£…é…ç½®","uri":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/"},{"categories":["PinPoint"],"content":"åº”ç”¨æ£€æŸ¥å·¥å…· æŸ¥çœ‹åº”ç”¨çš„å…¶ä»–ç»†èŠ‚ï¼Œå¦‚CPUä½¿ç”¨ã€å†…å­˜/åƒåœ¾æ”¶é›†ã€TPSå’ŒJVMå‚æ•° ","date":"2022-01-07","objectID":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/:5:3","tags":["PinPoint","APM"],"title":"PinPointå®‰è£…é…ç½®","uri":"/pinpoint%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/"},{"categories":["Linux"],"content":" æ–°å¢atrandyså¤§ä½¬çš„ä¸€é”®å®‰è£…è„šæœ¬ï¼Œæ”¯æŒcentos7+/debian9+/ubuntu16+: wget --no-check-certificate https://raw.githubusercontent.com/cx9208/Linux-NetSpeed/master/tcp.sh chmod +x tcp.sh ./tcp.sh æ–°å¢GoogleåŸç‰ˆBBRä¸€é”®å®‰è£…è„šæœ¬ï¼š wget --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh chmod +x bbr.sh ./bbr.sh ","date":"2020-03-07","objectID":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/:0:0","tags":["ç§‘å­¦ä¸Šç½‘"],"title":"åœ¨Ubuntu16.04å’ŒCentos7ä¸Šå¯ç”¨TCP-BBR","uri":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/"},{"categories":["Linux"],"content":"BBRç®€ä»‹ BBR æ˜¯ Google æ¨å‡ºçš„ä¸€ä¸ªã€ŒTCP æ‹¥å¡æ§åˆ¶ç®—æ³•ã€ï¼Œå®ƒæ˜¯ä»¥ Linux å†…æ ¸æ¨¡å—çš„å½¢å¼åŠ è½½ï¼Œå¯ä»¥æœ€å¤§åŒ– Linux Server çš„ç½‘ç»œååé‡ã€‚ ç®€å•åœ°è¯´ï¼Œå¼€å¯ BBR çš„ Linux Server å’Œä¸å¼€å¯ BBR çš„ Linux Serverï¼Œåœ¨æŒç»­ä¼ è¾“æ•°æ®æ–¹é¢å¯ä»¥æœ‰éå¸¸å¤§çš„ä¸åŒã€‚ BBR å°½ç®¡è¿˜æ²¡æœ‰åœ¨ä¸»æµå‘è¡Œç‰ˆä¸­é»˜è®¤å¼€å¯ï¼Œä½† Google å·²ç»åœ¨ YouTube ç½‘ç«™ä¸Šå®è·µäº†å¾ˆä¹…ï¼Œå¯ä»¥è¯´æ˜¯å¾ˆæˆç†Ÿçš„ä¸€æ ·æŠ€æœ¯äº†ã€‚ ","date":"2020-03-07","objectID":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/:1:0","tags":["ç§‘å­¦ä¸Šç½‘"],"title":"åœ¨Ubuntu16.04å’ŒCentos7ä¸Šå¯ç”¨TCP-BBR","uri":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/"},{"categories":["Linux"],"content":"æ£€æµ‹ BBR æ˜¯å¦å¼€å¯ åœ¨å¼€å§‹ä¹‹å‰ï¼Œå…ˆçœ‹çœ‹ BBR æ˜¯å¦å·²ç»å¯ç”¨äº†ï¼Œæ‰§è¡Œè¿™æ¡æŒ‡ä»¤å¯ä»¥è¿”å›å½“å‰ Linux å†…æ ¸å¯ä»¥ä½¿ç”¨çš„ TCP æ‹¥å µæ§åˆ¶ç®—æ³•ï¼š sysctl net.ipv4.tcp_available_congestion_control ä¾‹å¦‚ï¼Œåœ¨æˆ‘çš„Serverä¸Šè¿”å›äº†å¦‚ä¸‹å†…å®¹ï¼š net.ipv4.tcp_available_congestion_control = cubic reno å¯ä»¥çœ‹åˆ°æ˜¯æ²¡æœ‰BBRçš„ï¼Œå› ä¸ºé»˜è®¤çš„ Ubuntu 16.04 ç”¨çš„æ˜¯ Linux 4.4.0 å†…æ ¸ï¼Œæ‰€ä»¥è‡ªç„¶æ˜¯çœ‹ä¸åˆ° BBR çš„ã€‚ æˆ‘ä»¬å†æ¬¡ç¡®è®¤ä¸‹ç³»ç»Ÿå½“å‰å¯ç”¨çš„æ‹¥å¡ç®—æ³•ï¼š sysctl net.ipv4.tcp_congestion_control è¿”å›çš„å†…å®¹æ˜¯ï¼š net.ipv4.tcp_congestion_control = cubic å¯ä»¥çœ‹åˆ°ç³»ç»Ÿä½¿ç”¨çš„æ˜¯ cubic è¿™ä¸ªé»˜è®¤çš„ç®—æ³•ã€‚æ¥ä¸‹å»æˆ‘ä»¬é€šè¿‡æœ€æ ‡å‡†çš„æ¨¡å¼æ¥ä¸ºè¿™å° Ubuntu 16.04 å¯ç”¨ BBR ","date":"2020-03-07","objectID":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/:2:0","tags":["ç§‘å­¦ä¸Šç½‘"],"title":"åœ¨Ubuntu16.04å’ŒCentos7ä¸Šå¯ç”¨TCP-BBR","uri":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/"},{"categories":["Linux"],"content":"ä¸ºUbuntu 16.04 å®‰è£…/å¯ç”¨ BBR ","date":"2020-03-07","objectID":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/:3:0","tags":["ç§‘å­¦ä¸Šç½‘"],"title":"åœ¨Ubuntu16.04å’ŒCentos7ä¸Šå¯ç”¨TCP-BBR","uri":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/"},{"categories":["Linux"],"content":"å®‰è£… 4.10+ æ–°å†…æ ¸ BBR åªèƒ½é…åˆ Linux Kernel 4.10 ä»¥ä¸Šå†…æ ¸æ‰èƒ½ä½¿ç”¨ã€‚ä½†æ˜¯åœ¨ Ubuntu 16.04 ä¸Šæ€ä¹ˆä½¿ç”¨ 4.10 å‘¢ï¼Ÿéš¾é“è¦æ‰‹åŠ¨ä¸‹è½½å’Œå®‰è£…å—ï¼Ÿ ä¸èƒ½ï¼è¿™ä¼šæœ‰ä¸€ä¸ªå®‰å…¨éšæ‚£ï¼Œæ‰‹åŠ¨ä¸‹è½½å®‰è£…çš„æ–°å†…æ ¸ï¼Œæ— æ³•ä¿è¯åç»­èƒ½å¾—åˆ°åŠæ—¶çš„å®‰å…¨æ›´æ–°ã€‚é‚£ä¹ˆæ€ä¹ˆåŠï¼Ÿè¿™é‡Œæ¨èä½¿ç”¨ HWE ç‰ˆæœ¬çš„å†…æ ¸ï¼Œå®ƒå°±åœ¨å®˜æ–¹æºé‡Œã€‚ HWEï¼Œå³ï¼šHareWare Enablementï¼Œæ˜¯ä¸“é—¨ä¸ºåœ¨è€çš„ç³»ç»Ÿä¸Šæ”¯æŒæ–°çš„ç¡¬ä»¶è€Œæ¨å‡ºçš„å†…æ ¸ã€‚ä½ å¯ä»¥åƒå®‰è£…å…¶ä»–è½¯ä»¶åŒ…ä¸€æ ·åœ¨ Ubuntu 16.04 é‡Œéå¸¸å®¹æ˜“çš„å®‰è£…å®ƒï¼Œåªéœ€è¦æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š sudo apt-get install linux-generic-hwe-16.04 å¯¹ï¼åªéœ€è¦è¿™æ ·å°±OKäº†ï¼ å®‰è£…å¥½ä»¥åé‡å¯ç³»ç»Ÿï¼Œç„¶åè¾“å…¥ï¼š uname -a æˆ‘çš„Serverè¾“å‡ºå¦‚ä¸‹ï¼š Linux oneone 4.15.0-74-generic #83~16.04.1-Ubuntu SMP Wed Dec 18 04:56:23 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux å¯ä»¥çœ‹åˆ°ç³»ç»Ÿå†…æ ¸å·²ç»å‡çº§åˆ°4.15.0äº†ã€‚ ","date":"2020-03-07","objectID":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/:3:1","tags":["ç§‘å­¦ä¸Šç½‘"],"title":"åœ¨Ubuntu16.04å’ŒCentos7ä¸Šå¯ç”¨TCP-BBR","uri":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/"},{"categories":["Linux"],"content":"å¯ç”¨ BBR æ¥ä¸‹æ¥å°±å¯ä»¥ä¸ºæ–°å†…æ ¸è£…è½½ BBR æ¨¡å—äº†ï¼Œåˆ†åˆ«æ‰§è¡Œï¼š sudo modprobe tcp_bbr echo \"tcp_bbr\" | sudo tee -a /etc/modules-load.d/modules.conf æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥æŸ¥çœ‹ç³»ç»Ÿæ”¯æŒçš„æ‹¥å¡ç®—æ³•ï¼Œå¯ä»¥çœ‹åˆ°BBRå·²ç»åœ¨é‡Œé¢äº†ï¼š root@oneone:~# sysctl net.ipv4.tcp_available_congestion_control net.ipv4.tcp_available_congestion_control = reno cubic bbr æ¥ä¸‹æ¥å°±æ­£å¼å¯ç”¨BBRï¼ŒæŠŠå®ƒè®¾ä¸ºç³»ç»Ÿçš„é»˜è®¤æ‹¥å¡ç®—æ³•ï¼Œåˆ†åˆ«æ‰§è¡Œï¼š echo \"net.core.default_qdisc=fq\" | sudo tee -a /etc/sysctl.conf echo \"net.ipv4.tcp_congestion_control=bbr\" | sudo tee -a /etc/sysctl.conf sudo sysctl -p æœ€åï¼Œå†æ¥éªŒè¯ä¸€ä¸‹æ˜¯å¦è®¾ç½®æˆåŠŸï¼Œå¯ä»¥çœ‹åˆ°BBRå·²ç»æ˜¯é»˜è®¤ç®—æ³•ï¼š root@oneone:~# sysctl net.ipv4.tcp_congestion_control net.ipv4.tcp_congestion_control = bbr ","date":"2020-03-07","objectID":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/:3:2","tags":["ç§‘å­¦ä¸Šç½‘"],"title":"åœ¨Ubuntu16.04å’ŒCentos7ä¸Šå¯ç”¨TCP-BBR","uri":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/"},{"categories":["Linux"],"content":"ä¸ºCentos7 å®‰è£…/å¯ç”¨ BBR ","date":"2020-03-07","objectID":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/:4:0","tags":["ç§‘å­¦ä¸Šç½‘"],"title":"åœ¨Ubuntu16.04å’ŒCentos7ä¸Šå¯ç”¨TCP-BBR","uri":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/"},{"categories":["Linux"],"content":"å®‰è£… 4.10+ æ–°å†…æ ¸ å…ˆæŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬ï¼š cat /etc/redhat-release #ä¾‹å¦‚æˆ‘çš„ç³»ç»Ÿç‰ˆæœ¬æ˜¯7.6ï¼Œè¾“å‡ºå¦‚ä¸‹: CentOS Linux release 7.6.1810 (Core) æ·»åŠ elrepoæºï¼Œç„¶åå‡çº§å†…æ ¸ï¼Œæ“ä½œå‘½ä»¤å¦‚ä¸‹ï¼š #æ·»åŠ ã€æ›´æ–°æº rpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm #å®‰è£…å†…æ ¸ yum --enablerepo=elrepo-kernel install kernel-ml -y å®‰è£…å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ä¸‹æ–¹çš„å‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿå·²ç»å®‰è£…äº†å†…æ ¸ awk -F\\' '$1==\"menuentry \" {print i++ \" : \" $2}' /etc/grub2.cfg #ä¾‹å¦‚æˆ‘çš„ç³»ç»ŸæŸ¥è¯¢ç»“æœå¦‚ä¸‹ï¼Œå…¶ä¸­â€˜5.5.8â€™ç‰ˆæœ¬çš„å†…æ ¸æ˜¯åˆšåˆšå®‰è£…çš„ï¼š 0 : CentOS Linux (5.5.8-1.el7.elrepo.x86_64) 7 (Core) 1 : CentOS Linux (4.14.129-bbrplus) 7 (Core) 2 : CentOS Linux (0-rescue-05cb8c7b39fe0f70e3ce97e5beab809d) 7 (Core) æ¥ç€æˆ‘ä»¬å°±æŠŠåˆšå®‰è£…çš„CentOS Linux (5.5.8-1.el7.elrepo.x86_64) 7 (Core)å†…æ ¸è®¾ç½®ä¸ºé»˜è®¤ï¼š grub2-set-default 0 è®¾ç½®å®Œé»˜è®¤å†…æ ¸ä¹‹åï¼Œä½¿ç”¨uname -aæŸ¥çœ‹æ—¶å‘ç°å½“å‰ä½¿ç”¨çš„å†…æ ¸è¿˜æ˜¯ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè¿™æ˜¯å› ä¸ºåˆ‡æ¢å†…æ ¸åéœ€è¦é‡å¯ç³»ç»Ÿæ‰èƒ½ç”Ÿæ•ˆï¼š #æŸ¥çœ‹è¿˜æ˜¯ä¹‹å‰çš„ç‰ˆæœ¬ï¼š [root~]# uname -a Linux ip-172-31-21-55.ap-southeast-1.compute.internal 4.14.129-bbrplus #1 SMP Tue Jun 25 12:23:41 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux #é‡å¯ç³»ç»Ÿå³å¯ç”Ÿæ•ˆ [root@~]# reboot ","date":"2020-03-07","objectID":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/:4:1","tags":["ç§‘å­¦ä¸Šç½‘"],"title":"åœ¨Ubuntu16.04å’ŒCentos7ä¸Šå¯ç”¨TCP-BBR","uri":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/"},{"categories":["Linux"],"content":"å¯ç”¨ BBR ç¼–è¾‘sysctl.confæ–‡ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š # ä½¿ç”¨vimç¼–è¾‘æ–‡ä»¶ vim /etc/sysctl.conf #åœ¨æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹å¹¶ä¿å­˜ï¼š net.core.default_qdisc = fq net.ipv4.tcp_congestion_control = bbr åŠ è½½ç³»ç»Ÿå‚æ•°ï¼Œå¹¶ç¡®è®¤é…ç½®æ˜¯å¦ç”Ÿæ•ˆï¼Œå¦‚æœç”Ÿæ•ˆä¼šæ‰“å°ä¸Šæ–¹åˆšåˆšæ–°å¢çš„å†…å®¹ï¼š sysctl -p æœ€åï¼Œå†æ¬¡éªŒè¯ä¸€ä¸‹æ˜¯å¦è®¾ç½®æˆåŠŸï¼š [root@~]# sysctl net.ipv4.tcp_congestion_control #è¾“å‡ºå¦‚ä¸‹ï¼Œåˆ™è¡¨ç¤ºé»˜è®¤åŠ é€Ÿç®—æ³•å·²ç»æ˜¯bbr net.ipv4.tcp_congestion_control = bbr ","date":"2020-03-07","objectID":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/:4:2","tags":["ç§‘å­¦ä¸Šç½‘"],"title":"åœ¨Ubuntu16.04å’ŒCentos7ä¸Šå¯ç”¨TCP-BBR","uri":"/%E5%9C%A8ubuntu16.04%E5%92%8Ccentos7%E4%B8%8A%E5%90%AF%E7%94%A8tcp-bbr/"},{"categories":["Linux"],"content":"ç”¨æ³•: grep [é€‰é¡¹]â€¦ PATTERN [FILE]â€¦ åœ¨æ¯ä¸ª FILE æˆ–æ˜¯æ ‡å‡†è¾“å…¥ä¸­æŸ¥æ‰¾ PATTERNã€‚ é»˜è®¤çš„ PATTERN æ˜¯ä¸€ä¸ªåŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼(ç¼©å†™ä¸º BRE)ã€‚ ä¾‹å¦‚: grep -i 'hello world' menu.h main.c æ­£åˆ™è¡¨è¾¾å¼é€‰æ‹©ä¸è§£é‡Š: -E, --extended-regexp PATTERN æ˜¯ä¸€ä¸ªå¯æ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼(ç¼©å†™ä¸º ERE) -F, --fixed-strings PATTERN æ˜¯ä¸€ç»„ç”±æ–­è¡Œç¬¦åˆ†éš”çš„å­—ç¬¦ä¸²ã€‚ -G, --basic-regexp PATTERN æ˜¯ä¸€ä¸ªåŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼(ç¼©å†™ä¸º BRE) -P, --perl-regexp PATTERN æ˜¯ä¸€ä¸ª Perl æ­£åˆ™è¡¨è¾¾å¼ -e, --regexp=PATTERN ç”¨ PATTERN æ¥è¿›è¡ŒåŒ¹é…æ“ä½œ -f, --file=FILE ä» FILE ä¸­å–å¾— PATTERN -i, --ignore-case å¿½ç•¥å¤§å°å†™ -w, --word-regexp å¼ºåˆ¶ PATTERN ä»…å®Œå…¨åŒ¹é…å­—è¯ -x, --line-regexp å¼ºåˆ¶ PATTERN ä»…å®Œå…¨åŒ¹é…ä¸€è¡Œ -z, --null-data ä¸€ä¸ª 0 å­—èŠ‚çš„æ•°æ®è¡Œï¼Œä½†ä¸æ˜¯ç©ºè¡Œ æ‚é¡¹: -s, --no-messages ä¸æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ -v, --invert-match é€‰ä¸­ä¸åŒ¹é…çš„è¡Œ -V, --version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡º --help æ˜¾ç¤ºæ­¤å¸®åŠ©å¹¶é€€å‡º è¾“å‡ºæ§åˆ¶: -m, --max-count=NUM NUM æ¬¡åŒ¹é…ååœæ­¢ -b, --byte-offset è¾“å‡ºçš„åŒæ—¶æ‰“å°å­—èŠ‚åç§» -n, --line-number è¾“å‡ºçš„åŒæ—¶æ‰“å°è¡Œå· --line-buffered æ¯è¡Œè¾“å‡ºæ¸…ç©º -H, --with-filename ä¸ºæ¯ä¸€åŒ¹é…é¡¹æ‰“å°æ–‡ä»¶å -h, --no-filename è¾“å‡ºæ—¶ä¸æ˜¾ç¤ºæ–‡ä»¶åå‰ç¼€ --label=LABEL å°†LABEL ä½œä¸ºæ ‡å‡†è¾“å…¥æ–‡ä»¶åå‰ç¼€ -o, --only-matching åªæ˜¾ç¤ºåŒ¹é…PATTERN éƒ¨åˆ†çš„è¡Œ -q, --quiet, --silent ä¸æ˜¾ç¤ºæ‰€æœ‰å¸¸è§„è¾“å‡º --binary-files=TYPE è®¾å®šäºŒè¿›åˆ¶æ–‡ä»¶çš„TYPE ç±»å‹ï¼› TYPE å¯ä»¥æ˜¯`binary', `text', æˆ–`without-match' -a, --text ç­‰åŒäº --binary-files=text -I ç­‰åŒäº --binary-files=without-match -d, --directories=ACTION è¯»å–ç›®å½•çš„æ–¹å¼ï¼› ACTION å¯ä»¥æ˜¯`read', `recurse',æˆ–`skip' -D, --devices=ACTION è¯»å–è®¾å¤‡ã€å…ˆå…¥å…ˆå‡ºé˜Ÿåˆ—ã€å¥—æ¥å­—çš„æ–¹å¼ï¼› ACTION å¯ä»¥æ˜¯`read'æˆ–`skip' -r, --recursive ç­‰åŒäº--directories=recurse -R, --dereference-recursive åŒä¸Šï¼Œä½†éå†æ‰€æœ‰ç¬¦å·é“¾æ¥ --include=FILE_PATTERN åªæŸ¥æ‰¾åŒ¹é…FILE_PATTERN çš„æ–‡ä»¶ --exclude=FILE_PATTERN è·³è¿‡åŒ¹é…FILE_PATTERN çš„æ–‡ä»¶å’Œç›®å½• --exclude-from=FILE è·³è¿‡æ‰€æœ‰é™¤FILE ä»¥å¤–çš„æ–‡ä»¶ --exclude-dir=PATTERN è·³è¿‡æ‰€æœ‰åŒ¹é…PATTERN çš„ç›®å½•ã€‚ -L, --files-without-match åªæ‰“å°ä¸åŒ¹é…FILEs çš„æ–‡ä»¶å -l, --files-with-matches åªæ‰“å°åŒ¹é…FILES çš„æ–‡ä»¶å -c, --count åªæ‰“å°æ¯ä¸ªFILE ä¸­çš„åŒ¹é…è¡Œæ•°ç›® -T, --initial-tab è¡Œé¦–tabs åˆ†éš”ï¼ˆå¦‚æœ‰å¿…è¦ï¼‰ -Z, --null åœ¨FILE æ–‡ä»¶æœ€åæ‰“å°ç©ºå­—ç¬¦ æ–‡ä»¶æ§åˆ¶: -B, --before-context=NUM æ‰“å°æ–‡æœ¬åŠå…¶å‰é¢NUM è¡Œ -A, --after-context=NUM æ‰“å°æ–‡æœ¬åŠå…¶åé¢NUM è¡Œ -C, --context=NUM æ‰“å°NUM è¡Œè¾“å‡ºæ–‡æœ¬ -NUM ç­‰åŒäº --context=NUM --color[=WHEN], --colour[=WHEN] ä½¿ç”¨æ ‡è®°é«˜äº®åŒ¹é…å­—ä¸²ï¼› WHEN å¯ä»¥æ˜¯`always', `never'æˆ–`auto' -U, --binary ä¸è¦æ¸…é™¤è¡Œå°¾çš„CR å­—ç¬¦(MSDOS/Windows) -u, --unix-byte-offsets å¿½ç•¥CR å­—ç¬¦ï¼ŒæŠ¥å‘Šå­—èŠ‚åç§» (MSDOS/Windows) egrep å³grep -Eã€‚fgrep å³grep -Fã€‚ ç›´æ¥è°ƒç”¨egrep æˆ–æ˜¯fgrep å‡å·²è¢«åºŸå¼ƒã€‚ è‹¥FILE ä¸º -ï¼Œå°†è¯»å–æ ‡å‡†è¾“å…¥ã€‚ä¸å¸¦FILEï¼Œè¯»å–å½“å‰ç›®å½•ï¼Œé™¤éå‘½ä»¤è¡Œä¸­æŒ‡å®šäº†-r é€‰é¡¹ã€‚ å¦‚æœå°‘äºä¸¤ä¸ªFILE å‚æ•°ï¼Œå°±è¦é»˜è®¤ä½¿ç”¨-h å‚æ•°ã€‚ å¦‚æœæœ‰ä»»æ„è¡Œè¢«åŒ¹é…ï¼Œé‚£é€€å‡ºçŠ¶æ€ä¸º 0ï¼Œå¦åˆ™ä¸º 1ï¼› å¦‚æœæœ‰é”™è¯¯äº§ç”Ÿï¼Œä¸”æœªæŒ‡å®š -q å‚æ•°ï¼Œé‚£é€€å‡ºçŠ¶æ€ä¸º 2ã€‚ ","date":"2020-02-26","objectID":"/grep/:0:0","tags":["Linux"],"title":"grep","uri":"/grep/"},{"categories":["Linux"],"content":"ä¸‹é¢å†…å®¹å¯¹åº”ç¯å¢ƒä¸ºï¼šUbuntu 16.04 é¦–å…ˆæ”¾ä¸€å¼ æ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶å¤¹å›¾ boot è¯¥æ–‡ä»¶å¤¹å­˜æ”¾å¼•å¯¼åŠ è½½å™¨(bootstrap loader)ä½¿ç”¨çš„æ–‡ä»¶,ä¸€èˆ¬æˆ‘ä»¬ä¸ä¼šä½¿ç”¨è¿™é‡Œé¢çš„æ–‡ä»¶ dev è¯¥æ–‡ä»¶å¤¹å­˜æ”¾çš„æ˜¯è®¾å¤‡æ–‡ä»¶å³è®¾å¤‡é©±åŠ¨ç¨‹åº,ç”¨æˆ·å¯ä»¥é€šè¿‡è¿™äº›æ–‡ä»¶è®¿é—®å¤–éƒ¨è®¾å¤‡. /dev/nullç§°ä¸ºç©ºè®¾å¤‡,ä¹Ÿç§°ä¸ºä½æ¡¶ï¼ˆbit bucketï¼‰æˆ–è€…é»‘æ´(black hole),ä½ å¯ä»¥å‘å®ƒè¾“å…¥ä»»ä½•æ•°æ®ï¼Œä½†ä»»ä½•å†™å…¥å®ƒçš„æ•°æ®éƒ½ä¼šè¢«æŠ›å¼ƒã€‚é€šå¸¸ç”¨äºå¤„ç†ä¸éœ€è¦çš„è¾“å‡ºæµ,è¿™äº›æ“ä½œé€šå¸¸ç”±é‡å®šå‘å®Œæˆ /dev/shm/è¿™ä¸ªç›®å½•æ˜¯linuxä¸‹ä¸€ä¸ªåˆ©ç”¨å†…å­˜è™šæ‹Ÿå‡ºæ¥çš„ä¸€ä¸ªç›®å½•,è¿™ä¸ªç›®å½•ä¸­çš„æ–‡ä»¶éƒ½æ˜¯ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œè€Œä¸æ˜¯ç£ç›˜ä¸Šã€‚å…¶å¤§å°æ˜¯éå›ºå®šçš„ï¼Œå³ä¸æ˜¯é¢„å…ˆåˆ†é…å¥½çš„å†…å­˜æ¥å­˜å‚¨çš„ã€‚(shm == shared memory). é»˜è®¤æœ€å¤§ä¸ºå†…å­˜çš„ä¸€åŠå¤§å°ï¼Œä½¿ç”¨df -hå‘½ä»¤å¯ä»¥çœ‹åˆ°.ä½†å®ƒå¹¶ä¸ä¼šçœŸæ­£çš„å ç”¨è¿™å—å†…å­˜ï¼Œå¦‚æœ/dev/shm/ä¸‹æ²¡æœ‰ä»»ä½•æ–‡ä»¶ï¼Œå®ƒå ç”¨çš„å†…å­˜å®é™…ä¸Šå°±æ˜¯0å­—èŠ‚ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°/dev/shmçš„æ–‡ä»¶ç³»ç»Ÿä¸ºtmpfsï¼Œå³ä¸ºä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿ home è¯¥æ–‡ä»¶å¤¹åŒ…å«ç”¨æˆ·å®¶ç›®å½•ï¼Œå³ç³»ç»Ÿä¸Šçš„æ‰€æœ‰å®é™…æ•°æ®å­˜æ”¾çš„åœ°æ–¹,ä½ æ·»åŠ çš„ç”¨æˆ· éƒ½ä¼šåœ¨è¯¥ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªå’Œç”¨æˆ·ä»¬ç›¸åŒçš„ç›®å½•,ä¸ºè¯¥ç”¨æˆ·çš„å®¶ç›®å½• root è¶…çº§ç®¡ç†å‘˜çš„å®¶ç›®å½• bin /binç›®å½•åŒ…å«äº†å¼•å¯¼å¯åŠ¨æ‰€éœ€çš„å‘½ä»¤å’Œæ™®é€šç”¨æˆ·å¯èƒ½ç”¨çš„å‘½ä»¤.è¿™äº›å‘½ä»¤éƒ½æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶çš„å¯æ‰§è¡Œç¨‹åº(binæ˜¯binaryçš„ç®€ç§°)ï¼Œå¤šæ˜¯ç³»ç»Ÿä¸­é‡è¦çš„ç³»ç»Ÿæ–‡ä»¶ sbin /sbinç›®å½•ç±»ä¼¼/bin ï¼Œä¹Ÿç”¨äºå­˜å‚¨äºŒè¿›åˆ¶æ–‡ä»¶ã€‚å› ä¸ºå…¶ä¸­çš„å¤§éƒ¨åˆ†æ–‡ä»¶å¤šæ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„åŸºæœ¬çš„ç³»ç»Ÿç¨‹åºï¼Œæ‰€ä»¥è™½ç„¶æ™®é€šç”¨æˆ·å¿…è¦ä¸”å…è®¸æ—¶å¯ä»¥ä½¿ç”¨ï¼Œä½†ä¸€èˆ¬ä¸ç»™æ™®é€šç”¨æˆ·ä½¿ç”¨ etc /etcç›®å½•å­˜æ”¾ç€å„ç§ç³»ç»Ÿé…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…æ‹¬äº†ç”¨æˆ·ä¿¡æ¯æ–‡ä»¶/etc/passwdï¼Œ ç³»ç»Ÿåˆå§‹åŒ–æ–‡ä»¶/etc/rcç­‰ã€‚linuxæ­£æ˜¯é è¿™äº›æ–‡ä»¶æ‰å¾—ä»¥æ­£å¸¸åœ°è¿è¡Œ lib /libç›®å½•æ˜¯æ ¹æ–‡ä»¶ç³»ç»Ÿä¸Šçš„ç¨‹åºæ‰€éœ€çš„å…±äº«åº“ï¼Œå­˜æ”¾äº†æ ¹æ–‡ä»¶ç³»ç»Ÿç¨‹åºè¿è¡Œæ‰€éœ€çš„å…±äº«æ–‡ä»¶,è¿™äº›æ–‡ä»¶åŒ…å«äº†å¯è¢«è®¸å¤šç¨‹åºå…±äº«çš„ä»£ç ï¼Œä»¥é¿å…æ¯ä¸ªç¨‹åºéƒ½åŒ…å«æœ‰ç›¸åŒçš„å­ç¨‹åºçš„å‰¯æœ¬,æ•…å¯ä»¥ä½¿å¾—å¯æ‰§è¡Œæ–‡ä»¶å˜å¾—æ›´å°,èŠ‚çœç©ºé—´. tmp ä¸´æ—¶ç›®å½•,å¯¹äºæŸäº›ç¨‹åºæ¥è¯´,æœ‰äº›æ–‡ä»¶è¢«ç”¨äº†ä¸€æ¬¡ä¸¤æ¬¡ä¹‹å,å°±ä¸ä¼šå†è¢«ç”¨åˆ°,åƒè¿™æ ·çš„æ–‡ä»¶å°±æ”¾åœ¨è¿™é‡Œ.æœ‰äº›linuxç³»ç»Ÿä¼šå®šæœŸè‡ªåŠ¨å¯¹è¿™ä¸ªç›®å½•è¿›è¡Œæ¸…ç†ï¼Œå› æ­¤ï¼Œåƒä¸‡ä¸è¦æŠŠé‡è¦çš„æ•°æ®æ”¾åœ¨è¿™é‡Œ opt è¿™ä¸ªç›®å½•ä¸»è¦å­˜é‚£äº›å¯é€‰çš„ç¨‹åº.æƒ³å°è¯•æœ€æ–°çš„firefoxæµ‹è¯•ç‰ˆå—ï¼Ÿé‚£å°±è£…åˆ°/optç›®å½•ä¸‹å§ï¼Œè¿™æ ·ï¼Œå½“ä½ å°è¯•å®Œï¼Œæƒ³åˆ æ‰firefoxçš„æ—¶å€™,ä½ å°±å¯ä»¥ç›´æ¥åˆ é™¤å®ƒï¼Œè€Œä¸å½±å“ç³»ç»Ÿå…¶ä»–ä»»ä½•è®¾ç½®.å®‰è£…åˆ°/optç›®å½•ä¸‹çš„ç¨‹åºï¼Œå®ƒæ‰€æœ‰çš„æ•°æ®ã€åº“æ–‡ä»¶ç­‰ç­‰éƒ½æ˜¯æ”¾åœ¨åŒä¸ªç›®å½•ä¸‹é¢ ä¸¾ä¾‹:åˆšæ‰è£…çš„æµ‹è¯•ç‰ˆfirefox,å°±å¯ä»¥è£…åˆ°/opt/firefox_betaç›®å½•ä¸‹,/opt/firefox_betaç›®å½•ä¸‹é¢å°±åŒ…å«äº†è¿è¡Œfirefoxæ‰€éœ€è¦çš„æ‰€æœ‰æ–‡ä»¶ã€åº“ã€æ•°æ®ç­‰ç­‰.è¦åˆ é™¤firefoxçš„æ—¶å€™ï¼Œä½ åªéœ€åˆ é™¤/opt/firefox_betaç›®å½•å³å¯ï¼Œéå¸¸ç®€å• usr /usræ˜¯ä¸ªå¾ˆé‡è¦çš„ç›®å½•,å› ä¸ºæ‰€æœ‰ç¨‹åºå®‰è£…åœ¨è¿™é‡Œ. /usr/local:æœ¬åœ°å®‰è£…çš„ç¨‹åºå’Œå…¶ä»–ä¸œè¥¿ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥åœ¨å‡çº§æ–°ç‰ˆç³» ç»Ÿæˆ–æ–°å‘è¡Œç‰ˆæ—¶æ— é¡»é‡æ–°å®‰è£…å…¨éƒ¨ç¨‹åº /usr/bin:é›†ä¸­äº†å‡ ä¹æ‰€æœ‰ç”¨æˆ·å‘½ä»¤ï¼Œæ˜¯ç³»ç»Ÿçš„è½¯ä»¶åº“.å¦æœ‰äº›å‘½ä»¤åœ¨/binæˆ–/usr/local/binä¸­ /usr/sbin:åŒ…æ‹¬äº†æ ¹æ–‡ä»¶ç³»ç»Ÿä¸å¿…è¦çš„ç³»ç»Ÿç®¡ç†å‘½ä»¤ /usr/src:linuxå†…æ ¸çš„æºä»£ç  var /varåŒ…å«ç³»ç»Ÿä¸€èˆ¬è¿è¡Œæ—¶è¦æ”¹å˜çš„æ•°æ®,é€šå¸¸è¿™äº›æ•°æ®æ‰€åœ¨çš„ç›®å½•çš„å¤§å°æ˜¯è¦ç»å¸¸å˜åŒ–æˆ–æ‰©å……çš„ /var/libï¼šå­˜æ”¾ç³»ç»Ÿæ­£å¸¸è¿è¡Œæ—¶è¦æ”¹å˜çš„æ–‡ä»¶ /var/localï¼šå­˜æ”¾/usr/localä¸­å®‰è£…çš„ç¨‹åºçš„å¯å˜æ•°æ® /var/log:å„ç§ç¨‹åºçš„æ—¥å¿—(log)æ–‡ä»¶,è¿™é‡Œçš„æ–‡ä»¶ç»å¸¸ä¸ç¡®å®šåœ°å¢é•¿,åº”è¯¥å®šæœŸæ¸…é™¤ã€‚ /var/tmpï¼šæ¯”/tmpå…è®¸æ›´å¤§çš„æˆ–éœ€è¦å­˜åœ¨è¾ƒé•¿æ—¶é—´çš„ä¸´æ—¶æ–‡ä»¶ proc /procæ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ä¸ªä¼ªçš„æ–‡ä»¶ç³»ç»Ÿ,å°±æ˜¯è¯´å®ƒæ˜¯ä¸€ä¸ªå®é™…ä¸Šä¸å­˜åœ¨çš„ç›®å½•,å› è€Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„ç›®å½•.å®ƒå¹¶ä¸å­˜åœ¨äºæŸä¸ªç£ç›˜ä¸Š,è€Œæ˜¯ç”±æ ¸å¿ƒåœ¨å†…å­˜ä¸­äº§ç”Ÿ.è¿™ä¸ªç›®å½•ç”¨äºæä¾›å…³äºç³»ç»Ÿçš„ä¿¡æ¯ /proc/x:å…³äºè¿›ç¨‹xçš„ä¿¡æ¯ç›®å½•,è¿™xæ˜¯è¿™ä¸€è¿›ç¨‹çš„æ ‡è¯†å·.æ¯ä¸ªè¿›ç¨‹åœ¨ /procä¸‹æœ‰ä¸€ä¸ªåä¸ºè‡ªå·±è¿›ç¨‹å·çš„ç›®å½• /proc/cpuinfo:å­˜æ”¾å¤„ç†å™¨(cpu)çš„ä¿¡æ¯ï¼Œå¦‚cpuçš„ç±»å‹ã€åˆ¶é€ å•†ã€ å‹å·å’Œæ€§èƒ½ç­‰ /proc/filesystems:æ ¸å¿ƒé…ç½®çš„æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯ /proc/uptime:ç³»ç»Ÿå¯åŠ¨çš„æ—¶é—´é•¿åº¦ /proc/version:æ ¸å¿ƒç‰ˆæœ¬ lost+found è¿™ä¸ªç›®å½•å¹³æ—¶æ˜¯ç©ºçš„,ç³»ç»Ÿéæ­£å¸¸å…³æœºè€Œç•™ä¸‹â€œæ— å®¶å¯å½’â€çš„æ–‡ä»¶å°±åœ¨è¿™é‡Œ ","date":"2020-02-25","objectID":"/linux%E4%B8%8B%E5%90%84%E6%96%87%E4%BB%B6%E5%A4%B9%E7%9A%84%E4%BD%9C%E7%94%A8/:0:0","tags":["Linux"],"title":"Linuxä¸‹å„æ–‡ä»¶å¤¹çš„ä½œç”¨","uri":"/linux%E4%B8%8B%E5%90%84%E6%96%87%E4%BB%B6%E5%A4%B9%E7%9A%84%E4%BD%9C%E7%94%A8/"},{"categories":["Linux","vim"],"content":"åœ¨ä½¿ç”¨vimæ—¶ï¼Œå½“æˆ‘ä»¬ä»¥æ™®é€šç”¨æˆ·å»æ‰“å¼€ä¸€ä¸ªåªæœ‰rootç”¨æˆ·æ‰æœ‰æƒé™æ“ä½œçš„æ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬ç¼–è¾‘å®Œæˆä¹‹åï¼Œæ­£è¦ä¿å­˜ï¼Œå´å‘ç°ï¼Œè¿™ä¸ªæ–‡ä»¶æˆ‘ä»¬æ²¡æœ‰æƒé™ä¿®æ”¹ã€‚ ç»è¿‡æŸ¥æ‰¾ï¼Œå‘ç°ä¸€ä¸ªå‘½ä»¤å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ å‘½ä»¤ï¼š :w !sudo tee % wï¼š è¡¨ç¤ºä¿å­˜æ–‡ä»¶ ï¼ï¼š è¡¨ç¤ºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤ teeï¼š linuxå‘½ä»¤ï¼Œè¿™ä¸ªæœ‰ç‚¹å¤æ‚ï¼Œå¯ä»¥æŸ¥çœ‹linuxå‘½ä»¤å¸®åŠ© %ï¼š åœ¨æ‰§è¡Œå¤–éƒ¨å‘½ä»¤æ—¶ï¼Œ%ä¼šæ‰©å±•æˆå½“å‰æ–‡ä»¶åï¼›è¿™ä¸ª%åŒºåˆ«äºæ›¿æ¢æ—¶çš„%ï¼Œæ›¿æ¢æ—¶%çš„æ„ä¹‰æ˜¯ä»£è¡¨æ•´ä¸ªæ–‡ä»¶ï¼Œè€Œä¸æ˜¯æ–‡ä»¶å æ­¤å‘½ä»¤æ˜¯æŠŠå½“å‰æ–‡ä»¶ï¼ˆå³%ï¼‰ä½œä¸ºstdinä¼ ç»™sudo teeå‘½ä»¤æ¥æ‰§è¡Œã€‚è¯´èµ·æ¥æŒºç»•å£ï¼Œå…¶å®å°±æ˜¯ï¼šç”¨sudoå¼ºåˆ¶ä¿å­˜ã€‚ è¿™è¡Œå‘½ä»¤è§£å†³äº†ä¸èƒ½ä¿å­˜åªè¯»æ–‡ä»¶çš„é—®é¢˜ï¼Œä½†æ¯•ç«Ÿå‘½ä»¤è¿˜æ˜¯æœ‰äº›é•¿ï¼Œä¸ºäº†é¿å…æ¯æ¬¡è¾“å…¥ä¸€é•¿ä¸²çš„å‘½ä»¤ï¼Œå¯ä»¥å°†å®ƒæ˜ å°„ä¸ºä¸€ä¸ªç®€å•çš„å‘½ä»¤åŠ åˆ° .vimrc ä¸­ï¼š \" Allow saving of files as sudo when I forgot to start vim using sudo. cmap w!! w !sudo tee \u003e /dev/null % è¿™æ ·ï¼Œç®€å•çš„è¿è¡Œ:w!!å³å¯ã€‚å‘½ä»¤ååŠéƒ¨åˆ†\u003e /dev/nullä½œç”¨ä¸ºæ˜¾å¼çš„ä¸¢æ‰æ ‡å‡†è¾“å‡ºçš„å†…å®¹ã€‚ ","date":"2020-02-25","objectID":"/vim%E6%9D%83%E9%99%90%E4%B8%8D%E8%B6%B3%E6%97%B6%E5%BC%BA%E5%88%B6%E4%BF%9D%E5%AD%98%E5%8F%AA%E8%AF%BB%E7%B1%BB%E5%9E%8B%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95/:0:0","tags":["vim"],"title":"Vimæƒé™ä¸è¶³æ—¶å¼ºåˆ¶ä¿å­˜åªè¯»ç±»å‹æ–‡ä»¶çš„æ–¹æ³•","uri":"/vim%E6%9D%83%E9%99%90%E4%B8%8D%E8%B6%B3%E6%97%B6%E5%BC%BA%E5%88%B6%E4%BF%9D%E5%AD%98%E5%8F%AA%E8%AF%BB%E7%B1%BB%E5%9E%8B%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95/"},{"categories":["è½¯ä»¶æµ‹è¯•","Jmeter"],"content":"è„šæœ¬è§„èŒƒï¼š ç›®å½•ç»“æ„æŒ‰ç³»ç»Ÿçº§åˆ«åŒºåˆ†ä¸åŒçš„jmxæ–‡ä»¶ï¼Œæ¯ä¸ªç³»ç»Ÿä¸€ä¸ªjmxæ–‡ä»¶è¿›è¡Œç®¡ç† çº¿ç¨‹ç»„ä½œä¸ºæ¨¡å—çº§åˆ«ï¼Œå‘½åæ ¼å¼ä¸ºæ¨¡å—åç§° æ¥å£ä½œä¸ºç”¨ä¾‹çº§åˆ«ï¼Œå‘½åæ ¼å¼ç±»ä¼¼ä¸º ï¼š ã€ç¼–å·ã€‘ ã€æ­£ä¾‹/åä¾‹ã€‘ç”¨ä¾‹åç§° ä½¿ç”¨ç”¨æˆ·å®šä¹‰çš„å˜é‡å°†ç³»ç»Ÿä¸­ä½¿ç”¨åˆ°çš„å…¨å±€å˜é‡æŠ½å–åˆ°å…¨å±€è‡ªå®šä¹‰å˜é‡ä¸­ï¼Œåªæ”¯æŒæŠ½å–æ•´ä¸ªç³»ç»Ÿå…¬ç”¨å˜é‡ ä½¿ç”¨ç”¨æˆ·å®šä¹‰çš„å˜é‡å°†æ¨¡å—ä¸­ä½¿ç”¨åˆ°çš„æµ‹è¯•æ•°æ®æŠ½å–åˆ°å±€éƒ¨è‡ªå®šä¹‰å˜é‡ä¸­ æ¯ä¸ªæ¥å£éƒ½éœ€è¦å¢åŠ æ–­è¨€ï¼Œä¿è¯è„šæœ¬çš„ç»“æœçš„æ­£ç¡®æ€§ å°½é‡å°†ç¯å¢ƒå˜é‡æŠ½å–åˆ°å…¨å±€ä¸­ï¼Œæ–¹ä¾¿ç¯å¢ƒåˆ‡æ¢ æäº¤æµ‹è¯•è„šæœ¬æ—¶å°½é‡åˆ é™¤è‡ªå·±åˆ›å»ºçš„åƒåœ¾æ•°æ® ","date":"2020-02-25","objectID":"/jmeter/:0:0","tags":["Jmeter"],"title":"Jmeter","uri":"/jmeter/"},{"categories":["Linux"],"content":"ç³»ç»Ÿ uname -a** æŸ¥çœ‹å†…æ ¸/æ“ä½œç³»ç»Ÿ/CPUä¿¡æ¯ head -n 1 /etc/issue æŸ¥çœ‹æ“ä½œç³»ç»Ÿç‰ˆæœ¬ *cat /proc/cpuinfo æŸ¥çœ‹CPUä¿¡æ¯ hostname** æŸ¥çœ‹è®¡ç®—æœºå lspci -tv åˆ—å‡ºæ‰€æœ‰PCIè®¾å¤‡ lsusb -tv å‡ºæ‰€æœ‰USBè®¾å¤‡ lsmod åˆ—å‡ºåŠ è½½çš„å†…æ ¸æ¨¡å— env æŸ¥çœ‹ç¯å¢ƒå˜é‡ ","date":"2020-02-24","objectID":"/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:1:0","tags":["Linux"],"title":"Linuxå¸¸ç”¨å‘½ä»¤","uri":"/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"},{"categories":["Linux"],"content":"èµ„æº free -m æŸ¥çœ‹å†…å­˜ä½¿ç”¨é‡å’Œäº¤æ¢åŒºä½¿ç”¨é‡ df -h æŸ¥çœ‹å„åˆ†åŒºä½¿ç”¨æƒ…å†µ du -sh \u003cç›®å½•å\u003e æŸ¥çœ‹æŒ‡å®šç›®å½•çš„å¤§å° grep MemTotal /proc/meminfo æŸ¥çœ‹å†…å­˜æ€»é‡ grep MemFree /proc/meminfo æŸ¥çœ‹ç©ºé—²å†…å­˜é‡ uptime æŸ¥çœ‹ç³»ç»Ÿè¿è¡Œæ—¶é—´ã€ç”¨æˆ·æ•°ã€è´Ÿè½½ cat /proc/loadavg æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½ ","date":"2020-02-24","objectID":"/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:2:0","tags":["Linux"],"title":"Linuxå¸¸ç”¨å‘½ä»¤","uri":"/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"},{"categories":["Linux"],"content":"ç£ç›˜å’Œåˆ†åŒº mount | column -t æŸ¥çœ‹æŒ‚æ¥çš„åˆ†åŒºçŠ¶æ€ fdisk -l æŸ¥çœ‹æ‰€æœ‰åˆ†åŒº swapon -s æŸ¥çœ‹æ‰€æœ‰äº¤æ¢åˆ†åŒº hdparm -i /dev/hda æŸ¥çœ‹ç£ç›˜å‚æ•°(ä»…é€‚ç”¨äºIDEè®¾å¤‡) dmesg | grep IDE æŸ¥çœ‹å¯åŠ¨æ—¶IDEè®¾å¤‡æ£€æµ‹çŠ¶å†µ ","date":"2020-02-24","objectID":"/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:3:0","tags":["Linux"],"title":"Linuxå¸¸ç”¨å‘½ä»¤","uri":"/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"},{"categories":["Linux"],"content":"ç½‘ç»œ ifconfig æŸ¥çœ‹æ‰€æœ‰ç½‘ç»œæ¥å£çš„å±æ€§ iptables -L æŸ¥çœ‹é˜²ç«å¢™è®¾ç½® route -n æŸ¥çœ‹è·¯ç”±è¡¨ netstat -lntp æŸ¥çœ‹æ‰€æœ‰ç›‘å¬ç«¯å£ netstat -antp æŸ¥çœ‹æ‰€æœ‰å·²ç»å»ºç«‹çš„è¿æ¥ netstat -s æŸ¥çœ‹ç½‘ç»œç»Ÿè®¡ä¿¡æ¯ ","date":"2020-02-24","objectID":"/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:4:0","tags":["Linux"],"title":"Linuxå¸¸ç”¨å‘½ä»¤","uri":"/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"},{"categories":["Linux"],"content":"è¿›ç¨‹ ps -ef æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹ top å®æ—¶æ˜¾ç¤ºè¿›ç¨‹çŠ¶æ€ ","date":"2020-02-24","objectID":"/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:5:0","tags":["Linux"],"title":"Linuxå¸¸ç”¨å‘½ä»¤","uri":"/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"},{"categories":["Linux"],"content":"ç”¨æˆ· w æŸ¥çœ‹æ´»åŠ¨ç”¨æˆ· id \u003cç”¨æˆ·å\u003e æŸ¥çœ‹æŒ‡å®šç”¨æˆ·ä¿¡æ¯ last æŸ¥çœ‹ç”¨æˆ·ç™»å½•æ—¥å¿— cut -d: -f1 /etc/passwd æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ· cut -d: -f1 /etc/group æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç»„ crontab -l æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„è®¡åˆ’ä»»åŠ¡ ","date":"2020-02-24","objectID":"/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:6:0","tags":["Linux"],"title":"Linuxå¸¸ç”¨å‘½ä»¤","uri":"/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"},{"categories":["Linux"],"content":"æœåŠ¡ chkconfig â€“list åˆ—å‡ºæ‰€æœ‰ç³»ç»ŸæœåŠ¡ chkconfig â€“list | grep on åˆ—å‡ºæ‰€æœ‰å¯åŠ¨çš„ç³»ç»ŸæœåŠ¡ ","date":"2020-02-24","objectID":"/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:7:0","tags":["Linux"],"title":"Linuxå¸¸ç”¨å‘½ä»¤","uri":"/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"},{"categories":["Linux"],"content":"ç¨‹åº apt-get update åœ¨ä¿®æ”¹/etc/apt/sources.listæˆ–è€…/etc/apt/preferencesä¹‹åè¿è¡Œè¯¥å‘½ä»¤ã€‚æ­¤å¤–æ‚¨éœ€è¦å®šæœŸè¿è¡Œè¿™ä¸€å‘½ä»¤ä»¥ç¡®ä¿æ‚¨çš„è½¯ä»¶åŒ…åˆ—è¡¨æ˜¯æœ€æ–°çš„ã€‚ apt-get install packagename å®‰è£…ä¸€ä¸ªæ–°è½¯ä»¶åŒ…ï¼ˆå‚è§ä¸‹æ–‡çš„aptitudeï¼‰ apt-get remove packagename å¸è½½ä¸€ä¸ªå·²å®‰è£…çš„è½¯ä»¶åŒ…ï¼ˆä¿ç•™é…ç½®æ–‡ä»¶ï¼‰ apt-get â€“purge remove packagename å¸è½½ä¸€ä¸ªå·²å®‰è£…çš„è½¯ä»¶åŒ…ï¼ˆåˆ é™¤é…ç½®æ–‡ä»¶ï¼‰ dpkg â€“force-all â€“purge packagename æœ‰äº›è½¯ä»¶å¾ˆéš¾å¸è½½ï¼Œè€Œä¸”è¿˜é˜»æ­¢äº†åˆ«çš„è½¯ä»¶çš„åº”ç”¨ï¼Œå°±å¯ä»¥ç”¨è¿™ä¸ªï¼Œä¸è¿‡æœ‰ç‚¹å†’é™©ã€‚ apt-get autoclean apt ä¼šæŠŠå·²è£…æˆ–å·²å¸çš„è½¯ä»¶éƒ½å¤‡ä»½åœ¨ç¡¬ç›˜ä¸Šï¼Œæ‰€ä»¥å¦‚æœéœ€è¦ç©ºé—´çš„è¯ï¼Œå¯ä»¥è®©è¿™ä¸ªå‘½ä»¤æ¥åˆ é™¤ä½ å·²ç»åˆ æ‰çš„è½¯ä»¶ apt-get clean è¿™ä¸ªå‘½ä»¤ä¼šæŠŠå®‰è£…çš„è½¯ä»¶çš„å¤‡ä»½ä¹Ÿåˆ é™¤ï¼Œä¸è¿‡è¿™æ ·ä¸ä¼šå½±å“è½¯ä»¶çš„ä½¿ç”¨çš„ã€‚ apt-get upgrade æ›´æ–°æ‰€æœ‰å·²å®‰è£…çš„è½¯ä»¶åŒ… apt-get dist-upgrade å°†ç³»ç»Ÿå‡çº§åˆ°æ–°ç‰ˆæœ¬ apt-cache search string åœ¨è½¯ä»¶åŒ…åˆ—è¡¨ä¸­æœç´¢å­—ç¬¦ä¸² dpkg -l package-name-pattern åˆ—å‡ºæ‰€æœ‰ä¸æ¨¡å¼ç›¸åŒ¹é…çš„è½¯ä»¶åŒ…ã€‚å¦‚æœæ‚¨ä¸çŸ¥é“è½¯ä»¶åŒ…çš„å…¨åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨â€œpackage-name-patternâ€ã€‚ aptitude è¯¦ç»†æŸ¥çœ‹å·²å®‰è£…æˆ–å¯ç”¨çš„è½¯ä»¶åŒ…ã€‚ä¸apt-getç±»ä¼¼ï¼Œaptitudeå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œæ–¹å¼è°ƒç”¨ï¼Œä½†ä»…é™äºæŸäº›å‘½ä»¤â€”â€”æœ€å¸¸è§çš„æœ‰å®‰è£…å’Œå¸è½½å‘½ä»¤ã€‚ç”±äºaptitudeæ¯”apt-getäº†è§£æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥è¯´å®ƒæ›´é€‚åˆç”¨æ¥è¿›è¡Œå®‰è£…å’Œå¸è½½ã€‚ apt-cache showpkg pkgs æ˜¾ç¤ºè½¯ä»¶åŒ…ä¿¡æ¯ã€‚ apt-cache dumpavail æ‰“å°å¯ç”¨è½¯ä»¶åŒ…åˆ—è¡¨ã€‚ apt-cache show pkgs æ˜¾ç¤ºè½¯ä»¶åŒ…è®°å½•ï¼Œç±»ä¼¼äºdpkg â€“print-availã€‚ apt-cache pkgnames æ‰“å°è½¯ä»¶åŒ…åˆ—è¡¨ä¸­æ‰€æœ‰è½¯ä»¶åŒ…çš„åç§°ã€‚ dpkg -S file è¿™ä¸ªæ–‡ä»¶å±äºå“ªä¸ªå·²å®‰è£…è½¯ä»¶åŒ…ã€‚ dpkg -L package åˆ—å‡ºè½¯ä»¶åŒ…ä¸­çš„æ‰€æœ‰æ–‡ä»¶ã€‚ apt-file search filename æŸ¥æ‰¾åŒ…å«ç‰¹å®šæ–‡ä»¶çš„è½¯ä»¶åŒ…ï¼ˆä¸ä¸€å®šæ˜¯å·²å®‰è£…çš„ï¼‰ï¼Œè¿™äº›æ–‡ä»¶çš„æ–‡ä»¶åä¸­å«æœ‰æŒ‡å®šçš„å­—ç¬¦ä¸²ã€‚ apt-file æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è½¯ä»¶åŒ…ã€‚æ‚¨å¿…é¡» å…ˆä½¿ç”¨apt-get installæ¥å®‰è£…å®ƒï¼Œç„¶åè¿è¡Œapt-file updateã€‚å¦‚æœapt-file search filename è¾“å‡ºçš„å†…å®¹å¤ªå¤šï¼Œæ‚¨å¯ä»¥å°è¯•ä½¿ç”¨apt-file search sfilename | grep -w filename sï¼ˆåªæ˜¾ç¤ºæŒ‡å®šå­—ç¬¦ä¸²ä½œä¸ºå®Œæ•´çš„å•è¯å‡ºç°åœ¨å…¶ä¸­çš„é‚£äº›æ–‡ä»¶åï¼‰æˆ–è€…ç±»ä¼¼æ–¹æ³•ï¼Œä¾‹å¦‚ï¼šapt-file search filename | grep /bin/ï¼ˆåªæ˜¾ç¤ºä½äºè¯¸å¦‚/binæˆ–/usr/binè¿™äº›æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ï¼Œå¦‚æœæ‚¨è¦æŸ¥æ‰¾çš„æ˜¯æŸä¸ªç‰¹å®šçš„æ‰§è¡Œæ–‡ä»¶çš„è¯ï¼Œè¿™æ ·åšæ˜¯æœ‰å¸®åŠ©çš„ï¼‰ã€‚ ","date":"2020-02-24","objectID":"/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/:8:0","tags":["Linux"],"title":"Linuxå¸¸ç”¨å‘½ä»¤","uri":"/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"},{"categories":["Linux"],"content":"é—®é¢˜ç°è±¡ â€‹ æŒ‰ç…§ç½‘ä¸Šé…ç½®javaç¯å¢ƒå˜é‡çš„æ–¹æ³•åœ¨/etc/profileæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼Œé…ç½®ä¹‹åï¼Œå¦‚æœé‡å¯ç³»ç»Ÿååˆ‡æ¢åˆ°rootç”¨æˆ·æ— æ³•è·å–å·²é…ç½®çš„javaç¯å¢ƒå˜é‡ï¼Œåœ¨æ™®é€šç”¨æˆ·ä¸‹å¯ä»¥è·å–åˆ° export JAVA_HOME=/usr/local/java/jdk1.8.0_65 export JRE_HOME=${JAVA_HOME}/jre export CLASSPATH=.:$JAVA_HOME/lib:$JRE_HOME/lib:$CLASSPATH export PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH ","date":"2020-02-24","objectID":"/ubuntu-root%E7%94%A8%E6%88%B7%E4%B8%8Bjava-version%E6%97%A0%E6%B3%95%E8%8E%B7%E5%8F%96java%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/:1:0","tags":["Linux"],"title":"Ubuntu rootç”¨æˆ·ä¸‹java -versionæ— æ³•è·å–javaç¯å¢ƒå˜é‡è§£å†³åŠæ³•","uri":"/ubuntu-root%E7%94%A8%E6%88%B7%E4%B8%8Bjava-version%E6%97%A0%E6%B3%95%E8%8E%B7%E5%8F%96java%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/"},{"categories":["Linux"],"content":"è§£å†³åŠæ³• sudo ln -s /ä½ çš„jdkè·¯å¾„/bin/jar /bin/jar sudo ln -s /ä½ çš„jdkè·¯å¾„/bin/java /bin/java sudo ln -s /ä½ çš„jdkè·¯å¾„/bin/javac /bin/javac sudo ln -s /ä½ çš„jdkè·¯å¾„/bin/javah /bin/javah sudo ln -s /ä½ çš„jdkè·¯å¾„/bin/javadoc /bin/javadoc ","date":"2020-02-24","objectID":"/ubuntu-root%E7%94%A8%E6%88%B7%E4%B8%8Bjava-version%E6%97%A0%E6%B3%95%E8%8E%B7%E5%8F%96java%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/:2:0","tags":["Linux"],"title":"Ubuntu rootç”¨æˆ·ä¸‹java -versionæ— æ³•è·å–javaç¯å¢ƒå˜é‡è§£å†³åŠæ³•","uri":"/ubuntu-root%E7%94%A8%E6%88%B7%E4%B8%8Bjava-version%E6%97%A0%E6%B3%95%E8%8E%B7%E5%8F%96java%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/"},{"categories":["Linux","oh-my-zsh"],"content":"å¦‚æœä½¿ç”¨wtç”¨æˆ·å®‰è£…é…ç½®äº†oh-my-zshï¼Œå…¶ä»–ç”¨æˆ·æƒ³è¦ä½¿ç”¨ç›¸åŒçš„ä¸»é¢˜å’Œé…ç½®ï¼Œå¯ä»¥å‚è€ƒhttps://askubuntu.com/questions/521469/oh-my-zsh-for-the-root-and-for-all-user è¿™é‡Œä»‹ç»ä¸€ç§æ›´ç®€å•çš„æ–¹æ³•ï¼ˆäº²æµ‹æœ‰æ•ˆï¼‰ï¼š æ¯”å¦‚è®©rootç”¨æˆ·ä½¿ç”¨å’Œwtç”¨æˆ·ç›¸åŒçš„é…ç½®ï¼š sudo ln -s $HOME/.oh-my-zsh /root/.oh-my-zsh sudo ln -s $HOME/.zshrc /root/.zshrc åˆ‡æ¢åˆ°rootç”¨æˆ·ï¼Œå‘½ä»¤zsh,å³å¯çœ‹åˆ°zshçš„ä¸»é¢˜å’Œwtç”¨æˆ·çš„ä¸€æ ·äº†ã€‚å¦‚æœæç¤º /root/.zshrc:119: command not found: pyenv /root/.zshrc:120: command not found: pyenv å†åˆ›å»º.pyenvçš„è½¯è¿æ¥å³å¯ã€‚ sudo ln -s $HOME/.pyenv /root/.pyenv è¿™æ ·åšçš„ç¼ºç‚¹æ˜¯rootç”¨æˆ·çš„æ‰€æœ‰é…ç½®éƒ½å’Œwtç”¨æˆ·çš„ä¸€è‡´ï¼Œä¸èƒ½ä¸ªæ€§åŒ–ã€‚ä¿®æ”¹ä¸€ä¸ªï¼Œå…¶ä»–ç”¨æˆ·çš„ä¹Ÿä¼šå˜ã€‚ å¦‚æœè¦ä¸ªæ€§åŒ–ï¼Œå¯ä»¥ç”¨ sudo cp -r /home/wt/.oh-my-zsh /root sudo cp -r /home/wt/.zshrc /root ","date":"2020-02-24","objectID":"/%E8%AE%A9%E5%85%B6%E4%BB%96%E7%94%A8%E6%88%B7%E4%BD%BF%E7%94%A8oh-my-zsh/:0:0","tags":["oh-my-zsh"],"title":"è®©å…¶ä»–ç”¨æˆ·ä½¿ç”¨oh-my-zsh","uri":"/%E8%AE%A9%E5%85%B6%E4%BB%96%E7%94%A8%E6%88%B7%E4%BD%BF%E7%94%A8oh-my-zsh/"},{"categories":["Linux","Docker"],"content":" docker æœåŠ¡é‡å¯ï¼Œå…³é—­ï¼Œå¯åŠ¨åŠç‰ˆæœ¬æŸ¥çœ‹ [root@localhost /] systemctl restart docker.service #é‡å¯æœåŠ¡ [root@localhost /] systemctl stop docker.service #å…³é—­æœåŠ¡ [root@localhost /] systemctl start docker.service #å¯åŠ¨æœåŠ¡ [root@iZm5e3hwzuo58e05kxjiifZ /] docker -v #dockerç‰ˆæœ¬æŸ¥çœ‹ Docker version 18.06.1-ce, build e68fc7a docker æœç´¢/ä¸‹è½½/æŸ¥çœ‹é•œåƒ [root@localhost /] docker search centos|head -3 #æœç´¢é•œåƒ NAME DESCRIPTION STARS OFFICIAL AUTOMATED centos The official build of CentOS. 4754 [OK] [root@localhost /] docker pull centos #ä¸‹è½½é•œåƒ Using default tag: latest............. Digest: sha256:6f6d986d425aeabdc3a02cb61c02abb2e78e57357e92417d6d58332856024faf Status: Downloaded newer image for centos:latest [root@localhost /] docker images #æŸ¥çœ‹é•œåƒ REPOSITORY TAG IMAGE ID CREATED SIZE centos latest 5182e96772bf 7 weeks ago 200MB docker åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼ˆå‰å°/åå°å¹¶æŒ‡å®šæ˜ å°„ç›®å½•å’Œç«¯å£ï¼‰ -iï¼šå…è®¸æˆ‘ä»¬å¯¹å®¹å™¨å†…çš„ (STDIN) è¿›è¡Œäº¤äº’ -tï¼šåœ¨æ–°å®¹å™¨å†…æŒ‡å®šä¸€ä¸ªä¼ªç»ˆç«¯æˆ–ç»ˆç«¯ -vï¼šæ˜¯æŒ‚åœ¨å®¿æœºç›®å½•ï¼Œ /docker_testæ˜¯å®¿æœºç›®å½•ï¼Œ/yufeiæ˜¯å½“å‰dockerå®¹å™¨çš„ç›®å½•ï¼Œå®¿æœºç›®å½•å¿…é¡»æ˜¯ç»å¯¹çš„ã€‚ --nameï¼šæ˜¯ç»™å®¹å™¨èµ·ä¸€ä¸ªåå­—ï¼Œå¯çœç•¥ï¼Œçœç•¥çš„è¯dockerä¼šéšæœºäº§ç”Ÿä¸€ä¸ªåå­— -P æŒ‡å®šæ˜ å°„çš„ç«¯å£ --net #æŒ‡å®šç½‘ç»œ --link é“¾æ¥åˆ°å¦ä¸€ä¸ªå®¹å™¨ -------------------------------------------------------------------------------------------------- docker run -it -v /test:/test --name centos /bin/bash #åˆ›å»ºå®¹å™¨å¹¶è¿›å…¥ï¼ˆäº¤äº’æ¨¡å¼é€€å‡ºä¼šåå®¹å™¨ä¼šè‡ªåŠ¨å…³é—­ï¼‰ docker run -d -v /test:/test centos tail -f /dev/null #åˆ›å»ºå®¹å™¨å¹¶æ”¾å…¥åå°è¿è¡Œï¼ˆé€€å‡ºå®¹å™¨ä¸ä¼šå…³é—­ï¼‰ docker run -dit -v /test:/test centos /bin/bash #åˆ›å»ºå®¹å™¨å¹¶æ”¾å…¥åå°è¿è¡Œï¼ˆè¿›å…¥åå°å’Œttyæ¨¡å¼ï¼Œé€€å‡ºå®¹å™¨ä¸ä¼šå…³é—­ï¼‰ docker run -d -v /test:/test -P 80:80 nginx:latest #åå°å¯åŠ¨å¹¶è¿åä¸ºnginxçš„å®¹å™¨ï¼Œç„¶åå°†å®¹å™¨çš„80ç«¯å£æ˜ å°„åˆ°ç‰©ç†æœºçš„80ç«¯å£. æŸ¥çœ‹dockeråˆ›å»ºçš„æ‰€æœ‰å®¹å™¨ [root@iZm5e3hwzuo58e05kxjiifZ rc.d] docker ps -a #æŸ¥çœ‹æ‰€æœ‰åˆ›å»ºçš„å®¹å™¨åŒ…æ‹¬å·²ç»åœæ­¢çš„å®¹å™¨ CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 70e151cd2766 centos â€œ/bin/bashâ€ 7 seconds ago Exited (0) 5 seconds ago zealous_mclean dfdf33852d47 centos â€œ/bin/bashâ€ 20 seconds ago Up 19 seconds frosty_saha [root@iZm5e3hwzuo58e05kxjiifZ rc.d] docker ps #æŸ¥çœ‹æ‰€æœ‰è¿è¡Œçš„å®¹å™¨ CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES dfdf33852d47 centos â€œ/bin/bashâ€ 22 seconds ago Up 21 seconds frosty_saha [root@iZm5e3hwzuo58e05kxjiifZ rc.d] docker ps -l #æŸ¥çœ‹æœ€æ–°åˆ›å»ºçš„å®¹å™¨ CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 70e151cd2766 centos â€œ/bin/bashâ€ 29 minutes ago Exited (0) 29 minutes ago zealous_mclean ``` docker åˆ©ç”¨å·²å­˜åœ¨çš„å®¹å™¨åˆ›å»ºä¸€ä¸ªé•œåƒï¼ˆDockerfileæ„å»ºé•œåƒç•¥ï¼‰ -a #æäº¤çš„é•œåƒä½œè€… -c #ä½¿ç”¨DockerfileæŒ‡ä»¤æ¥åˆ›å»ºé•œåƒ -m #æäº¤æ—¶é™„ä¸Šè¯´æ˜æ–‡å­— -p #åœ¨commitæ—¶ï¼Œå°†å®¹å™¨æš‚åœ ------------------------------------------------------------------------------------------- [root@iZm5e3hwzuo58e05kxjiifZ ~] docker commit -a \"ç‹äº‘é¾™\" -m \"åˆ›å»ºçš„æ–°é•œåƒ\" redis wyl5588redis-test sha256:9c2d2fc6e09cb35543fbb2467db90e741dc6b7daabab83924534bcfe6641bbe2 [root@iZm5e3hwzuo58e05kxjiifZ ~] docker images REPOSITORY TAG IMAGE ID CREATED SIZE wyl5588redis-test latest 9c2d2fc6e09c 3 seconds ago 83.4MB docker ä¿®æ”¹é•œåƒæ ‡ç­¾ï¼Œå¹¶æ¨é€ [root@iZm5e3hwzuo58e05kxjiifZ Dockerfile] docker tag centos 192.168.8.88:5000/centos:v1.0 #ç»™centosé•œåƒæ‰“ä¸€ä¸ªè¡Œçš„tag [root@iZm5e3hwzuo58e05kxjiifZ Dockerfile] docker images REPOSITORY TAG IMAGE ID CREATED SIZE 192.168.8.88:5000/centos v1.0 5182e96772bf 7 weeks ago 200MB centos latest 5182e96772bf 7 weeks ago 200MB [root@iZm5e3hwzuo58e05kxjiifZ Dockerfile]docker push 192.168.8.88:5000/centos:v1.0 #å°†æœ¬åœ°dockerä¸­çš„é•œåƒæ¨é€åˆ°é•œåƒä»“åº“ä¸­ dockeré•œåƒçš„å¯¼å…¥ï¼Œå¯¼å‡ºï¼Œåˆ é™¤ docker save 5588/mongo3.2 5588/redis 5588/nginx 5588/qiantai \u003eQiantai_images.tar #é•œåƒå¯¼å‡º docker load \u003c/Docker_Images/Qiantai.images.tar #é•œåƒå¯¼å…¥ docker rmi centos #åˆ é™¤centosé•œåƒ docker rmi -f centos #å¼ºåˆ¶åˆ é™¤ docker images -q #è·å–è¿›è¡Œçš„ID docker rmi -f $(docker images -q)#åˆ é™¤å…¨éƒ¨é•œåƒ docker å®¹å™¨ä¸å®¿ä¸»æœºæ–‡ä»¶æ‹·è´ [root@iZm5e3hwzuo58e05kxjiifZ ~] touch admin [root@iZm5e3hwzuo58e05kxjiifZ ~] docker cp ./admin nginx:/tmp/ [root@iZm5e3hwzuo58e05kxjiifZ ~] docker exec -it nginx /bin/bash root@aaefa2aebc8b:/ ls /tmp admin root@aaefa2aebc8b:/ touch /tmp/wyltest exit [root@iZm5e3hwzuo58e05kxjiifZ ~] docker cp -a nginx:/tmp/wyltest ./ Error: No such container:path: nginx:/tmp/* [root@iZm5e3hwzuo58e05kxjiifZ ~] docker cp -a nginx:/tmp/admin ./ æŸ¥çœ‹docker å®¹å™¨è¯¦æƒ…å¦‚ï¼šipç­‰ [root@iZm5e3hwzuo58e05kxjiifZ rc.d] docker inspect frosty_saha #æŸ¥çœ‹å®¹å™¨è¯¦æƒ…å¦‚ipç­‰frosty_sahaä¸ºå®¹å™¨åˆ«å [ { â€œIdâ€: â€œdfdf33852d470d0cd8e70a4b9aad36a00585579952834471159100aacea885d9â€, â€œCreatedâ€: â€œ2018-09-28T0","date":"2020-02-24","objectID":"/docker-%E5%B8%B8%E7%94%A8%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/:0:0","tags":["Linux","Docker"],"title":"Docker-å¸¸ç”¨åŸºç¡€å‘½ä»¤","uri":"/docker-%E5%B8%B8%E7%94%A8%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/"},{"categories":["Linux","vim"],"content":"è‡ªç”¨çš„vimrcé…ç½®æ–‡ä»¶å¤‡ä»½: \" encoding dectection set fileencodings=utf-8,gb2312,gb18030,gbk,ucs-bom,cp936,latin1 \" Set vundle settings here \" git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim set nocompatible \" be iMproved, required filetype off \" required \" set the runtime path to include Vundle and initialize set rtp+=~/.vim/bundle/Vundle.vim call vundle#begin() \" alternatively, pass a path where Vundle should install plugins \"call vundle#begin('~/some/path/here') \" let Vundle manage Vundle, required \"Plugin 'VundleVim/Vundle.vim' \"https://github.com/VundleVim/Vundle.vim Bundle 'Valloric/YouCompleteMe' Plugin 'gmarik/Vundle.vim' \" Custom plugins Plugin 'scrooloose/nerdtree' \"https://github.com/scrooloose/nerdtree Plugin 'MattesGroeger/vim-bookmarks' \"https://github.com/MattesGroeger/vim-bookmarks Plugin 'maciakl/vim-neatstatus' \"https://github.com/maciakl/vim-neatstatus \" All of your Plugins must be added before the following line call vundle#end() \" required filetype plugin indent on \" required \" To ignore plugin indent changes, instead use: \"filetype plugin on \" \" Brief help \" :PluginList - lists configured plugins \" :PluginInstall - installs plugins; append `!` to update or just :PluginUpdate \" :PluginSearch foo - searches for foo; append `!` to refresh local cache \" :PluginClean - confirms removal of unused plugins; append `!` to auto-approve removal \" \" see :h vundle for more details or wiki for FAQ \" Put your non-Plugin stuff after this line \" Vim5 and later versions support syntax highlighting. Uncommenting the \" following enables syntax highlighting by default. if has(\"syntax\") syntax on \" è¯­æ³•é«˜äº® endif \" Uncomment the following to have Vim jump to the last position when \" reopening a file if has(\"autocmd\") au BufReadPost * if line(\"'\\\"\") \u003e 1 \u0026\u0026 line(\"'\\\"\") \u003c= line(\"$\") | exe \"normal! g'\\\"\" | endif \"have Vim load indentation rules and plugins according to the detected \"filetype on \"filetype plugin indent on endif set number set autoindent set softtabstop=4 \" è®¾ç½®è½¯åˆ¶è¡¨ç¬¦çš„å®½åº¦ set shiftwidth=4 \" (è‡ªåŠ¨) ç¼©è¿›ä½¿ç”¨çš„4ä¸ªç©ºæ ¼ set tabstop=4 \" è®¾ç½®åˆ¶è¡¨ç¬¦(tabé”®)çš„å®½åº¦ set expandtab \" è¡Œé¦–tabè½¬æ¢ä¸º4ä¸ªç©ºæ ¼ set cindent \" ä½¿ç”¨ C/C++ è¯­è¨€çš„è‡ªåŠ¨ç¼©è¿›æ–¹å¼ set cinoptions={0,1s,t0,n-2,p2s,(03s,=.5s,\u003e1s,=1s,:1s \"è®¾ç½®C/C++è¯­è¨€çš„å…·ä½“ç¼©è¿›æ–¹å¼ set showmatch \" è®¾ç½®åŒ¹é…æ¨¡å¼ï¼Œæ˜¾ç¤ºåŒ¹é…çš„æ‹¬å· set linebreak \" æ•´è¯æ¢è¡Œ set whichwrap=b,s,\u003c,\u003e,[,] \" å…‰æ ‡ä»è¡Œé¦–å’Œè¡Œæœ«æ—¶å¯ä»¥è·³åˆ°å¦ä¸€è¡Œå» set ruler \" æ ‡å°ºï¼Œç”¨äºæ˜¾ç¤ºå…‰æ ‡ä½ç½®çš„è¡Œå·å’Œåˆ—å·ï¼Œé€—å·åˆ†éš”ã€‚æ¯ä¸ªçª—å£éƒ½æœ‰è‡ªå·±çš„æ ‡å°ºã€‚å¦‚æœçª—å£æœ‰çŠ¶æ€è¡Œï¼Œæ ‡å°ºåœ¨é‚£é‡Œæ˜¾ç¤ºã€‚å¦åˆ™ï¼Œå®ƒæ˜¾ç¤ºåœ¨å±å¹•çš„æœ€åä¸€è¡Œä¸Š set showcmd \" å‘½ä»¤è¡Œæ˜¾ç¤ºè¾“å…¥çš„å‘½ä»¤ set showmode \" å‘½ä»¤è¡Œæ˜¾ç¤ºvimå½“å‰æ¨¡å¼ set incsearch \" è¾“å…¥å­—ç¬¦ä¸²å°±æ˜¾ç¤ºåŒ¹é…ç‚¹ set hlsearch set enc=utf-8 \" æ–‡ä»¶ç¼–ç  set cursorline set cursorcolumn highlight CursorLine cterm=NONE ctermbg=blue ctermfg=white guibg=NONE guifg=NONE \"highlight CursorColumn cterm=NONE ctermbg=green ctermfg=NONE guibg=NONE guifg=NONE highlight CursorColumn cterm=NONE ctermbg=darkred ctermfg=white guibg=darkred guifg=white \" NERDTree settings autocmd StdinReadPre * let s:std_in=1 autocmd VimEnter * if argc() == 0 \u0026\u0026 !exists(\"s:std_in\") | NERDTree | endif \" vim-bookmarks settings let g:bookmark_auto_close = 1 let g:bookmark_save_per_working_dir = 1 let g:bookmark_highlight_lines = 1 let g:bookmark_center = 1 let g:bookmark_location_list = 1 \" key mapping :inoremap { {}\u003cESC\u003ei :map \u003cf2\u003e :NERDTreeToggle\u003cCR\u003e ","date":"2020-02-24","objectID":"/vimrc-%E5%A4%87%E4%BB%BD/:0:0","tags":["vim","Linux"],"title":".vimrc-å¤‡ä»½","uri":"/vimrc-%E5%A4%87%E4%BB%BD/"},{"categories":null,"content":"\r\r404\r\r\r\r\r\r","date":"0001-01-01","objectID":"/404/:0:0","tags":null,"title":"404","uri":"/404/"},{"categories":["Linux"],"content":"æœ‰æ—¶å€™ï¼Œåœ¨Linuxç³»ç»Ÿä¸­rmåˆ é™¤æ–‡ä»¶åï¼Œä½¿ç”¨dfæŸ¥çœ‹ç©ºé—´å ç”¨æƒ…å†µæ—¶ä¼šå‘ç°ï¼Œå ç”¨ç©ºé—´å¹¶æ²¡æœ‰å‡å°‘ã€‚è¿™å¾€å¾€éƒ½æ˜¯å› ä¸ºè¢«åˆ é™¤çš„æ–‡ä»¶è¿˜è¢«æŸäº›è¿›ç¨‹å ç”¨ç€ï¼Œä»è€Œå¯¼è‡´æ–‡ä»¶å·²ç»åˆ é™¤äº†ä½†æ˜¯ç©ºé—´å¹¶æ²¡æœ‰çœŸæ­£çš„é‡Šæ”¾ã€‚ è¿™æ—¶å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹ï¼Œæœ‰å“ªäº›è¿›ç¨‹å ç”¨ç€è¢«åˆ é™¤æ–‡ä»¶ï¼š lsof | grep deleted æœ€åï¼Œå°±å¯ä»¥é€šè¿‡æ€æ‰è¿™äº›è¿›ç¨‹çš„æ–¹å¼æ—¶ç³»ç»Ÿå¯ä»¥å›æ”¶ç©ºé—´ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š lsof | grep delete | xargs kill -s 9 ","date":"0001-01-01","objectID":"/linux%E4%B8%8A%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E5%90%8E%E7%A9%BA%E9%97%B4%E6%B2%A1%E6%9C%89%E8%A2%AB%E9%87%8A%E6%94%BE/:0:0","tags":["Linux"],"title":"Linuxä¸Šåˆ é™¤æ–‡ä»¶åç©ºé—´æ²¡æœ‰è¢«é‡Šæ”¾","uri":"/linux%E4%B8%8A%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E5%90%8E%E7%A9%BA%E9%97%B4%E6%B2%A1%E6%9C%89%E8%A2%AB%E9%87%8A%E6%94%BE/"},{"categories":["Linux"],"content":"Linux ç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹linuxå¯åŠ¨æ—¶æˆ‘ä»¬ä¼šçœ‹åˆ°è®¸å¤šå¯åŠ¨ä¿¡æ¯ã€‚ Linuxç³»ç»Ÿçš„å¯åŠ¨è¿‡ç¨‹å¹¶ä¸æ˜¯å¤§å®¶æƒ³è±¡ä¸­çš„é‚£ä¹ˆå¤æ‚ï¼Œå…¶è¿‡ç¨‹å¯ä»¥åˆ†ä¸º5ä¸ªé˜¶æ®µï¼š å†…æ ¸çš„å¼•å¯¼ã€‚ è¿è¡Œ initã€‚ ç³»ç»Ÿåˆå§‹åŒ–ã€‚ å»ºç«‹ç»ˆç«¯ ã€‚ ç”¨æˆ·ç™»å½•ç³»ç»Ÿã€‚ initç¨‹åºçš„ç±»å‹ï¼š SysV: init, CentOS 5ä¹‹å‰, é…ç½®æ–‡ä»¶ï¼š /etc/inittabã€‚ Upstart: init,CentOS 6, é…ç½®æ–‡ä»¶ï¼š /etc/inittab, /etc/init/*.confã€‚ Systemdï¼š systemd, CentOS 7,é…ç½®æ–‡ä»¶ï¼š /usr/lib/systemd/systemã€ /etc/systemd/systemã€‚ ","date":"0001-01-01","objectID":"/linux%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/:0:0","tags":["Linux"],"title":"Linuxç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹","uri":"/linux%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/"},{"categories":["Linux"],"content":"å†…æ ¸å¼•å¯¼ å½“è®¡ç®—æœºæ‰“å¼€ç”µæºåï¼Œé¦–å…ˆæ˜¯BIOSå¼€æœºè‡ªæ£€ï¼ŒæŒ‰ç…§BIOSä¸­è®¾ç½®çš„å¯åŠ¨è®¾å¤‡ï¼ˆé€šå¸¸æ˜¯ç¡¬ç›˜ï¼‰æ¥å¯åŠ¨ã€‚ æ“ä½œç³»ç»Ÿæ¥ç®¡ç¡¬ä»¶ä»¥åï¼Œé¦–å…ˆè¯»å…¥ /boot ç›®å½•ä¸‹çš„å†…æ ¸æ–‡ä»¶ã€‚ ","date":"0001-01-01","objectID":"/linux%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/:1:0","tags":["Linux"],"title":"Linuxç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹","uri":"/linux%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/"},{"categories":["Linux"],"content":"è¿è¡Œinit init è¿›ç¨‹æ˜¯ç³»ç»Ÿæ‰€æœ‰è¿›ç¨‹çš„èµ·ç‚¹ï¼Œä½ å¯ä»¥æŠŠå®ƒæ¯”æ‹Ÿæˆç³»ç»Ÿæ‰€æœ‰è¿›ç¨‹çš„è€ç¥–å®—ï¼Œæ²¡æœ‰è¿™ä¸ªè¿›ç¨‹ï¼Œç³»ç»Ÿä¸­ä»»ä½•è¿›ç¨‹éƒ½ä¸ä¼šå¯åŠ¨ã€‚ init ç¨‹åºé¦–å…ˆæ˜¯éœ€è¦è¯»å–é…ç½®æ–‡ä»¶ /etc/inittabã€‚ ","date":"0001-01-01","objectID":"/linux%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/:2:0","tags":["Linux"],"title":"Linuxç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹","uri":"/linux%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/"},{"categories":["Linux"],"content":"è¿è¡Œçº§åˆ« è®¸å¤šç¨‹åºéœ€è¦å¼€æœºå¯åŠ¨ã€‚å®ƒä»¬åœ¨Windowså«åš\"æœåŠ¡\"ï¼ˆserviceï¼‰ï¼Œåœ¨Linuxå°±å«åš\"å®ˆæŠ¤è¿›ç¨‹\"ï¼ˆdaemonï¼‰ã€‚ initè¿›ç¨‹çš„ä¸€å¤§ä»»åŠ¡ï¼Œå°±æ˜¯å»è¿è¡Œè¿™äº›å¼€æœºå¯åŠ¨çš„ç¨‹åºã€‚ ä½†æ˜¯ï¼Œä¸åŒçš„åœºåˆéœ€è¦å¯åŠ¨ä¸åŒçš„ç¨‹åºï¼Œæ¯”å¦‚ç”¨ä½œæœåŠ¡å™¨æ—¶ï¼Œéœ€è¦å¯åŠ¨Apacheï¼Œç”¨ä½œæ¡Œé¢å°±ä¸éœ€è¦ã€‚ Linuxå…è®¸ä¸ºä¸åŒçš„åœºåˆï¼Œåˆ†é…ä¸åŒçš„å¼€æœºå¯åŠ¨ç¨‹åºï¼Œè¿™å°±å«åš\"è¿è¡Œçº§åˆ«\"ï¼ˆrunlevelï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯åŠ¨æ—¶æ ¹æ®\"è¿è¡Œçº§åˆ«\"ï¼Œç¡®å®šè¦è¿è¡Œå“ªäº›ç¨‹åºã€‚ Linuxç³»ç»Ÿæœ‰7ä¸ªè¿è¡Œçº§åˆ«(runlevel)ï¼š è¿è¡Œçº§åˆ«0ï¼šç³»ç»ŸåœæœºçŠ¶æ€ï¼Œç³»ç»Ÿé»˜è®¤è¿è¡Œçº§åˆ«ä¸èƒ½è®¾ä¸º0ï¼Œå¦åˆ™ä¸èƒ½æ­£å¸¸å¯åŠ¨ è¿è¡Œçº§åˆ«1ï¼šå•ç”¨æˆ·å·¥ä½œçŠ¶æ€ï¼Œrootæƒé™ï¼Œç”¨äºç³»ç»Ÿç»´æŠ¤ï¼Œç¦æ­¢è¿œç¨‹ç™»é™† è¿è¡Œçº§åˆ«2ï¼šå¤šç”¨æˆ·çŠ¶æ€(æ²¡æœ‰NFS) è¿è¡Œçº§åˆ«3ï¼šå®Œå…¨çš„å¤šç”¨æˆ·çŠ¶æ€(æœ‰NFS)ï¼Œç™»é™†åè¿›å…¥æ§åˆ¶å°å‘½ä»¤è¡Œæ¨¡å¼ è¿è¡Œçº§åˆ«4ï¼šç³»ç»Ÿæœªä½¿ç”¨ï¼Œä¿ç•™ è¿è¡Œçº§åˆ«5ï¼šX11æ§åˆ¶å°ï¼Œç™»é™†åè¿›å…¥å›¾å½¢GUIæ¨¡å¼ è¿è¡Œçº§åˆ«6ï¼šç³»ç»Ÿæ­£å¸¸å…³é—­å¹¶é‡å¯ï¼Œé»˜è®¤è¿è¡Œçº§åˆ«ä¸èƒ½è®¾ä¸º6ï¼Œå¦åˆ™ä¸èƒ½æ­£å¸¸å¯åŠ¨ ##ç³»ç»Ÿåˆå§‹åŒ– åœ¨initçš„é…ç½®æ–‡ä»¶ä¸­æœ‰è¿™ä¹ˆä¸€è¡Œï¼š si::sysinit:/etc/rc.d/rc.sysinitã€€å®ƒè°ƒç”¨æ‰§è¡Œäº†/etc/rc.d/rc.sysinitï¼Œè€Œrc.sysinitæ˜¯ä¸€ä¸ªbash shellçš„è„šæœ¬ï¼Œå®ƒä¸»è¦æ˜¯å®Œæˆä¸€äº›ç³»ç»Ÿåˆå§‹åŒ–çš„å·¥ä½œï¼Œrc.sysinitæ˜¯æ¯ä¸€ä¸ªè¿è¡Œçº§åˆ«éƒ½è¦é¦–å…ˆè¿è¡Œçš„é‡è¦è„šæœ¬ã€‚ å®ƒä¸»è¦å®Œæˆçš„å·¥ä½œæœ‰ï¼šæ¿€æ´»äº¤æ¢åˆ†åŒºï¼Œæ£€æŸ¥ç£ç›˜ï¼ŒåŠ è½½ç¡¬ä»¶æ¨¡å—ä»¥åŠå…¶å®ƒä¸€äº›éœ€è¦ä¼˜å…ˆæ‰§è¡Œä»»åŠ¡ã€‚ l5:5:wait:/etc/rc.d/rc 5 è¿™ä¸€è¡Œè¡¨ç¤ºä»¥5ä¸ºå‚æ•°è¿è¡Œ/etc/rc.d/rcï¼Œ/etc/rc.d/rcæ˜¯ä¸€ä¸ªShellè„šæœ¬ï¼Œå®ƒæ¥å—5ä½œä¸ºå‚æ•°ï¼Œå»æ‰§è¡Œ/etc/rc.d/rc5.d/ç›®å½•ä¸‹çš„æ‰€æœ‰çš„rcå¯åŠ¨è„šæœ¬ï¼Œ/etc/rc.d/rc5.d/ç›®å½•ä¸­çš„è¿™äº›å¯åŠ¨è„šæœ¬å®é™…ä¸Šéƒ½æ˜¯ä¸€äº›è¿æ¥æ–‡ä»¶ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„rcå¯åŠ¨è„šæœ¬ï¼ŒçœŸæ­£çš„rcå¯åŠ¨è„šæœ¬å®é™…ä¸Šéƒ½æ˜¯æ”¾åœ¨/etc/rc.d/init.d/ç›®å½•ä¸‹ã€‚ è€Œè¿™äº›rcå¯åŠ¨è„šæœ¬æœ‰ç€ç±»ä¼¼çš„ç”¨æ³•ï¼Œå®ƒä»¬ä¸€èˆ¬èƒ½æ¥å—startã€stopã€restartã€statusç­‰å‚æ•°ã€‚ /etc/rc.d/rc5.d/ä¸­çš„rcå¯åŠ¨è„šæœ¬é€šå¸¸æ˜¯Kæˆ–Så¼€å¤´çš„è¿æ¥æ–‡ä»¶ï¼Œå¯¹äºä»¥ S å¼€å¤´çš„å¯åŠ¨è„šæœ¬ï¼Œå°†ä»¥startå‚æ•°æ¥è¿è¡Œã€‚ è€Œå¦‚æœå‘ç°å­˜åœ¨ç›¸åº”çš„è„šæœ¬ä¹Ÿå­˜åœ¨Kæ‰“å¤´çš„è¿æ¥ï¼Œè€Œä¸”å·²ç»å¤„äºè¿è¡Œæ€äº†(ä»¥/var/lock/subsys/ä¸‹çš„æ–‡ä»¶ä½œä¸ºæ ‡å¿—)ï¼Œåˆ™å°†é¦–å…ˆä»¥stopä¸ºå‚æ•°åœæ­¢è¿™äº›å·²ç»å¯åŠ¨äº†çš„å®ˆæŠ¤è¿›ç¨‹ï¼Œç„¶åå†é‡æ–°è¿è¡Œã€‚ è¿™æ ·åšæ˜¯ä¸ºäº†ä¿è¯æ˜¯å½“initæ”¹å˜è¿è¡Œçº§åˆ«æ—¶ï¼Œæ‰€æœ‰ç›¸å…³çš„å®ˆæŠ¤è¿›ç¨‹éƒ½å°†é‡å¯ã€‚ è‡³äºåœ¨æ¯ä¸ªè¿è¡Œçº§ä¸­å°†è¿è¡Œå“ªäº›å®ˆæŠ¤è¿›ç¨‹ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡chkconfigæˆ–setupä¸­çš„\"System Services\"æ¥è‡ªè¡Œè®¾å®šã€‚ ","date":"0001-01-01","objectID":"/linux%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/:3:0","tags":["Linux"],"title":"Linuxç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹","uri":"/linux%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/"},{"categories":["Linux"],"content":"å»ºç«‹ç»ˆç«¯ rcæ‰§è¡Œå®Œæ¯•åï¼Œè¿”å›initã€‚è¿™æ—¶åŸºæœ¬ç³»ç»Ÿç¯å¢ƒå·²ç»è®¾ç½®å¥½äº†ï¼Œå„ç§å®ˆæŠ¤è¿›ç¨‹ä¹Ÿå·²ç»å¯åŠ¨äº†ã€‚ initæ¥ä¸‹æ¥ä¼šæ‰“å¼€6ä¸ªç»ˆç«¯ï¼Œä»¥ä¾¿ç”¨æˆ·ç™»å½•ç³»ç»Ÿã€‚åœ¨inittabä¸­çš„ä»¥ä¸‹6è¡Œå°±æ˜¯å®šä¹‰äº†6ä¸ªç»ˆç«¯ï¼š 1:2345:respawn:/sbin/mingetty tty1 2:2345:respawn:/sbin/mingetty tty2 3:2345:respawn:/sbin/mingetty tty3 4:2345:respawn:/sbin/mingetty tty4 5:2345:respawn:/sbin/mingetty tty5 6:2345:respawn:/sbin/mingetty tty6 ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºåœ¨2ã€3ã€4ã€5çš„è¿è¡Œçº§åˆ«ä¸­éƒ½å°†ä»¥respawnæ–¹å¼è¿è¡Œmingettyç¨‹åºï¼Œmingettyç¨‹åºèƒ½æ‰“å¼€ç»ˆç«¯ã€è®¾ç½®æ¨¡å¼ã€‚ åŒæ—¶å®ƒä¼šæ˜¾ç¤ºä¸€ä¸ªæ–‡æœ¬ç™»å½•ç•Œé¢ï¼Œè¿™ä¸ªç•Œé¢å°±æ˜¯æˆ‘ä»¬ç»å¸¸çœ‹åˆ°çš„ç™»å½•ç•Œé¢ï¼Œåœ¨è¿™ä¸ªç™»å½•ç•Œé¢ä¸­ä¼šæç¤ºç”¨æˆ·è¾“å…¥ç”¨æˆ·åï¼Œè€Œç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·å°†ä½œä¸ºå‚æ•°ä¼ ç»™loginç¨‹åºæ¥éªŒè¯ç”¨æˆ·çš„èº«ä»½ã€‚ ##ç”¨æˆ·ç™»å½•ç³»ç»Ÿ ä¸€èˆ¬æ¥è¯´ï¼Œç”¨æˆ·çš„ç™»å½•æ–¹å¼æœ‰ä¸‰ç§ï¼š ï¼ˆ1ï¼‰å‘½ä»¤è¡Œç™»å½• ï¼ˆ2ï¼‰sshç™»å½• ï¼ˆ3ï¼‰å›¾å½¢ç•Œé¢ç™»å½• å¯¹äºè¿è¡Œçº§åˆ«ä¸º5çš„å›¾å½¢æ–¹å¼ç”¨æˆ·æ¥è¯´ï¼Œä»–ä»¬çš„ç™»å½•æ˜¯é€šè¿‡ä¸€ä¸ªå›¾å½¢åŒ–çš„ç™»å½•ç•Œé¢ã€‚ç™»å½•æˆåŠŸåå¯ä»¥ç›´æ¥è¿›å…¥ KDEã€Gnome ç­‰çª—å£ç®¡ç†å™¨ã€‚ è€Œæœ¬æ–‡ä¸»è¦è®²çš„è¿˜æ˜¯æ–‡æœ¬æ–¹å¼ç™»å½•çš„æƒ…å†µï¼šå½“æˆ‘ä»¬çœ‹åˆ°mingettyçš„ç™»å½•ç•Œé¢æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¾“å…¥ç”¨æˆ·åå’Œå¯†ç æ¥ç™»å½•ç³»ç»Ÿäº†ã€‚ Linux çš„è´¦å·éªŒè¯ç¨‹åºæ˜¯ loginï¼Œlogin ä¼šæ¥æ”¶ mingetty ä¼ æ¥çš„ç”¨æˆ·åä½œä¸ºç”¨æˆ·åå‚æ•°ã€‚ ç„¶å login ä¼šå¯¹ç”¨æˆ·åè¿›è¡Œåˆ†æï¼šå¦‚æœç”¨æˆ·åä¸æ˜¯ rootï¼Œä¸”å­˜åœ¨ /etc/nologin æ–‡ä»¶ï¼Œlogin å°†è¾“å‡º nologin æ–‡ä»¶çš„å†…å®¹ï¼Œç„¶åé€€å‡ºã€‚ è¿™é€šå¸¸ç”¨æ¥ç³»ç»Ÿç»´æŠ¤æ—¶é˜²æ­¢érootç”¨æˆ·ç™»å½•ã€‚åªæœ‰/etc/securettyä¸­ç™»è®°äº†çš„ç»ˆç«¯æ‰å…è®¸ root ç”¨æˆ·ç™»å½•ï¼Œå¦‚æœä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶ï¼Œåˆ™ root ç”¨æˆ·å¯ä»¥åœ¨ä»»ä½•ç»ˆç«¯ä¸Šç™»å½•ã€‚ /etc/userttyæ–‡ä»¶ç”¨äºå¯¹ç”¨æˆ·ä½œå‡ºé™„åŠ è®¿é—®é™åˆ¶ï¼Œå¦‚æœä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶ï¼Œåˆ™æ²¡æœ‰å…¶ä»–é™åˆ¶ã€‚ ","date":"0001-01-01","objectID":"/linux%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/:4:0","tags":["Linux"],"title":"Linuxç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹","uri":"/linux%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/"},{"categories":["Linux"],"content":"å›¾å½¢æ¨¡å¼ä¸æ–‡å­—æ¨¡å¼çš„åˆ‡æ¢æ–¹å¼ Linuxé¢„è®¾æä¾›äº†å…­ä¸ªå‘½ä»¤çª—å£ç»ˆç«¯æœºè®©æˆ‘ä»¬æ¥ç™»å½•ã€‚ é»˜è®¤æˆ‘ä»¬ç™»å½•çš„å°±æ˜¯ç¬¬ä¸€ä¸ªçª—å£ï¼Œä¹Ÿå°±æ˜¯tty1ï¼Œè¿™ä¸ªå…­ä¸ªçª—å£åˆ†åˆ«ä¸ºtty1,tty2 â€¦ tty6ï¼Œä½ å¯ä»¥æŒ‰ä¸‹Ctrl + Alt + F1 ~ F6 æ¥åˆ‡æ¢å®ƒä»¬ã€‚ å¦‚æœä½ å®‰è£…äº†å›¾å½¢ç•Œé¢ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯è¿›å…¥å›¾å½¢ç•Œé¢çš„ï¼Œæ­¤æ—¶ä½ å°±å¯ä»¥æŒ‰Ctrl + Alt + F1 ~ F6æ¥è¿›å…¥å…¶ä¸­ä¸€ä¸ªå‘½ä»¤çª—å£ç•Œé¢ã€‚ å½“ä½ è¿›å…¥å‘½ä»¤çª—å£ç•Œé¢åå†è¿”å›å›¾å½¢ç•Œé¢åªè¦æŒ‰ä¸‹Ctrl + Alt + F7 å°±å›æ¥äº†ã€‚ å¦‚æœä½ ç”¨çš„vmware è™šæ‹Ÿæœºï¼Œå‘½ä»¤çª—å£åˆ‡æ¢çš„å¿«æ·é”®ä¸º Alt + Space + F1~F6. å¦‚æœä½ åœ¨å›¾å½¢ç•Œé¢ä¸‹è¯·æŒ‰Alt + Shift + Ctrl + F1~F6 åˆ‡æ¢è‡³å‘½ä»¤çª—å£ã€‚ ","date":"0001-01-01","objectID":"/linux%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/:5:0","tags":["Linux"],"title":"Linuxç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹","uri":"/linux%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/"},{"categories":["Linux"],"content":"Linux å…³æœº åœ¨linuxé¢†åŸŸå†…å¤§å¤šç”¨åœ¨æœåŠ¡å™¨ä¸Šï¼Œå¾ˆå°‘é‡åˆ°å…³æœºçš„æ“ä½œã€‚æ¯•ç«ŸæœåŠ¡å™¨ä¸Šè·‘ä¸€ä¸ªæœåŠ¡æ˜¯æ°¸æ— æ­¢å¢ƒçš„ï¼Œé™¤éç‰¹æ®Šæƒ…å†µä¸‹ï¼Œä¸å¾—å·²æ‰ä¼šå…³æœºã€‚ æ­£ç¡®çš„å…³æœºæµç¨‹ä¸ºï¼šsync \u003e shutdown \u003e reboot \u003e halt å…³æœºæŒ‡ä»¤ä¸ºï¼šshutdown ï¼Œä½ å¯ä»¥man shutdown æ¥çœ‹ä¸€ä¸‹å¸®åŠ©æ–‡æ¡£ã€‚ ä¾‹å¦‚ä½ å¯ä»¥è¿è¡Œå¦‚ä¸‹å‘½ä»¤å…³æœºï¼š sync #å°†æ•°æ®ç”±å†…å­˜åŒæ­¥åˆ°ç¡¬ç›˜ä¸­ã€‚ shutdown #å…³æœºæŒ‡ä»¤ï¼Œä½ å¯ä»¥man shutdown æ¥çœ‹ä¸€ä¸‹å¸®åŠ©æ–‡æ¡£ã€‚ä¾‹å¦‚ä½ å¯ä»¥è¿è¡Œå¦‚ä¸‹å‘½ä»¤å…³æœºï¼š shutdown â€“h 10 â€˜This server will shutdown after 10 minsâ€™ #è¿™ä¸ªå‘½ä»¤å‘Šè¯‰å¤§å®¶ï¼Œè®¡ç®—æœºå°†åœ¨10åˆ†é’Ÿåå…³æœºï¼Œå¹¶ä¸”ä¼šæ˜¾ç¤ºåœ¨ç™»é™†ç”¨æˆ·çš„å½“å‰å±å¹•ä¸­ã€‚ shutdown â€“h now #ç«‹é©¬å…³æœº shutdown â€“h 20:25 #ç³»ç»Ÿä¼šåœ¨ä»Šå¤©20:25å…³æœº shutdown â€“h +10 #ååˆ†é’Ÿåå…³æœº shutdown â€“r now #ç³»ç»Ÿç«‹é©¬é‡å¯ shutdown â€“r +10 #ç³»ç»Ÿååˆ†é’Ÿåé‡å¯ reboot #å°±æ˜¯é‡å¯ï¼Œç­‰åŒäº shutdown â€“r now halt #å…³é—­ç³»ç»Ÿï¼Œç­‰åŒäºshutdown â€“h now å’Œ poweroff æœ€åæ€»ç»“ä¸€ä¸‹ï¼Œä¸ç®¡æ˜¯é‡å¯ç³»ç»Ÿè¿˜æ˜¯å…³é—­ç³»ç»Ÿï¼Œé¦–å…ˆè¦è¿è¡Œ sync å‘½ä»¤ï¼ŒæŠŠå†…å­˜ä¸­çš„æ•°æ®å†™åˆ°ç£ç›˜ä¸­ã€‚ å…³æœºçš„å‘½ä»¤æœ‰ shutdown â€“h now halt poweroff å’Œ init 0 , é‡å¯ç³»ç»Ÿçš„å‘½ä»¤æœ‰ shutdown â€“r now reboot init 6ã€‚ ","date":"0001-01-01","objectID":"/linux%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/:6:0","tags":["Linux"],"title":"Linuxç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹","uri":"/linux%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B/"},{"categories":["NTP","Network"],"content":"ä¸€.æ¦‚è¿° NTP (Network Time Protocol, ç½‘ç»œæ—¶é—´åè®®) æ˜¯ç”± RFC 5905 å®šä¹‰çš„æ—¶é—´åŒæ­¥åè®®, ç”¨æ¥åœ¨åˆ†å¸ƒå¼æ—¶é—´æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´è¿›è¡Œæ—¶é—´åŒæ­¥, æ˜¯ä¸€ä¸ªè·¨è¶Šå¹¿åŸŸç½‘æˆ–å±€åŸŸç½‘çš„å¤æ‚çš„åŒæ­¥æ—¶é—´åè®®, å®ƒé€šå¸¸å¯è·å¾—æ¯«ç§’çº§çš„ç²¾åº¦. NTP åŸºäº UDP æŠ¥æ–‡è¿›è¡Œä¼ è¾“, ä½¿ç”¨çš„UDPç«¯å£å·ä¸º 123. ä½¿ç”¨ NTP çš„ç›®çš„æ˜¯å¯¹ç½‘ç»œå†…æ‰€æœ‰å…·æœ‰æ—¶é’Ÿçš„è®¾å¤‡è¿›è¡Œæ—¶é’ŸåŒæ­¥, ä½¿ç½‘ç»œå†…æ‰€æœ‰è®¾å¤‡çš„æ—¶é’Ÿä¿æŒä¸€è‡´, ä»è€Œä½¿è®¾å¤‡èƒ½å¤Ÿæä¾›åŸºäºç»Ÿä¸€æ—¶é—´çš„å¤šç§åº”ç”¨. å¯¹äºè¿è¡Œ NTP çš„æœ¬åœ°ç³»ç»Ÿ, æ—¢å¯ä»¥æ¥æ”¶æ¥è‡ªå…¶ä»–æ—¶é’Ÿæºçš„åŒæ­¥, åˆå¯ä»¥ä½œä¸ºæ—¶é’ŸæºåŒæ­¥å…¶ä»–çš„æ—¶é’Ÿ, å¹¶ä¸”å¯ä»¥å’Œå…¶ä»–è®¾å¤‡ç›¸äº’åŒæ­¥. ","date":"0001-01-01","objectID":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/:1:0","tags":["NTP","Network","Linux"],"title":"NTPåè®®ç®€å•åˆ†æ","uri":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/"},{"categories":["NTP","Network"],"content":"äºŒ.å·¥ä½œåŸç† ","date":"0001-01-01","objectID":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/:2:0","tags":["NTP","Network","Linux"],"title":"NTPåè®®ç®€å•åˆ†æ","uri":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/"},{"categories":["NTP","Network"],"content":"å®ç°æ–¹å¼ æ— çº¿æ—¶é’Ÿ: æœåŠ¡å™¨ç³»ç»Ÿå¯ä»¥é€šè¿‡ä¸²å£è¿æ¥ä¸€ä¸ªæ— çº¿æ—¶é’Ÿ. æ— çº¿æ—¶é’Ÿæ¥æ”¶ GPS çš„å«æ˜Ÿå‘å°„çš„ä¿¡å·æ¥å†³å®šå½“å‰æ—¶é—´. æ— çº¿æ—¶é’Ÿæ˜¯ä¸€ä¸ªéå¸¸ç²¾ç¡®çš„æ—¶é—´æº, ä½†æ˜¯éœ€è¦èŠ±ä¸€å®šçš„è´¹ç”¨. æ—¶é—´æœåŠ¡å™¨: è¿˜å¯ä»¥ä½¿ç”¨ç½‘ç»œä¸­ NTP æ—¶é—´æœåŠ¡å™¨, é€šè¿‡è¿™ä¸ªæœåŠ¡å™¨æ¥åŒæ­¥ç½‘ç»œä¸­çš„ç³»ç»Ÿçš„æ—¶é’Ÿ. å±€åŸŸç½‘å†…çš„åŒæ­¥: å¦‚æœåªæ˜¯éœ€è¦åœ¨æœ¬å±€åŸŸç½‘å†…è¿›è¡Œç³»ç»Ÿé—´çš„æ—¶é’ŸåŒæ­¥, é‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨å±€åŸŸç½‘ä¸­ä»»ä½•ä¸€ä¸ªç³»ç»Ÿçš„æ—¶é’Ÿ. ä½ éœ€è¦é€‰æ‹©å±€åŸŸç½‘ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶é’Ÿä½œâ€æƒå¨çš„â€çš„æ—¶é—´æº, ç„¶åå…¶å®ƒçš„èŠ‚ç‚¹å°±åªéœ€è¦ä¸è¿™ä¸ªæ—¶é—´æºè¿›è¡Œæ—¶é—´åŒæ­¥å³å¯. ä½¿ç”¨è¿™ç§æ–¹å¼, æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½ä¼šä½¿ç”¨ä¸€ä¸ªå…¬å…±çš„ç³»ç»Ÿæ—¶é’Ÿ, ä½†æ˜¯ä¸éœ€è¦å’Œå±€åŸŸç½‘å¤–çš„ç³»ç»Ÿè¿›è¡Œæ—¶é’ŸåŒæ­¥. å¦‚æœä¸€ä¸ªç³»ç»Ÿåœ¨ä¸€ä¸ªå±€åŸŸç½‘çš„å†…éƒ¨, åŒæ—¶åˆä¸èƒ½ä½¿ç”¨æ— çº¿æ—¶é’Ÿ, è¿™ç§æ–¹å¼æ˜¯æœ€å¥½çš„é€‰æ‹©. ","date":"0001-01-01","objectID":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/:2:1","tags":["NTP","Network","Linux"],"title":"NTPåè®®ç®€å•åˆ†æ","uri":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/"},{"categories":["NTP","Network"],"content":"å·¥ä½œæµç¨‹ Device A å’Œ Device B é€šè¿‡ç½‘ç»œç›¸è¿, æœ‰è‡ªå·±ç‹¬ç«‹çš„ç³»ç»Ÿæ—¶é’Ÿ, é€šè¿‡ NTP å®ç°å„è‡ªç³»ç»Ÿæ—¶é’Ÿçš„è‡ªåŠ¨åŒæ­¥. Device A å’Œ Device B çš„ç³»ç»Ÿæ—¶é’ŸåŒæ­¥ä¹‹å‰, Device A çš„æ—¶é’Ÿè®¾å®šä¸º 10:00:00 AM, Device B çš„æ—¶é’Ÿè®¾å®šä¸º 11:00:00 AM. Device B ä½œä¸º NTP æ—¶é—´æœåŠ¡å™¨, å³ Device A ä½¿è‡ªå·±çš„æ—¶é’Ÿä¸ Device B æ—¶é’ŸåŒæ­¥. NTP æŠ¥æ–‡åœ¨ Device A å’Œ Device B ä¹‹é—´å•å‘ä¼ è¾“æ‰€éœ€è¦çš„æ—¶é—´ä¸º 1s. Device A å‘é€ä¸€ä¸ªNTPæŠ¥æ–‡ç»™ Device B, è¯¥æŠ¥æ–‡å¸¦æœ‰å®ƒç¦»å¼€ Device A æ—¶çš„æ—¶é—´æˆ³, è¯¥æ—¶é—´æˆ³ä¸º 10:00:00 AM (T1). å½“æ­¤ NTP æŠ¥æ–‡åˆ°è¾¾ Device B æ—¶, Device B åŠ ä¸Šè‡ªå·±çš„æ—¶é—´æˆ³, è¯¥æ—¶é—´æˆ³ä¸º 11:00:01 AM (T2). å½“æ­¤ NTP æŠ¥æ–‡ç¦»å¼€ Device B æ—¶, Device B åŠ ä¸Šè‡ªå·±çš„æ—¶é—´æˆ³, è¯¥æ—¶é—´æˆ³ä¸º 11:00:02 AM (T3). å½“ Device A æ¥æ”¶åˆ°è¯¥å“åº”æŠ¥æ–‡æ—¶, Device A çš„æœ¬åœ°æ—¶é—´ä¸º 10:00:03 AM (T4). è‡³æ­¤, Device A å·²ç»æ‹¥æœ‰è¶³å¤Ÿçš„ä¿¡æ¯æ¥è®¡ç®—ä¸¤ä¸ªé‡è¦çš„å‚æ•°: NTP æŠ¥æ–‡çš„å¾€è¿”æ—¶å»¶ Delay = (T4-T1) - (T3-T2) = 2s. Device A ç›¸å¯¹ Device B çš„æ—¶é—´å·® Offset = ((T2-T1) + (T3-T4))/2 = 1h. è¿™æ ·, Device A å°±èƒ½å¤Ÿæ ¹æ®è¿™äº›ä¿¡æ¯æ¥è®¾å®šè‡ªå·±çš„æ—¶é’Ÿ, ä½¿ä¹‹ä¸ Device B çš„æ—¶é’ŸåŒæ­¥. è®¾å¤‡å¯ä»¥é‡‡ç”¨å¤šç§ NTP å·¥ä½œæ¨¡å¼è¿›è¡Œæ—¶é—´åŒæ­¥: å®¢æˆ·ç«¯/æœåŠ¡å™¨æ¨¡å¼ å¯¹ç§°æ¨¡å¼ å¹¿æ’­æ¨¡å¼ ç»„æ’­æ¨¡å¼ ","date":"0001-01-01","objectID":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/:2:2","tags":["NTP","Network","Linux"],"title":"NTPåè®®ç®€å•åˆ†æ","uri":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/"},{"categories":["NTP","Network"],"content":"å®¢æˆ·ç«¯/æœåŠ¡å™¨æ¨¡å¼ åœ¨å®¢æˆ·ç«¯/æœåŠ¡å™¨æ¨¡å¼ä¸­, å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€æ—¶é’ŸåŒæ­¥æŠ¥æ–‡, æŠ¥æ–‡ä¸­çš„ Mode å­—æ®µè®¾ç½®ä¸º3 (å®¢æˆ·æ¨¡å¼). æœåŠ¡å™¨ç«¯æ”¶åˆ°æŠ¥æ–‡åä¼šè‡ªåŠ¨å·¥ä½œåœ¨æœåŠ¡å™¨æ¨¡å¼, å¹¶å‘é€åº”ç­”æŠ¥æ–‡, æŠ¥æ–‡ä¸­çš„ Mode å­—æ®µè®¾ç½®ä¸º4 (æœåŠ¡å™¨æ¨¡å¼). å®¢æˆ·ç«¯æ”¶åˆ°åº”ç­”æŠ¥æ–‡å, è¿›è¡Œæ—¶é’Ÿè¿‡æ»¤å’Œé€‰æ‹©, å¹¶åŒæ­¥åˆ°ä¼˜é€‰çš„æœåŠ¡å™¨. åœ¨è¯¥æ¨¡å¼ä¸‹, å®¢æˆ·ç«¯èƒ½åŒæ­¥åˆ°æœåŠ¡å™¨, è€ŒæœåŠ¡å™¨æ— æ³•åŒæ­¥åˆ°å®¢æˆ·ç«¯. ","date":"0001-01-01","objectID":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/:2:3","tags":["NTP","Network","Linux"],"title":"NTPåè®®ç®€å•åˆ†æ","uri":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/"},{"categories":["NTP","Network"],"content":"å¯¹ç§°æ¨¡å¼ åœ¨å¯¹ç§°æ¨¡å¼ä¸­, ä¸»åŠ¨å¯¹ç§°ä½“å’Œè¢«åŠ¨å¯¹ç§°ä½“ä¹‹é—´é¦–å…ˆäº¤äº’ Mode å­—æ®µä¸º 3 (å®¢æˆ·ç«¯æ¨¡å¼) å’Œ 4 (æœåŠ¡å™¨æ¨¡å¼) çš„NTPæŠ¥æ–‡. ä¹‹å, ä¸»åŠ¨å¯¹ç§°ä½“å‘è¢«åŠ¨å¯¹ç§°ä½“å‘é€æ—¶é’ŸåŒæ­¥æŠ¥æ–‡, æŠ¥æ–‡ä¸­çš„ Mode å­—æ®µè®¾ç½®ä¸º 1 (ä¸»åŠ¨å¯¹ç§°ä½“), è¢«åŠ¨å¯¹ç­‰ä½“æ”¶åˆ°æŠ¥æ–‡åè‡ªåŠ¨å·¥ä½œåœ¨è¢«åŠ¨å¯¹ç­‰ä½“æ¨¡å¼, å¹¶å‘é€åº”ç­”æŠ¥æ–‡, æŠ¥æ–‡ä¸­çš„Modeå­—æ®µè®¾ç½®ä¸º 2 (è¢«åŠ¨å¯¹ç­‰ä½“). ç»è¿‡æŠ¥æ–‡çš„äº¤äº’, å¯¹ç­‰ä½“æ¨¡å¼å»ºç«‹èµ·æ¥. ä¸»åŠ¨å¯¹ç­‰ä½“å’Œè¢«åŠ¨å¯¹ç­‰ä½“å¯ä»¥äº’ç›¸åŒæ­¥. å¦‚æœåŒæ–¹çš„æ—¶é’Ÿéƒ½å·²ç»åŒæ­¥, åˆ™ä»¥å±‚æ•°å°çš„æ—¶é’Ÿä¸ºå‡†. ","date":"0001-01-01","objectID":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/:2:4","tags":["NTP","Network","Linux"],"title":"NTPåè®®ç®€å•åˆ†æ","uri":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/"},{"categories":["NTP","Network"],"content":"å¹¿æ’­æ¨¡å¼ åœ¨å¹¿æ’­æ¨¡å¼ä¸­, æœåŠ¡å™¨ç«¯å‘¨æœŸæ€§åœ°å‘å¹¿æ’­åœ°å€ 255.255.255.255 å‘é€æ—¶é’ŸåŒæ­¥æŠ¥æ–‡, æŠ¥æ–‡ä¸­çš„ Mode å­—æ®µè®¾ç½®ä¸º5 (å¹¿æ’­æ¨¡å¼). å®¢æˆ·ç«¯ä¾¦å¬æ¥è‡ªæœåŠ¡å™¨çš„å¹¿æ’­æŠ¥æ–‡. å½“å®¢æˆ·ç«¯æ¥æ”¶åˆ°ç¬¬ä¸€ä¸ªå¹¿æ’­æŠ¥æ–‡å, å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨äº¤äº’ Mode å­—æ®µä¸º3 (å®¢æˆ·æ¨¡å¼) å’Œ 4 (æœåŠ¡å™¨æ¨¡å¼) çš„NTPæŠ¥æ–‡, ä»¥è·å¾—å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨é—´çš„ç½‘ç»œå»¶è¿Ÿ. ä¹‹å, å®¢æˆ·ç«¯å°±è¿›å…¥å¹¿æ’­å®¢æˆ·ç«¯æ¨¡å¼, ç»§ç»­ä¾¦å¬å¹¿æ’­æŠ¥æ–‡çš„åˆ°æ¥, æ ¹æ®åˆ°æ¥çš„å¹¿æ’­æŠ¥æ–‡å¯¹ç³»ç»Ÿæ—¶é’Ÿè¿›è¡ŒåŒæ­¥. ","date":"0001-01-01","objectID":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/:2:5","tags":["NTP","Network","Linux"],"title":"NTPåè®®ç®€å•åˆ†æ","uri":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/"},{"categories":["NTP","Network"],"content":"ç»„æ’­æ¨¡å¼ åœ¨ç»„æ’­æ¨¡å¼ä¸­, æœåŠ¡å™¨ç«¯å‘¨æœŸæ€§åœ°å‘ç”¨æˆ·é…ç½®çš„ç»„æ’­åœ°å€ (è‹¥ç”¨æˆ·æ²¡æœ‰é…ç½®ç»„æ’­åœ°å€, åˆ™ä½¿ç”¨é»˜è®¤çš„ NTP ç»„æ’­åœ°å€224.0.1.1) å‘é€æ—¶é’ŸåŒæ­¥æŠ¥æ–‡, æŠ¥æ–‡ä¸­çš„ Mode å­—æ®µè®¾ç½®ä¸º 5 (ç»„æ’­æ¨¡å¼). å®¢æˆ·ç«¯ä¾¦å¬æ¥è‡ªæœåŠ¡å™¨çš„ç»„æ’­æŠ¥æ–‡. å½“å®¢æˆ·ç«¯æ¥æ”¶åˆ°ç¬¬ä¸€ä¸ªç»„æ’­æŠ¥æ–‡å, å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨äº¤äº’ Mode å­—æ®µä¸º 3 (å®¢æˆ·æ¨¡å¼) å’Œ 4 (æœåŠ¡å™¨æ¨¡å¼) çš„ NTP æŠ¥æ–‡, ä»¥è·å¾—å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨é—´çš„ç½‘ç»œå»¶è¿Ÿ. ä¹‹å, å®¢æˆ·ç«¯å°±è¿›å…¥ç»„æ’­å®¢æˆ·æ¨¡å¼, ç»§ç»­ä¾¦å¬ç»„æ’­æŠ¥æ–‡çš„åˆ°æ¥, æ ¹æ®åˆ°æ¥çš„ç»„æ’­æŠ¥æ–‡å¯¹ç³»ç»Ÿæ—¶é’Ÿè¿›è¡ŒåŒæ­¥. ","date":"0001-01-01","objectID":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/:2:6","tags":["NTP","Network","Linux"],"title":"NTPåè®®ç®€å•åˆ†æ","uri":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/"},{"categories":["NTP","Network"],"content":"ä¸‰.NTPæŠ¥æ–‡æ ¼å¼ NTP æœ‰ä¸¤ç§ä¸åŒç±»å‹çš„æŠ¥æ–‡, ä¸€ç§æ˜¯ æ—¶é’ŸåŒæ­¥æŠ¥æ–‡, ä¸€ç§æ˜¯ æ§åˆ¶æŠ¥æ–‡. æ§åˆ¶æŠ¥æ–‡ ä»…ç”¨äºéœ€è¦ç½‘ç»œç®¡ç†çš„åœºåˆ, å¯¹äºæ—¶é’ŸåŒæ­¥åŠŸèƒ½ä¸æ˜¯å¿…éœ€çš„, æš‚ä¸åšåˆ†æ. æ—¶é’ŸåŒæ­¥æŠ¥æ–‡æ ¼å¼å¦‚ä¸‹: LI (Leap Indicator): é—°ç§’æ ‡è¯†å™¨, é•¿åº¦ä¸º 2 Bits, ç”¨æ¥é¢„è­¦æœ€è¿‘ä¸€åˆ†é’Ÿæ’å…¥ 1s æˆ–è€…åˆ é™¤ 1s. LI Value å«ä¹‰ 00 0 æ— é¢„å‘Š 01 1 é†‰ç»ä¸€åˆ†é’Ÿæœ‰ 61s 10 2 æœ€è¿‘ä¸€åˆ†é’Ÿæœ‰ 59s 11 3 è­¦å‘ŠçŠ¶æ€(æ—¶é’ŸæœªåŒæ­¥) VN (Version Number): ç‰ˆæœ¬å·, é•¿åº¦ä¸º 3 Bits, ç›®å‰æœ€æ–°çš„ç‰ˆæœ¬æ˜¯ 4, å‘ä¸‹å…¼å®¹æŒ‡å®šäº RFC 1305 çš„ç‰ˆæœ¬ 3. Mode: å·¥ä½œæ¨¡å¼, é•¿åº¦ä¸º 3 Bits. ç‚¹å¯¹ç‚¹æ¨¡å¼ä¸‹, å®¢æˆ·ç«¯è¯·æ±‚æ—¶è®¾ç½®æ­¤å­—æ®µä¸º 3, æœåŠ¡å™¨åº”ç­”æ—¶è®¾ç½®æ­¤å­—æ®µä¸º 4. å¹¿æ’­æ¨¡å¼ä¸‹, æœåŠ¡å™¨åº”ç­”è®¾ç½®æ­¤å­—æ®µä¸º 5. Mode Value å«ä¹‰ 000 0 ä¿ç•™ 001 1 ä¸»åŠ¨å¯¹ç§°æ¨¡å¼ 010 2 è¢«åŠ¨å¯¹ç§°æ¨¡å¼ 011 3 å®¢æˆ·ç«¯æ¨¡å¼ 100 4 æœåŠ¡å™¨æ¨¡å¼ 101 5 å¹¿æ’­æˆ–ç»„æ’­æ¨¡å¼ 110 6 NTPæ§åˆ¶æŠ¥æ–‡ 111 7 é¢„ç•™ç»™å†…éƒ¨ä½¿ç”¨ Stratum: ç³»ç»Ÿæ—¶é’Ÿçš„å±‚æ•°, é•¿åº¦ä¸º 8 Bits, å–å€¼èŒƒå›´ 1~16, å®šä¹‰æ—¶é’Ÿçš„å‡†ç¡®åº¦. å±‚æ•°ä¸º 1 çš„æ—¶é’Ÿå‡†ç¡®åº¦æœ€é«˜, å‡†ç¡®åº¦ä» 1 åˆ° 16 ä¾æ¬¡é€’å‡, é˜¶å±‚çš„ä¸Šé™ä¸º15, å±‚æ•°ä¸º 16çš„æ—¶é’Ÿå¤„äºæœªåŒæ­¥çŠ¶æ€, ä¸èƒ½ä½œä¸ºå‚è€ƒæ—¶é’Ÿ. NTP è·å¾— UTC çš„æ—¶é—´æ¥æºå¯ä»¥æ˜¯åŸå­é’Ÿ, å¤©æ–‡å°, å«æ˜Ÿ, ä¹Ÿå¯ä»¥ä»Internetä¸Šè·å–. stratum-0 æ˜¯é«˜ç²¾åº¦è®¡æ—¶è®¾å¤‡, ä¾‹å¦‚åŸå­é’Ÿ (å¦‚é“¯, é“·), GPSæ—¶é’Ÿæˆ–å…¶ä»–æ— çº¿ç”µæ—¶é’Ÿ. å®ƒä»¬ç”Ÿæˆéå¸¸ç²¾ç¡®çš„è„‰å†²ç§’ä¿¡å·, è§¦å‘æ‰€è¿æ¥è®¡ç®—æœºä¸Šçš„ä¸­æ–­å’Œæ—¶é—´æˆ³. ä¹Ÿç§°ä¸ºå‚è€ƒ (åŸºå‡†) æ—¶é’Ÿ. stratum-1 æ˜¯ä¸ stratum-0 è®¾å¤‡ç›¸è¿, åœ¨å‡ å¾®ç§’è¯¯å·®å†…åŒæ­¥ç³»ç»Ÿæ—¶é’Ÿçš„è®¡ç®—æœº. æ—¶é—´æ˜¯æŒ‰ NTP æœåŠ¡å™¨çš„ç­‰çº§ä¼ æ’­. æŒ‰ç…§è·ç¦»å¤–éƒ¨ UTC æºçš„è¿œè¿‘å°†æ‰€æœ‰æœåŠ¡å™¨å½’å…¥ä¸åŒçš„ Stratum (å±‚) ä¸­. Stratum-1 åœ¨é¡¶å±‚, æœ‰å¤–éƒ¨ UTC æ¥å…¥, è€ŒStratum-2 åˆ™ä» Stratum-1 è·å–æ—¶é—´, Stratum-3 ä» Stratum-2 è·å–æ—¶é—´, ä»¥æ­¤ç±»æ¨, ä½† Stratum å±‚çš„æ€»æ•°é™åˆ¶åœ¨15ä»¥å†…. æ‰€æœ‰è¿™äº›æœåŠ¡å™¨åœ¨é€»è¾‘ä¸Šå½¢æˆé˜¶æ¢¯å¼çš„æ¶æ„å¹¶ç›¸äº’è¿æ¥, è€Œ Stratum-1 çš„æ—¶é—´æœåŠ¡å™¨æ˜¯æ•´ä¸ªç³»ç»Ÿçš„åŸºç¡€. stratum å«ä¹‰ 0 æœªæŒ‡å®šæˆ–è€…éš¾ä»¥è·å¾— 1 ä¸»è¦å‚è€ƒ(å¦‚: æ— çº¿ç”µæ—¶é’Ÿ,æ ¡æ­£çš„åŸå­æ—¶é’Ÿ) 2~15 ç¬¬äºŒå‚è€ƒ(Via NTP) 16 æœªåŒæ­¥çŠ¶æ€, ä¸èƒ½ä½œä¸ºå‚è€ƒæ—¶é’Ÿ Poll: è½®è¯¢é—´éš”æ—¶é—´, é•¿åº¦ä¸º 8 Bits, ä¸¤ä¸ªè¿ç»­NTPæŠ¥æ–‡ä¹‹é—´çš„æ—¶é—´é—´éš”, ç”¨ 2 çš„å¹‚æ¥è¡¨ç¤º, æ¯”å¦‚å€¼ä¸º 6 è¡¨ç¤ºæœ€å°é—´éš”ä¸º 2^6 = 64s. Precision: ç³»ç»Ÿæ—¶é’Ÿçš„ç²¾åº¦, é•¿åº¦ä¸º 8 Bits, ç”¨ 2 çš„å¹‚æ¥è¡¨ç¤º, æ¯”å¦‚ 50Hz(20ms)æˆ–è€…60Hz(16.67ms) å¯ä»¥è¡¨ç¤ºæˆå€¼ -5 (2^-5 = 0.03125s = 31.25ms). Root Delay: æœ¬åœ°åˆ°ä¸»å‚è€ƒæ—¶é’Ÿæºçš„å¾€è¿”æ—¶é—´, é•¿åº¦ä¸º 32 Bits, æœ‰ 15ï½16 ä½å°æ•°éƒ¨åˆ†çš„æ— ç¬¦å·å®šç‚¹å°æ•°. Root Dispersion: ç³»ç»Ÿæ—¶é’Ÿç›¸å¯¹äºä¸»å‚è€ƒæ—¶é’Ÿçš„æœ€å¤§è¯¯å·®, é•¿åº¦ä¸º 32 Bits, æœ‰ 15ï½16 ä½å°æ•°éƒ¨åˆ†çš„æ— ç¬¦å·å®šç‚¹å°æ•°. ç½‘ç»œå¯¹ç§°æ€§: é€šè¿‡ä¸¤æ¬¡æµ‹é‡æ¥ä¼°è®¡é“¾è·¯å»¶è¿Ÿä¸€èˆ¬ä¼°ç®—æ–¹æ³•æ˜¯å‡è®¾é“¾è·¯æ˜¯å¯¹ç§°çš„, å³æ—¶é—´æœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯çš„å»¶è¿Ÿç­‰äºå®¢æˆ·ç«¯åˆ°æ—¶é—´æœåŠ¡å™¨çš„å»¶è¿Ÿ. è¿™ç§å‡è®¾æ˜¯ç†æƒ³åŒ–çš„, å®é™…çš„æ— çº¿é“¾è·¯å¾€å¾€å—åˆ°å„ç§å› ç´ å½±å“, ä¾‹å¦‚ å¤šå¾„, æ—¶å˜ è€Œä¸å®Œå…¨å¯¹ç§°. ç½‘ç»œçš„æ‹“æ‰‘ç»“æ„: ç®€å•çš„ç‚¹å¯¹ç‚¹æ‹“æ‰‘ç»“æ„èƒ½è¾¾åˆ°è¾ƒé«˜çš„åŒæ­¥ç²¾åº¦, è€Œä¸€äº›å¤æ‚çš„ç½‘ç»œå®¹æ˜“å—åˆ°ç½‘ç»œå»¶è¿ŸæŠ–åŠ¨çš„å½±å“, ä¸”ç²¾åº¦ä¸ç½‘ç»œè´Ÿè½½æƒ…å†µç›¸å…³. Reference Identifier: å‚è€ƒæ—¶é’Ÿæºçš„æ ‡è¯†, é•¿åº¦ä¸º 32 Bits. Reference Timestamp: ç³»ç»Ÿæ—¶é’Ÿæœ€åä¸€æ¬¡è¢«è®¾å®šæˆ–æ›´æ–°çš„æ—¶é—´, é•¿åº¦ä¸º 64 Bits, æ— ç¬¦å·å®šç‚¹æ•°, å‰ 32 Bits è¡¨ç¤ºæ•´æ•°éƒ¨åˆ†, å 32 Bits è¡¨ç¤ºå°æ•°éƒ¨åˆ†, ç†è®ºåˆ†è¾¨ç‡ 2^âˆ’32s. æ—¶é—´æˆ³çš„è®°å½•ä»¥ç§’çš„å½¢å¼ä» 1900-01-01 00:00:00 ç®—èµ·. NTPçš„æ—¶é—´ç²¾åº¦åœ¨ WAN ä¸º æ•°åæ¯«ç§’, åœ¨ LAN ä¸º äºšæ¯«ç§’çº§ç”šè‡³æ›´é«˜, åœ¨ Internet ä¸Šç»å¤§éƒ¨åˆ†èƒ½æä¾› 1-50ms çš„ç²¾ç¡®åº¦, å–å†³äºåŒæ­¥æºå’Œç½‘ç»œè·¯å¾„ç­‰ç‰¹æ€§. æ¯”å¦‚: å½“å‰æ—¶é—´ä¸º 1902-01-01 01:01:01, ä¸ 1900 çš„å‚è€ƒæ—¶é—´ç›¸å·®ä¸º: (3652246060+3600+60+1) = 63075661s = 0x03C2754D s. è½¬æ¢æˆäºŒè¿›åˆ¶: 0000 0011 1100 0010 0111 0101 0100 1101 XXXX XXXX XXXX XXXX XXXX XXXX XXXX XXXX. å› ä¸ºåªæœ‰ 32 Bits è¡¨ç¤ºç§’æ•°, æ‰€ä»¥åˆ°äº† 2036 å¹´æ•°æ®å°±ä¼šæº¢å‡º. æ‰€ä»¥ä»¥ 136 å¹´ä¸ºä¸€ä¸ªå‘¨æœŸç½® 0 , ä¼šç”¨ä¸€äº›å¤–éƒ¨çš„æ–¹æ³•æ¥è¡¨ç¤ºæ˜¯ç›¸å¯¹äº 1900 å¹´è¿˜æ˜¯ 2036 å¹´çš„æ—¶é—´. NTP çš„æœªæ¥ç‰ˆæœ¬å¯èƒ½å°†æ—¶é—´è¡¨ç¤ºæ‰©å±•åˆ° 128 Bits: å…¶ä¸­ 64 Bits è¡¨ç¤ºç§’, 64 Bits è¡¨ç¤ºç§’çš„å°æ•°. å½“å‰çš„ NTPv4 æ ¼å¼æ”¯æŒ â€œæ—¶ä»£æ•°å­—â€ (Era Number)å’Œ â€œæ—¶ä»£åç§»â€ (Era Offset), æ­£ç¡®ä½¿ç”¨å®ƒä»¬åº”è¯¥æœ‰åŠ©äºè§£å†³æ—¥æœŸç¿»è½¬é—®é¢˜. æ®Millsç§°: â€œ64 Bits ç§’çš„å°æ•°è¶³ä»¥åˆ†è¾¨å…‰å­ä»¥å…‰é€Ÿé€šè¿‡ç”µå­æ‰€éœ€çš„æ—¶é—´. 64 Bits çš„ç§’è¶³ä»¥æä¾›æ˜ç¡®çš„æ—¶é—´è¡¨ç¤º, ç›´åˆ°å®‡å®™å˜æš—.â€ Originate Timestamp: NTPè¯·æ±‚æŠ¥æ–‡ç¦»å¼€å‘é€ç«¯æ—¶å‘é€ç«¯çš„æœ¬åœ°æ—¶é—´, é•¿åº¦ä¸º 64 Bits. Receive Timestamp: NTPè¯·æ±‚æŠ¥æ–‡åˆ°è¾¾æ¥æ”¶ç«¯æ—¶æ¥æ”¶ç«¯çš„æœ¬åœ°æ—¶é—´, é•¿åº¦ä¸º 64 Bits. Transmit Timestamp: åº”ç­”æŠ¥æ–‡ç¦»å¼€åº”ç­”è€…æ—¶åº”ç­”è€…çš„æœ¬åœ°æ—¶é—´, é•¿åº¦ä¸º 64 Bits. Authenticator(Optional): éªŒè¯ä¿¡æ¯, é•¿åº¦ä¸º 96 Bits, (å¯é€‰ä¿¡æ¯), å½“å®ç°äº† NTP è®¤è¯æ¨¡å¼æ—¶, ä¸»è¦æ ‡è¯†ç¬¦å’Œä¿¡æ¯æ•°å­—åŸŸå°±åŒ…æ‹¬å·²å®šä¹‰çš„ä¿¡æ¯è®¤è¯ä»£ç  (MAC) ä¿¡æ¯. è¯†åˆ«æœºåˆ¶æŠ—å¹²æ‰°å’Œæ¶æ„ç ´å: ä¸ºé˜²æ­¢å¯¹æ—¶é—´æœåŠ¡å™¨çš„æ¶æ„ç ´å, NTPä½¿ç”¨äº†è¯†åˆ« (Authentication) æœºåˆ¶. æ£€æŸ¥æ¥å¯¹æ—¶çš„ä¿¡æ¯æ˜¯å¦æ˜¯çœŸæ­£æ¥è‡ªæ‰€å®£ç§°çš„æœåŠ¡å™¨å¹¶æ£€æŸ¥èµ„æ–™çš„è¿”å›è·¯å¾„, ä»¥æä¾›å¯¹æŠ—å¹²æ‰°çš„ä¿æŠ¤æœºåˆ¶. ","date":"0001-01-01","objectID":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/:3:0","tags":["NTP","Network","Linux"],"title":"NTPåè®®ç®€å•åˆ†æ","uri":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/"},{"categories":["NTP","Network"],"content":"å››.å®ä¾‹åˆ†æ æ—¶é—´æœåŠ¡å™¨æ¥æ”¶åŒæ­¥æ¶ˆæ¯,åº”ç­”åé¦ˆçš„æ•°æ®å¦‚ä¸‹: 1c0104ec 00000000 00000048 47505373 dd26aa9f f7e47f4e dd26aaa7 4f5022d9 dd26aaa7 5f6f1524 dd26aaa7 5f716a6a é•¿åº¦ä¸º 48 Bytes. ","date":"0001-01-01","objectID":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/:4:0","tags":["NTP","Network","Linux"],"title":"NTPåè®®ç®€å•åˆ†æ","uri":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/"},{"categories":["NTP","Network"],"content":"wireshark æŠ“åŒ…å¦‚ä¸‹: ","date":"0001-01-01","objectID":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/:4:1","tags":["NTP","Network","Linux"],"title":"NTPåè®®ç®€å•åˆ†æ","uri":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/"},{"categories":["NTP","Network"],"content":"è§£ææ•°æ® 1c0104ecè½¬æ¢æˆäºŒè¿›åˆ¶:0001 1100 0000 0001 0000 0100 1110 1100 00.. â€¦. = Leap Indicator: no warning (0) ..01 1â€¦ = Version Number: NTP Version 3 (3) â€¦. .100 = Mode: Server (4) 0000 0001 = Peer Clock Stratum: primary reference (1) 0000 0100 = Peer Polling Interval: 4 (2^4 = 16s) 1110 1100 = Peer Clock Precision: -20 (2^-20 = 0.000001s). ps: (è¡¥ç : 1110 1100, è½¬æ¢ä¸ºåç : 1110 1011, è½¬æ¢ä¸ºåŸç : 0001 0100 = 20. æ·»åŠ ç¬¦å·ä¸º -20, ç²¾åº¦ä¸º 2^-20 = 0.000001s.) 00000000 ç§’æ•°ä¸º 0000, ç§’çš„å°æ•°ä¸º 0000. æ‰€ä»¥: Root Delay: 0.0000s 00000048 ç§’æ•°ä¸º 0000, ç§’çš„å°æ•°ä¸º 0048, è½¬æ¢äºŒè¿›åˆ¶: 0000 0000 0100 1000. Root Dispersion: (0 + 2^-10 + 2^-13 = 0.0011s). 47505373 é‡‡ç”¨ASCIIç , Reference ID: Unidentified reference source â€˜GPSsâ€™ dd26aa9f f7e47f4e ç§’æ•°ä¸º dd26aa9f, è½¬æ¢æˆ Unix æ—¶é—´æˆ³ (1900å¹´ è½¬æ¢ä¸º 1970å¹´å¼€å§‹): 0xdd26aa9f - 0x83aa7e80 = 0x597c2c1f = 1501309983 å³ 2017-07-29 14:33:03. ç§’çš„å°æ•°ä¸º f7e47f4e, è½¬æ¢æˆäºŒè¿›åˆ¶: 1111 0111 1110 0100 0111 1111 0100 1110 = 2^-1 + 2^-2 + 2^-3 + 2^-4 + 2^-6 + 2^-7 + 2^-8 + 2^-9 + 2^-10 + 2^-11 + 2^-14 + 2^-18 + 2^-19 + 2^-20 + 2^-21 + 2^-22 + 2^-23 + 2^-24 + 2^-26 + 2^-29 + 2^-30 + 2^-31 = 0.968330000. Reference Timestamp: 2017-07-29 14:33:03.068330000s UTC +08:00. dd26aaa7 4f5022d9 ç§’æ•°ä¸º dd26aaa7 = 2017-07-29 14:33:11. ç§’çš„å°æ•°ä¸º 4f5022d9 = 0.309816000. Reference Timestamp: 2017-07-29 14:33:11.309816000s UTC +08:00. dd26aaa7 5f6f1524 ç§’æ•°ä¸º dd26aaa7 = 2017-07-29 14:33:11. ç§’çš„å°æ•°ä¸º 5f6f1524 = 0.372788000. Reference Timestamp: 2017-07-29 14:33:11.372788000s UTC +08:00. dd26aaa7 5f716a6a ç§’æ•°ä¸º dd26aaa7 = 2017-07-29 14:33:11. ç§’çš„å°æ•°ä¸º 5f716a6a = 0.372824000. Reference Timestamp: 2017-07-29 14:33:11.372824000s UTC +08:00. ","date":"0001-01-01","objectID":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/:4:2","tags":["NTP","Network","Linux"],"title":"NTPåè®®ç®€å•åˆ†æ","uri":"/ntp%E5%8D%8F%E8%AE%AE%E7%AE%80%E5%8D%95%E5%88%86%E6%9E%90/"},{"categories":["Linux","Network"],"content":"ç®€å•ä»‹ç» tcpdump æ˜¯ä¸€æ¬¾å¼ºå¤§çš„ç½‘ç»œæŠ“åŒ…å·¥å…·ï¼Œè¿è¡Œåœ¨ linux å¹³å°ä¸Šã€‚ç†Ÿæ‚‰ tcpdump çš„ä½¿ç”¨èƒ½å¤Ÿå¸®åŠ©ä½ åˆ†æã€è°ƒè¯•ç½‘ç»œæ•°æ®ã€‚ è¦æƒ³ä½¿ç”¨å¾ˆå¥½åœ°æŒæ¡ tcpdumpï¼Œ å¿…é¡»å¯¹ç½‘ç»œæŠ¥æ–‡ï¼ˆTCP/IP åè®®ï¼‰æœ‰ä¸€å®šçš„äº†è§£ã€‚ä¸è¿‡å¯¹äºç®€å•çš„ä½¿ç”¨æ¥è¯´ï¼Œåªè¦æœ‰ç½‘ç»œåŸºç¡€æ¦‚å¿µå°±è¡Œäº†ã€‚ tcpdump æ˜¯ä¸€ä¸ªå¾ˆå¤æ‚çš„å‘½ä»¤ï¼Œæƒ³äº†è§£å®ƒçš„æ–¹æ–¹é¢é¢éå¸¸ä¸æ˜“ï¼Œä¹Ÿä¸å€¼å¾—æ¨èï¼Œèƒ½å¤Ÿä½¿ç”¨å®ƒè§£å†³æ—¥å¸¸å·¥ä½œä¸­çš„é—®é¢˜æ‰æ˜¯å…³é”®ã€‚ ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:1:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"é€‰é¡¹ tcpdump çš„é€‰é¡¹ä¹Ÿå¾ˆå¤šï¼Œè¦æƒ³çŸ¥é“æ‰€æœ‰é€‰é¡¹çš„è¯ï¼Œè¯·å‚è€ƒ man tcpdumpï¼Œä¸‹é¢åªè®°å½• tcpdump æœ€å¸¸ç”¨çš„é€‰é¡¹ã€‚ å®Œæ•´çš„è‹±æ–‡æ–‡æ¡£ï¼šhttps://www.tcpdump.org/tcpdump_man.html éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œtcpdump é»˜è®¤åªä¼šæˆªå–å‰ 96 å­—èŠ‚çš„å†…å®¹ï¼Œè¦æƒ³æˆªå–æ‰€æœ‰çš„æŠ¥æ–‡å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨ -s numberï¼Œ number å°±æ˜¯ä½ è¦æˆªå–çš„æŠ¥æ–‡å­—èŠ‚æ•°ï¼Œå¦‚æœæ˜¯ 0 çš„è¯ï¼Œè¡¨ç¤ºæˆªå–æŠ¥æ–‡å…¨éƒ¨å†…å®¹ã€‚ -n è¡¨ç¤ºä¸è¦è§£æåŸŸåï¼Œç›´æ¥æ˜¾ç¤º ipã€‚ -nn ä¸è¦è§£æåŸŸåå’Œç«¯å£ -X åŒæ—¶ç”¨ hex å’Œ ascii æ˜¾ç¤ºæŠ¥æ–‡çš„å†…å®¹ã€‚ -XX åŒ -Xï¼Œä½†åŒæ—¶æ˜¾ç¤ºä»¥å¤ªç½‘å¤´éƒ¨ã€‚ -S æ˜¾ç¤ºç»å¯¹çš„åºåˆ—å·ï¼ˆsequence numberï¼‰ï¼Œè€Œä¸æ˜¯ç›¸å¯¹ç¼–å·ã€‚ -i any ç›‘å¬æ‰€æœ‰çš„ç½‘å¡ -v, -vv, -vvvï¼šæ˜¾ç¤ºæ›´å¤šçš„è¯¦ç»†ä¿¡æ¯ -c number: æˆªå– number ä¸ªæŠ¥æ–‡ï¼Œç„¶åç»“æŸ -Aï¼š åªä½¿ç”¨ ascii æ‰“å°æŠ¥æ–‡çš„å…¨éƒ¨æ•°æ®ï¼Œä¸è¦å’Œ -X ä¸€èµ·ä½¿ç”¨ã€‚æˆªå– http è¯·æ±‚çš„æ—¶å€™å¯ä»¥ç”¨ sudo tcpdump -nSA port 80ï¼ ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:2:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"ä»¥å¤ªç½‘å¸§çš„å°åŒ…æ ¼å¼ä¸ºï¼š Frame = Ethernet Header + IP Header + TCP Header + TCP Segment Data Ethernet Header =14 Byte =Dst Physical Addressï¼ˆ6 Byteï¼‰+ Src Physical Addressï¼ˆ6 Byteï¼‰+Typeï¼ˆ2 Byteï¼‰ï¼Œä»¥å¤ªç½‘å¸§å¤´ä»¥ä¸‹ç§°ä¹‹ä¸ºæ•°æ®å¸§ã€‚ IP Header =20 Byteï¼ˆwithout options fieldï¼‰ï¼Œæ•°æ®åœ¨IPå±‚ç§°ä¸ºDatagramï¼Œåˆ†ç‰‡ç§°ä¸ºFragmentã€‚ TCP Header = 20 Byteï¼ˆwithout options fieldï¼‰ï¼Œæ•°æ®åœ¨TCPå±‚ç§°ä¸ºStreamï¼Œåˆ†æ®µç§°ä¸ºSegmentï¼ˆUDPä¸­ç§°ä¸ºMessageï¼‰ã€‚ 54ä¸ªå­—èŠ‚åä¸ºTCPæ•°æ®è´Ÿè½½éƒ¨åˆ†ï¼ˆData Portionï¼‰ï¼Œå³åº”ç”¨å±‚ç”¨æˆ·æ•°æ®ã€‚ Ethernet Headerä»¥ä¸‹çš„IPæ•°æ®æŠ¥æœ€å¤§ä¼ è¾“å•ä½ä¸ºMTUï¼ˆMaximum Transmission Unitï¼ŒEffect of short boardï¼‰ï¼Œå¯¹äºå¤§å¤šæ•°ä½¿ç”¨ä»¥å¤ªç½‘çš„å±€åŸŸç½‘æ¥è¯´ï¼ŒMTU=1500ã€‚ TCPæ•°æ®åŒ…æ¯æ¬¡èƒ½å¤Ÿä¼ è¾“çš„æœ€å¤§æ•°æ®åˆ†æ®µä¸ºMSSï¼Œä¸ºäº†è¾¾åˆ°æœ€ä½³çš„ä¼ è¾“æ•ˆèƒ½ï¼Œåœ¨å»ºç«‹TCPè¿æ¥æ—¶åŒæ–¹å°†åå•†MSSå€¼â€”â€”åŒæ–¹æä¾›çš„MSSå€¼ä¸­çš„æœ€å°å€¼ä¸ºè¿™æ¬¡è¿æ¥çš„æœ€å¤§MSSå€¼ã€‚MSSå¾€å¾€åŸºäºMTUè®¡ç®—å‡ºæ¥ï¼Œé€šå¸¸**MSS**=MTU-sizeof(IP Header)-sizeof(TCP Header)=1500-20-20=1460ã€‚ è¿™æ ·ï¼Œæ•°æ®ç»è¿‡æœ¬åœ°TCPå±‚åˆ†æ®µåï¼Œäº¤ç»™æœ¬åœ°IPå±‚ï¼Œåœ¨æœ¬åœ°IPå±‚å°±ä¸éœ€è¦åˆ†ç‰‡äº†ã€‚ä½†æ˜¯åœ¨ä¸‹ä¸€è·³è·¯ç”±ï¼ˆNext Hopï¼‰çš„é‚»å±…è·¯ç”±å™¨ä¸Šå¯èƒ½å‘ç”ŸIPåˆ†ç‰‡ï¼å› ä¸ºè·¯ç”±å™¨çš„ç½‘å¡çš„MTUå¯èƒ½å°äºéœ€è¦è½¬å‘çš„IPæ•°æ®æŠ¥çš„å¤§å°ã€‚ è¿™æ—¶å€™ï¼Œåœ¨è·¯ç”±å™¨ä¸Šå¯èƒ½å‘ç”Ÿä¸¤ç§æƒ…å†µï¼š ï¼ˆ1ï¼‰å¦‚æœæºå‘é€ç«¯è®¾ç½®äº†è¿™ä¸ªIPæ•°æ®åŒ…å¯ä»¥åˆ†ç‰‡ï¼ˆMay Fragmentï¼ŒDF=0ï¼‰ï¼Œè·¯ç”±å™¨å°†IPæ•°æ®æŠ¥åˆ†ç‰‡åè½¬å‘ã€‚ ï¼ˆ2ï¼‰å¦‚æœæºå‘é€ç«¯è®¾ç½®äº†è¿™ä¸ªIPæ•°æ®æŠ¥ä¸å¯ä»¥åˆ†ç‰‡ï¼ˆDonâ€™t Fragmentï¼ŒDF=1ï¼‰ï¼Œè·¯ç”±å™¨å°†IPæ•°æ®æŠ¥ä¸¢å¼ƒï¼Œå¹¶å‘é€ICMPåˆ†ç‰‡é”™è¯¯æ¶ˆæ¯ç»™æºå‘é€ç«¯ã€‚ ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:2:1","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"ç®€å•ä½¿ç”¨ï¼ˆå®ä¾‹ï¼‰ ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:3:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"tcpdump -vv é»˜è®¤å¯åŠ¨ï¼Œæ™®é€šæƒ…å†µä¸‹ï¼Œç›´æ¥å¯åŠ¨tcpdumpå°†ç›‘è§†ç¬¬ä¸€ä¸ªç½‘ç»œæ¥å£ä¸Šæ‰€æœ‰æµè¿‡çš„æ•°æ®åŒ… ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:3:1","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"tcpdump -nS ç›‘å¬æ‰€æœ‰ç«¯å£ï¼Œç›´æ¥æ˜¾ç¤º ip åœ°å€ã€‚ ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:3:2","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"tcpdump -nnvvS æ˜¾ç¤ºæ›´è¯¦ç»†çš„æ•°æ®æŠ¥æ–‡ï¼ŒåŒ…æ‹¬ tos, ttl, checksum ç­‰ã€‚ ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:3:3","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"tcpdump -nnvvXS æ˜¾ç¤ºæ•°æ®æŠ¥çš„å…¨éƒ¨æ•°æ®ä¿¡æ¯ï¼Œç”¨ hex å’Œ ascii ä¸¤åˆ—å¯¹æ¯”è¾“å‡ºã€‚ ä¸‹é¢æ˜¯æŠ“å– ping å‘½ä»¤çš„è¯·æ±‚å’Œè¿”å›çš„ä¸¤ä¸ªæŠ¥æ–‡ï¼Œå¯ä»¥çœ‹åˆ°å…¨éƒ¨çš„æ•°æ®ã€‚ âœ ~ sudo tcpdump -nnvXSs 0 -c2 icmp tcpdump: data link type PKTAP tcpdump: listening on pktap, link-type PKTAP (Packet Tap), capture size 65535 bytes 22:58:16.781856 IP (tos 0x0, ttl 64, id 61452, offset 0, flags [none], proto ICMP (1), length 84) 192.168.1.106 \u003e 192.168.1.1: ICMP echo request, id 65302, seq 0, length 64 0x0000: 0c72 2c28 b9ac 80e6 5019 4c38 0800 4500 .r,(....P.L8..E. 0x0010: 0054 f00c 0000 4001 06e1 c0a8 016a c0a8 .T....@......j.. 0x0020: 0101 0800 72c9 ff16 0000 5500 5808 000b ....r.....U.X... 0x0030: ee08 0809 0a0b 0c0d 0e0f 1011 1213 1415 ................ 0x0040: 1617 1819 1a1b 1c1d 1e1f 2021 2223 2425 ...........!\"#$% 0x0050: 2627 2829 2a2b 2c2d 2e2f 3031 3233 3435 \u0026'()*+,-./012345 0x0060: 3637 67 22:58:17.674304 IP (tos 0x0, ttl 64, id 13972, offset 0, flags [none], proto ICMP (1), length 84) 192.168.1.1 \u003e 192.168.1.106: ICMP echo reply, id 65302, seq 0, length 64 0x0000: 80e6 5019 4c38 0c72 2c28 b9ac 0800 4500 ..P.L8.r,(....E. 0x0010: 0054 3694 0000 4001 c059 c0a8 0101 c0a8 .T6...@..Y...... 0x0020: 016a 0000 7ac9 ff16 0000 5500 5808 000b .j..z.....U.X... 0x0030: ee08 0809 0a0b 0c0d 0e0f 1011 1213 1415 ................ 0x0040: 1617 1819 1a1b 1c1d 1e1f 2021 2223 2425 ...........!\"#$% 0x0050: 2627 2829 2a2b 2c2d 2e2f 3031 3233 3435 \u0026'()*+,-./012345 0x0060: 3637 67 2 packets captured 5875 packets received by filter 0 packets dropped by kernel ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:3:4","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"è¿‡æ»¤å™¨ æœºå™¨ä¸Šçš„ç½‘ç»œæŠ¥æ–‡æ•°é‡å¼‚å¸¸çš„å¤šï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬åªå…³ç³»å’Œå…·ä½“é—®é¢˜æœ‰å…³çš„æ•°æ®æŠ¥ï¼ˆæ¯”å¦‚è®¿é—®æŸä¸ªç½‘ç«™çš„æ•°æ®ï¼Œæˆ–è€… icmp è¶…æ—¶çš„æŠ¥æ–‡ç­‰ç­‰ï¼‰ï¼Œè€Œè¿™äº›æ•°æ®åªå åˆ°å¾ˆå°çš„ä¸€éƒ¨åˆ†ã€‚æŠŠæ‰€æœ‰çš„æ•°æ®æˆªå–ä¸‹æ¥ï¼Œä»é‡Œé¢æ‰¾åˆ°æƒ³è¦çš„ä¿¡æ¯æ— ç–‘æ˜¯ä¸€ä»¶å¾ˆè´¹æ—¶è´¹åŠ›çš„å·¥ä½œã€‚è€Œ tcpdump æä¾›äº†çµæ´»çš„è¯­æ³•å¯ä»¥ç²¾ç¡®åœ°æˆªå–å…³å¿ƒçš„æ•°æ®æŠ¥ï¼Œç®€åŒ–åˆ†æçš„å·¥ä½œé‡ã€‚è¿™äº›é€‰æ‹©æ•°æ®åŒ…çš„è¯­å¥å°±æ˜¯è¿‡æ»¤å™¨ï¼ˆfilterï¼‰ï¼ è¿‡æ»¤å™¨ä¹Ÿå¯ä»¥ç®€å•åœ°åˆ†ä¸ºä¸‰ç±»ï¼štype, dir å’Œ protoã€‚ Type è®©ä½ åŒºåˆ†æŠ¥æ–‡çš„ç±»å‹ï¼Œä¸»è¦ç”± hostï¼ˆä¸»æœºï¼‰, netï¼ˆç½‘ç»œï¼‰ å’Œ portï¼ˆç«¯å£ï¼‰ ç»„æˆã€‚src å’Œ dst ä¹Ÿå¯ä»¥ç”¨æ¥è¿‡æ»¤æŠ¥æ–‡çš„æºåœ°å€å’Œç›®çš„åœ°å€ã€‚ ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:4:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"host: è¿‡æ»¤æŸä¸ªä¸»æœºçš„æ•°æ®æŠ¥æ–‡ tcpdump host 1.2.3.4 ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:4:1","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"src, dst: è¿‡æ»¤æºåœ°å€å’Œç›®çš„åœ°å€ tcpdump src 2.3.4.5 tcpdump dst 3.4.5.6 ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:4:2","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"net: è¿‡æ»¤æŸä¸ªç½‘æ®µçš„æ•°æ®ï¼ŒCIDR æ¨¡å¼ tcpdump net 1.2.3.0/24 ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:4:3","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"proto: è¿‡æ»¤æŸä¸ªåè®®çš„æ•°æ®ï¼Œæ”¯æŒ tcp, udp å’Œ icmpã€‚ä½¿ç”¨çš„æ—¶å€™å¯ä»¥çœç•¥ proto å…³é”®å­—ã€‚ tcpdump icmp ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:4:4","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"port: è¿‡æ»¤é€šè¿‡æŸä¸ªç«¯å£çš„æ•°æ®æŠ¥ tcpdump port 3389 ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:4:5","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"src/dst, port, protocol: ç»“åˆä¸‰è€… tcpdump src port 1025 and tcp tcpdump udp and src port 53 æ­¤å¤–è¿˜æœ‰æŒ‡å®šç«¯å£å’Œæ•°æ®æŠ¥æ–‡èŒƒå›´çš„è¿‡æ»¤å™¨ï¼š ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:4:6","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"port èŒƒå›´ tcpdump portrange 21-23 ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:4:7","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"æ•°æ®æŠ¥å¤§å°ï¼Œå•ä½æ˜¯å­—èŠ‚ tcpdump less 32 tcpdump greater 128 tcpdump \u003e 32 tcpdump \u003c= 128 è¿‡äºè¿‡æ»¤å™¨çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·è®¿é—® tcpdump å®˜æ–¹ map page çš„ PCAP-FILTER éƒ¨åˆ† ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:4:8","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"è¾“å‡ºåˆ°æ–‡ä»¶ ä½¿ç”¨ tcpdump æˆªå–æ•°æ®æŠ¥æ–‡çš„æ—¶å€™ï¼Œé»˜è®¤ä¼šæ‰“å°åˆ°å±å¹•çš„é»˜è®¤è¾“å‡ºï¼Œä½ ä¼šçœ‹åˆ°æŒ‰ç…§é¡ºåºå’Œæ ¼å¼ï¼Œå¾ˆå¤šçš„æ•°æ®ä¸€è¡Œè¡Œå¿«é€Ÿé—ªè¿‡ï¼Œæ ¹æœ¬æ¥ä¸åŠçœ‹æ¸…æ¥šæ‰€æœ‰çš„å†…å®¹ã€‚ä¸è¿‡ï¼Œtcpdump æä¾›äº†æŠŠæˆªå–çš„æ•°æ®ä¿å­˜åˆ°æ–‡ä»¶çš„åŠŸèƒ½ï¼Œä»¥ä¾¿åé¢ä½¿ç”¨å…¶ä»–å›¾å½¢å·¥å…·ï¼ˆæ¯”å¦‚ wiresharkï¼ŒSnortï¼‰æ¥åˆ†æã€‚ -w é€‰é¡¹ç”¨æ¥æŠŠæ•°æ®æŠ¥æ–‡è¾“å‡ºåˆ°æ–‡ä»¶ï¼Œæ¯”å¦‚ä¸‹é¢çš„å‘½ä»¤å°±æ˜¯æŠŠæ‰€æœ‰ 80 ç«¯å£çš„æ•°æ®å¯¼å…¥åˆ°æ–‡ä»¶ # sudo tcpdump -w capture_file.pcap port 80 -r å¯ä»¥è¯»å–æ–‡ä»¶é‡Œçš„æ•°æ®æŠ¥æ–‡ï¼Œæ˜¾ç¤ºåˆ°å±å¹•ä¸Šã€‚ # tcpdump -nXr capture_file.pcap host web30 NOTEï¼šä¿å­˜åˆ°æ–‡ä»¶çš„æ•°æ®ä¸æ˜¯å±å¹•ä¸Šçœ‹åˆ°çš„æ–‡ä»¶ä¿¡æ¯ï¼Œè€Œæ˜¯åŒ…å«äº†é¢å¤–ä¿¡æ¯çš„å›ºå®šæ ¼å¼ pcapï¼Œéœ€è¦ç‰¹æ®Šçš„è½¯ä»¶ï¼ˆå¦‚ï¼šWiresharkï¼‰æ¥æŸ¥çœ‹ï¼Œä½¿ç”¨ vim æˆ–è€… cat å‘½ä»¤ä¼šå‡ºç°ä¹±ç ã€‚ ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:5:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"å¼ºå¤§çš„è¿‡æ»¤å™¨ è¿‡æ»¤çš„çœŸæ­£å¼ºå¤§ä¹‹å¤„åœ¨äºä½ å¯ä»¥éšæ„ç»„åˆå®ƒä»¬ï¼Œè€Œè¿æ¥å®ƒä»¬çš„é€»è¾‘å°±æ˜¯å¸¸ç”¨çš„ ä¸/AND/\u0026\u0026ã€ æˆ–/OR/|| å’Œ é/not/!ã€‚ ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:6:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"æºåœ°å€æ˜¯ 10.5.2.3ï¼Œç›®çš„ç«¯å£æ˜¯ 3389 çš„æ•°æ®æŠ¥ tcpdump -nnvS src 10.5.2.3 and dst port 3389 ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:6:1","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"ä» 192.168 ç½‘æ®µåˆ° 10 æˆ–è€… 172.16 ç½‘æ®µçš„æ•°æ®æŠ¥ tcpdump -nvX src net 192.168.0.0/16 and dat net 10.0.0.0/8 or 172.16.0.0/16 ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:6:2","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"ä» Mars æˆ–è€… Pluto å‘å‡ºçš„æ•°æ®æŠ¥ï¼Œå¹¶ä¸”ç›®çš„ç«¯å£ä¸æ˜¯ 22 tcpdump -vv src mars or pluto and not dat port 22 ä»ä¸Šé¢çš„ä¾‹å­å°±å¯ä»¥çœ‹å‡ºï¼Œä½ å¯ä»¥éšæ„åœ°ç»„åˆä¹‹å‰çš„è¿‡æ»¤å™¨æ¥æˆªå–è‡ªå·±æœŸæœ›çš„æ•°æ®æŠ¥ï¼Œæœ€é‡è¦çš„å°±æ˜¯çŸ¥é“è‡ªå·±è¦ç²¾ç¡®åŒ¹é…çš„æ•°æ®å®¤æ€æ ·çš„ï¼ å¯¹äºæ¯”è¾ƒå¤æ‚çš„è¿‡æ»¤å™¨è¡¨è¾¾å¼ï¼Œä¸ºäº†é€»è¾‘çš„æ¸…æ™°ï¼Œå¯ä»¥ä½¿ç”¨æ‹¬å·ã€‚ä¸è¿‡é»˜è®¤æƒ…å†µä¸‹ï¼Œtcpdump æŠŠ () å½“åšç‰¹æ®Šçš„å­—ç¬¦ï¼Œæ‰€ä»¥å¿…é¡»ä½¿ç”¨å•å¼•å· ' æ¥æ¶ˆé™¤æ­§ä¹‰ï¼š tcpdump -nvv -c 20 'src 10.0.2.4 and (dat port 3389 or 22)' ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:6:3","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"å®ä¾‹ä¸€ tcpdump -i eth1 '((tcp) and (port 80) and ((dst host 192.168.1.254) or (dst host 192.168.1.200)))' æŠ“å–æ‰€æœ‰ç»è¿‡eth1ï¼Œç›®çš„åœ°å€æ˜¯192.168.1.254æˆ–192.168.1.200ç«¯å£æ˜¯80çš„TCPæ•° ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:6:4","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"å®ä¾‹äºŒ tcpdump -i eth1 '((icmp) and ((ether dst host 00:01:02:03:04:05)))' æŠ“å–æ‰€æœ‰ç»è¿‡eth1ï¼Œç›®æ ‡MACåœ°å€æ˜¯00:01:02:03:04:05çš„ICMPæ•°æ® ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:6:5","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"å®ä¾‹ä¸‰ tcpdump -i eth1 '((tcp) and ((dst net 192.168) and (not dst host 192.168.1.200)))' æŠ“å–æ‰€æœ‰ç»è¿‡eth1ï¼Œç›®çš„ç½‘ç»œæ˜¯192.168ï¼Œä½†ç›®çš„ä¸»æœºä¸æ˜¯192.168.1.200çš„TCPæ•°æ® ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:6:6","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"ç†è§£ tcpdump çš„è¾“å‡º æˆªå–æ•°æ®åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œç¬¬äºŒæ­¥å°±æ˜¯ç†è§£è¿™äº›æ•°æ®ï¼Œä¸‹é¢å°±è§£é‡Šä¸€ä¸‹ tcpdump å‘½ä»¤è¾“å‡ºå„éƒ¨åˆ†çš„æ„ä¹‰ã€‚ 21:27:06.995846 IP (tos 0x0, ttl 64, id 45646, offset 0, flags [DF], proto TCP (6), length 64) 192.168.1.106.56166 \u003e 124.192.132.54.80: Flags [S], cksum 0xa730 (correct), seq 992042666, win 65535, options [mss 1460,nop,wscale 4,nop,nop,TS val 663433143 ecr 0,sackOK,eol], length 0 21:27:07.030487 IP (tos 0x0, ttl 51, id 0, offset 0, flags [DF], proto TCP (6), length 44) 124.192.132.54.80 \u003e 192.168.1.106.56166: Flags [S.], cksum 0xedc0 (correct), seq 2147006684, ack 992042667, win 14600, options [mss 1440], length 0 21:27:07.030527 IP (tos 0x0, ttl 64, id 59119, offset 0, flags [DF], proto TCP (6), length 40) 192.168.1.106.56166 \u003e 124.192.132.54.80: Flags [.], cksum 0x3e72 (correct), ack 2147006685, win 65535, length 0 æœ€åŸºæœ¬ä¹Ÿæ˜¯æœ€é‡è¦çš„ä¿¡æ¯å°±æ˜¯æ•°æ®æŠ¥çš„æºåœ°å€/ç«¯å£å’Œç›®çš„åœ°å€/ç«¯å£ï¼Œä¸Šé¢çš„ä¾‹å­ç¬¬ä¸€æ¡æ•°æ®æŠ¥ä¸­ï¼Œæºåœ°å€ ip æ˜¯ 192.168.1.106ï¼Œæºç«¯å£æ˜¯ 56166ï¼Œç›®çš„åœ°å€æ˜¯ 124.192.132.54ï¼Œç›®çš„ç«¯å£æ˜¯ 80ã€‚ \u003e ç¬¦å·ä»£è¡¨æ•°æ®çš„æ–¹å‘ã€‚ æ­¤å¤–ï¼Œä¸Šé¢çš„ä¸‰æ¡æ•°æ®è¿˜æ˜¯ tcp åè®®çš„ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ï¼Œç¬¬ä¸€æ¡å°±æ˜¯ SYN æŠ¥æ–‡ï¼Œè¿™ä¸ªå¯ä»¥é€šè¿‡ Flags [S] çœ‹å‡ºã€‚ä¸‹é¢æ˜¯å¸¸è§çš„ TCP æŠ¥æ–‡çš„ Flags: [S]ï¼š SYNï¼ˆå¼€å§‹è¿æ¥ï¼‰ [.]: æ²¡æœ‰ Flag [P]: PSHï¼ˆæ¨é€æ•°æ®ï¼‰ [F]: FIN ï¼ˆç»“æŸè¿æ¥ï¼‰ [R]: RSTï¼ˆé‡ç½®è¿æ¥ï¼‰ è€Œç¬¬äºŒæ¡æ•°æ®çš„ [S.] è¡¨ç¤º SYN-ACKï¼Œå°±æ˜¯ SYN æŠ¥æ–‡çš„åº”ç­”æŠ¥æ–‡ã€‚ ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:7:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"æ¯”è¾ƒå¸¸ç”¨çš„æ–¹å¼ å¦‚æœæ˜¯ä¸ºäº†æŸ¥çœ‹æ•°æ®å†…å®¹ï¼Œå»ºè®®ç”¨tcpdump -s 0 -w filenameæŠŠæ•°æ®åŒ…éƒ½ä¿å­˜ä¸‹æ¥ï¼Œç„¶åç”¨wiresharkçš„Follow TCP Stream/Follow UDP Streamæ¥æŸ¥çœ‹æ•´ä¸ªä¼šè¯çš„å†…å®¹ã€‚-s 0æ˜¯æŠ“å–å®Œæ•´æ•°æ®åŒ…ï¼Œå¦åˆ™é»˜è®¤åªæŠ“68å­—èŠ‚ã€‚ç”¨tcpflowä¹Ÿå¯ä»¥æ–¹ä¾¿çš„è·å–TCPä¼šè¯å†…å®¹ï¼Œæ”¯æŒtcpdumpçš„å„ç§è¡¨è¾¾å¼ã€‚ ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:8:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"UDPå¤´ 0 7 8 15 16 23 24 31 +--------+--------+--------+--------+ | Source | Destination | | Port | Port | +--------+--------+--------+--------+ | | | | Length | Checksum | +--------+--------+--------+--------+ | | | DATA ... | +-----------------------------------+ /*UDPå¤´å®šä¹‰ï¼Œå…±8ä¸ªå­—èŠ‚*/ typedef struct _UDP_HEADER { unsigned short m_usSourPort; //æºç«¯å£å·16bit unsigned short m_usDestPort; //ç›®çš„ç«¯å£å·16bit unsigned short m_usLength; //æ•°æ®åŒ…é•¿åº¦16bit unsigned short m_usCheckSum; //æ ¡éªŒå’Œ16bit }__attribute__((packed))UDP_HEADER, *PUDP_HEADER; æŠ“DNSè¯·æ±‚æ•°æ® tcpdump -i eth1 udp dst port 53 ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:8:1","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"ç³»ç»Ÿæµ‹è¯• -cå‚æ•°å¯¹äºè¿ç»´äººå‘˜æ¥è¯´ä¹Ÿæ¯”è¾ƒå¸¸ç”¨ï¼Œå› ä¸ºæµé‡æ¯”è¾ƒå¤§çš„æœåŠ¡å™¨ï¼Œé äººå·¥CTRL+Cè¿˜æ˜¯æŠ“çš„å¤ªå¤šï¼Œç”šè‡³å¯¼è‡´æœåŠ¡å™¨å®•æœºï¼Œäºæ˜¯å¯ä»¥ç”¨-cå‚æ•°æŒ‡å®šæŠ“å¤šå°‘ä¸ªåŒ…ã€‚ time tcpdump -nn -i eth0 'tcp[tcpflags] = tcp-syn' -c 10000 \u003e /dev/null ä¸Šé¢çš„å‘½ä»¤è®¡ç®—æŠ“10000ä¸ªSYNåŒ…èŠ±è´¹å¤šå°‘æ—¶é—´ï¼Œå¯ä»¥åˆ¤æ–­è®¿é—®é‡å¤§æ¦‚æ˜¯å¤šå°‘ã€‚ã€€","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:8:2","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"tcpdump ä¸wireshark Wireshark(ä»¥å‰æ˜¯ethereal)æ˜¯Windowsä¸‹éå¸¸ç®€å•æ˜“ç”¨çš„æŠ“åŒ…å·¥å…·ã€‚ä½†åœ¨Linuxä¸‹å¾ˆéš¾æ‰¾åˆ°ä¸€ä¸ªå¥½ç”¨çš„å›¾å½¢åŒ–æŠ“åŒ…å·¥å…·ã€‚ è¿˜å¥½æœ‰Tcpdumpã€‚æˆ‘ä»¬å¯ä»¥ç”¨Tcpdump + Wireshark çš„å®Œç¾ç»„åˆå®ç°ï¼šåœ¨ Linux é‡ŒæŠ“åŒ…ï¼Œç„¶ååœ¨Windows é‡Œåˆ†æåŒ…ã€‚ tcpdump tcp -i eth1 -t -s 0 -c 100 and dst port ! 22 and src net 192.168.1.0/24 -w ./target.capã€€ tcp: ip icmp arp rarp å’Œ tcpã€udpã€icmpè¿™äº›é€‰é¡¹ç­‰éƒ½è¦æ”¾åˆ°ç¬¬ä¸€ä¸ªå‚æ•°çš„ä½ç½®ï¼Œç”¨æ¥è¿‡æ»¤æ•°æ®æŠ¥çš„ç±»å‹ -i eth1 : åªæŠ“ç»è¿‡æ¥å£eth1çš„åŒ… -t : ä¸æ˜¾ç¤ºæ—¶é—´æˆ³ -s 0 : æŠ“å–æ•°æ®åŒ…æ—¶é»˜è®¤æŠ“å–é•¿åº¦ä¸º68å­—èŠ‚ã€‚åŠ ä¸Š-S 0 åå¯ä»¥æŠ“åˆ°å®Œæ•´çš„æ•°æ®åŒ… -c 100 : åªæŠ“å–100ä¸ªæ•°æ®åŒ… dst port ! 22 : ä¸æŠ“å–ç›®æ ‡ç«¯å£æ˜¯22çš„æ•°æ®åŒ… src net 192.168.1.0/24 : æ•°æ®åŒ…çš„æºç½‘ç»œåœ°å€ä¸º192.168.1.0/24 -w ./target.cap : ä¿å­˜æˆcapæ–‡ä»¶ï¼Œæ–¹ä¾¿ç”¨ethereal(å³wireshark)åˆ†æ ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:8:3","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"ä½¿ç”¨tcpdumpæŠ“å–HTTPåŒ… tcpdump -XvvennSs 0 -i eth0 tcp[20:2]=0x4745 or tcp[20:2]=0x4854ã€€ 0x4745 ä¸º\"GET\"å‰ä¸¤ä¸ªå­—æ¯\"GE\" 0x4854 ä¸º\"HTTP\"å‰ä¸¤ä¸ªå­—æ¯\"HT\" tcpdump å¯¹æˆªè·çš„æ•°æ®å¹¶æ²¡æœ‰è¿›è¡Œå½»åº•è§£ç ï¼Œæ•°æ®åŒ…å†…çš„å¤§éƒ¨åˆ†å†…å®¹æ˜¯ä½¿ç”¨åå…­è¿›åˆ¶çš„å½¢å¼ç›´æ¥æ‰“å°è¾“å‡ºçš„ã€‚æ˜¾ç„¶è¿™ä¸åˆ©äºåˆ†æç½‘ç»œæ•…éšœï¼Œé€šå¸¸çš„è§£å†³åŠæ³•æ˜¯å…ˆä½¿ç”¨å¸¦**-w**å‚æ•°çš„tcpdump æˆªè·æ•°æ®å¹¶ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œç„¶åå†ä½¿ç”¨å…¶ä»–ç¨‹åº(å¦‚Wireshark)è¿›è¡Œè§£ç åˆ†æã€‚å½“ç„¶ä¹Ÿåº”è¯¥å®šä¹‰è¿‡æ»¤è§„åˆ™ï¼Œä»¥é¿å…æ•è·çš„æ•°æ®åŒ…å¡«æ»¡æ•´ä¸ªç¡¬ç›˜ã€‚ åŸºæœ¬ä¸Štcpdumpæ€»çš„çš„è¾“å‡ºæ ¼å¼ä¸ºï¼šç³»ç»Ÿæ—¶é—´ æ¥æºä¸»æœº.ç«¯å£ \u003e ç›®æ ‡ä¸»æœº.ç«¯å£ æ•°æ®åŒ…å‚æ•° ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/:8:4","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤ä½¿ç”¨ç®€ä»‹","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/"},{"categories":["Linux","Network"],"content":"é¦–å…ˆäº†è§£å¦‚ä½•ä»åŒ…å¤´è¿‡æ»¤ä¿¡æ¯ proto[x:y] : è¿‡æ»¤ä»xå­—èŠ‚å¼€å§‹çš„yå­—èŠ‚æ•°ã€‚æ¯”å¦‚ip[2:2]è¿‡æ»¤å‡º3ã€4å­—èŠ‚ï¼ˆç¬¬ä¸€å­—èŠ‚ä»0å¼€å§‹æ’ï¼‰ proto[x:y] \u0026 z = 0 : proto[x:y]å’Œzçš„ä¸æ“ä½œä¸º0 proto[x:y] \u0026 z !=0 : proto[x:y]å’Œzçš„ä¸æ“ä½œä¸ä¸º0 proto[x:y] \u0026 z = z : proto[x:y]å’Œzçš„ä¸æ“ä½œä¸ºz proto[x:y] = z : proto[x:y]ç­‰äºz æ“ä½œç¬¦ : \u003e, \u003c, \u003e=, \u003c=, =, != ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/:0:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤é«˜çº§è¿‡æ»¤æ–¹å¼","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/"},{"categories":["Linux","Network"],"content":"IPå¤´ï¼ˆIPV4ï¼‰ 0 1 2 3 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ |Version| IHL |Type of Service| Total Length | +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ | Identification |Flags| Fragment Offset | +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ | Time to Live | Protocol | Header Checksum | +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ | Source Address | +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ | Destination Address | +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ | Options | Padding | \u003c-- optional +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ | DATA ... | +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ ä¸­æ–‡ï¼š /*IPå¤´å®šä¹‰ï¼Œå…±20ä¸ªå­—èŠ‚*/ typedef struct _IP_HEADER { char m_cVersionAndHeaderLen; //ç‰ˆæœ¬ä¿¡æ¯(å‰4ä½)ï¼Œå¤´é•¿åº¦(å4ä½) char m_cTypeOfService; // æœåŠ¡ç±»å‹8ä½ short m_sTotalLenOfPacket; //æ•°æ®åŒ…é•¿åº¦ short m_sPacketID; //æ•°æ®åŒ…æ ‡è¯† short m_sSliceinfo; //åˆ†ç‰‡ä½¿ç”¨ char m_cTTL; //å­˜æ´»æ—¶é—´ char m_cTypeOfProtocol; //åè®®ç±»å‹ short m_sCheckSum; //æ ¡éªŒå’Œ unsigned int m_uiSourIp; //æºip unsigned int m_uiDestIp; //ç›®çš„ip } __attribute__((packed))IP_HEADER, *PIP_HEADER ; ç‰ˆæœ¬ï¼š â€‹ æŒ‡IPåè®®çš„ç‰ˆæœ¬ï¼Œé€šä¿¡åŒæ–¹ä½¿ç”¨çš„IPåè®®ç‰ˆæœ¬å¿…é¡»ä¸€è‡´ã€‚ä¸€èˆ¬çš„å€¼ä¸º0100ï¼ˆIPv4ï¼‰ï¼Œ0110ï¼ˆIPv6ï¼‰ã€‚ é¦–éƒ¨é•¿åº¦ï¼š â€‹ é•¿åº¦4æ¯”ç‰¹ã€‚è¿™ä¸ªå­—æ®µçš„ä½œç”¨æ˜¯ä¸ºäº†æè¿°IPåŒ…å¤´çš„é•¿åº¦ï¼Œå› ä¸ºåœ¨IPåŒ…å¤´ä¸­æœ‰å˜é•¿çš„å¯é€‰éƒ¨åˆ†ã€‚è¯¥éƒ¨åˆ†å 4ä¸ªbitä½ï¼Œå•ä½ä¸º32bitï¼ˆ4ä¸ªå­—èŠ‚ï¼‰ï¼Œå³æœ¬åŒºåŸŸå€¼= IPå¤´éƒ¨é•¿åº¦ï¼ˆå•ä½ä¸ºbitï¼‰/(84)ï¼Œå› æ­¤ï¼Œä¸€ä¸ªIPåŒ…å¤´çš„é•¿åº¦æœ€é•¿ä¸ºâ€œ1111â€ï¼Œå³154ï¼60ä¸ªå­—èŠ‚ã€‚IPåŒ…å¤´æœ€å°é•¿åº¦ä¸º20å­—èŠ‚ã€‚ ä¼˜å…ˆçº§ä¸æœåŠ¡ç±»å‹ï¼š â€‹ é•¿åº¦8æ¯”ç‰¹ï¼Œå®šä¹‰äº†æ•°æ®åŒ…ä¼ è¾“çš„ç´§æ€¥ç¨‹åº¦ä»¥åŠæ—¶å»¶ã€å¯é æ€§ã€ä¼ è¾“æˆæœ¬ç­‰ã€‚ æ€»é•¿åº¦ï¼š â€‹ 16æ¯”ç‰¹ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½æè¿°IPåŒ…çš„æ€»é•¿åº¦ï¼ˆåŒ…æ‹¬å¤´éƒ¨å’Œæ•°æ®ä¸¤éƒ¨åˆ†ï¼‰ï¼Œæœ€å¤§å€¼ä¸º65535ã€‚ç¬¬äºŒè¡Œä¸­æ ‡è¯†ç¬¦ã€æ ‡å¿—å’Œæ®µåç§»é‡é€šå¸¸è”åˆä½¿ç”¨ï¼Œç”¨äºæ•°æ®æ‹†åˆ†æ—¶çš„åˆ†ç»„å’Œé‡ç»„ã€‚ æ ‡è¯†ç¬¦ï¼š â€‹ å¯¹äºä¸Šå±‚å‘æ¥çš„è¾ƒå¤§çš„æ•°æ®åŒ…ï¼Œå¾€å¾€éœ€è¦æ‹†åˆ†ã€‚è·¯ç”±å™¨å°†ä¸€ä¸ªå¤§åŒ…è¿›è¡Œæ‹†åˆ†åï¼Œæ‹†å‡ºæ¥çš„æ‰€æœ‰éƒ¨åˆ†è¢«æ ‡ä¸Šç›¸åŒçš„å€¼ï¼Œè¯¥å€¼å³ä¸ºæ ‡è¯†ç¬¦ï¼Œç”¨äºå‘Šè¯‰ç›®çš„ç«¯å“ªäº›åŒ…å±äºåŒä¸€ä¸ªå¤§åŒ…ã€‚ æ ‡å¿—ï¼š â€‹ é•¿åº¦3æ¯”ç‰¹ã€‚è¯¥å­—æ®µç¬¬ä¸€ä½ä¸ä½¿ç”¨ã€‚ç¬¬äºŒä½æ˜¯DFï¼ˆDonâ€™t Fragmentï¼‰ä½ï¼ŒDFä½è®¾ä¸º1æ—¶è¡¨æ˜è·¯ç”±å™¨ä¸èƒ½å¯¹è¯¥ä¸Šå±‚æ•°æ®åŒ…åˆ†æ®µã€‚å¦‚æœä¸€ä¸ªä¸Šå±‚æ•°æ®åŒ…æ— æ³•åœ¨ä¸åˆ†æ®µçš„æƒ…å†µä¸‹è¿›è¡Œè½¬å‘ï¼Œåˆ™è·¯ç”±å™¨ä¼šä¸¢å¼ƒè¯¥ä¸Šå±‚æ•°æ®åŒ…å¹¶è¿”å›ä¸€ä¸ªé”™è¯¯ä¿¡æ¯ã€‚ç¬¬ä¸‰ä½æ˜¯MFï¼ˆMore Fragmentsï¼‰ä½ï¼Œå½“è·¯ç”±å™¨å¯¹ä¸€ä¸ªä¸Šå±‚æ•°æ®åŒ…åˆ†æ®µï¼Œåˆ™è·¯ç”±å™¨ä¼šåœ¨é™¤äº†æœ€åä¸€ä¸ªåˆ†æ®µçš„IPåŒ…çš„åŒ…å¤´ä¸­å°†MFä½è®¾ä¸º1ã€‚ æ®µåç§»é‡ï¼š â€‹ é•¿åº¦13æ¯”ç‰¹ï¼Œè¡¨ç¤ºä¸€ä¸ªæ•°æ®åŒ…åœ¨åŸå…ˆè¢«æ‹†åˆ†å‰çš„å¤§åŒ…ä¸­çš„ä½ç½®ã€‚æ¥æ”¶ç«¯æ®æ­¤æ¥è¿˜åŸå’Œç»„è£…IPåŒ…ã€‚ TTLï¼š â€‹ è¡¨ç¤ºIPåŒ…çš„ç”Ÿå­˜æ—¶é—´ï¼Œé•¿åº¦8æ¯”ç‰¹ã€‚é•¿åº¦8æ¯”ç‰¹ã€‚å½“IPåŒ…è¿›è¡Œä¼ é€æ—¶ï¼Œå…ˆä¼šå¯¹è¯¥å­—æ®µèµ‹äºˆæŸä¸ªç‰¹å®šçš„å€¼ã€‚å½“IPåŒ…ç»è¿‡æ¯ä¸€ä¸ªæ²¿é€”çš„è·¯ç”±å™¨çš„æ—¶å€™ï¼Œæ¯ä¸ªæ²¿é€”çš„è·¯ç”±å™¨ä¼šå°†IPåŒ…çš„TTLå€¼å‡å°‘1ã€‚å¦‚æœTTLå‡å°‘ä¸º0ï¼Œåˆ™è¯¥IPåŒ…ä¼šè¢«ä¸¢å¼ƒã€‚è¿™ä¸ªå­—æ®µå¯ä»¥é˜²æ­¢ç”±äºè·¯ç”±ç¯è·¯è€Œå¯¼è‡´IPåŒ…åœ¨ç½‘ç»œä¸­ä¸åœè¢«è½¬å‘ã€‚ åè®®å·ï¼š â€‹ é•¿åº¦8æ¯”ç‰¹ï¼Œæ ‡è¯†ä¸Šä¸€å±‚å³ä¼ è¾“å±‚åœ¨æœ¬æ¬¡æ•°æ®ä¼ è¾“ä¸­æ‰€ä½¿ç”¨çš„åè®®ã€‚æ¯”å¦‚6ä»£è¡¨TCPï¼Œ17ä»£è¡¨UDPç­‰ é¦–éƒ¨æ ¡éªŒå’Œï¼š â€‹ é•¿åº¦16ä½ã€‚ç”¨æ¥åšIPå¤´éƒ¨çš„æ­£ç¡®æ€§æ£€æµ‹ï¼Œä½†ä¸åŒ…å«æ•°æ®éƒ¨åˆ†ã€‚ å› ä¸ºæ¯ä¸ªè·¯ç”±å™¨è¦æ”¹å˜TTLçš„å€¼,æ‰€ä»¥è·¯ç”±å™¨ä¼šä¸ºæ¯ä¸ªé€šè¿‡çš„æ•°æ®åŒ…é‡æ–°è®¡ç®—è¿™ä¸ªå€¼ã€‚ æºåœ°å€ï¼š â€‹ é•¿åº¦32æ¯”ç‰¹ï¼Œæ ‡è¯†IPåŒ…çš„èµ·æºåœ°å€ã€‚ ç›®æ ‡åœ°å€ï¼š â€‹ é•¿åº¦32æ¯”ç‰¹ï¼Œè¡¨ç¤ºIPåŒ…çš„ç›®çš„åœ°å€ã€‚ å¯é€‰é¡¹ï¼š â€‹ å¯å˜é•¿å­—æ®µï¼Œä¸»è¦ç”¨äºæµ‹è¯•ï¼Œç”±èµ·æºè®¾å¤‡è·Ÿæ®éœ€è¦æ”¹å†™ã€‚ å¡«å……ï¼š â€‹ å› ä¸ºIPåŒ…å¤´é•¿åº¦ï¼ˆHeader Lengthï¼‰éƒ¨åˆ†çš„å•ä½ä¸º32bitï¼Œæ‰€ä»¥IPåŒ…å¤´çš„é•¿åº¦å¿…é¡»ä¸º32bitçš„æ•´æ•°å€ã€‚å› æ­¤ï¼Œåœ¨å¯é€‰é¡¹åé¢ï¼ŒIPåè®®ä¼šå¡«å……è‹¥å¹²ä¸ª0ï¼Œä»¥è¾¾åˆ°32bitçš„æ•´æ•°å€ ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/:1:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤é«˜çº§è¿‡æ»¤æ–¹å¼","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/"},{"categories":["Linux","Network"],"content":"IPé€‰é¡¹ ä¸€èˆ¬çš„IPå¤´æ˜¯20å­—èŠ‚ï¼Œä½†IPå¤´æœ‰é€‰é¡¹è®¾ç½®ï¼Œä¸èƒ½ç›´æ¥ä»åç§»21å­—èŠ‚å¤„è¯»å–æ•°æ®ã€‚IPå¤´æœ‰ä¸ªé•¿åº¦å­—æ®µå¯ä»¥çŸ¥é“å¤´é•¿åº¦æ˜¯å¦å¤§äº20å­—èŠ‚ã€‚ é€šå¸¸ç¬¬ä¸€ä¸ªå­—èŠ‚çš„äºŒè¿›åˆ¶å€¼æ˜¯ï¼š01000101ï¼Œ åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼š 0100 = 4 è¡¨ç¤ºIPç‰ˆæœ¬ 0101 = 5 è¡¨ç¤ºIPå¤´32 bitçš„å—æ•°ï¼Œ 5 x 32 bits = 160 bits or 20 bytes å¦‚æœç¬¬ä¸€å­—èŠ‚ç¬¬äºŒéƒ¨åˆ†çš„å€¼å¤§äº5ï¼Œé‚£ä¹ˆè¡¨ç¤ºå¤´æœ‰IPé€‰é¡¹ã€‚ ä¸‹é¢ä»‹ç»æœ‰è¿‡æ»¤æ–¹æ³• **0100 0101 **: ç¬¬ä¸€å­—èŠ‚çš„äºŒè¿›åˆ¶ 0000 1111 : ä¸æ“ä½œ \u003c========= 0000 0101 : ç»“æœ æ­£ç¡®çš„è¿‡æ»¤æ–¹æ³•: tcpdump -i eth1 'ip[0] \u0026 15 \u003e 5' æˆ–è€… tcpdump -i eth1 'ip[0] \u0026 0x0f \u003e 5'ã€€ ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/:2:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤é«˜çº§è¿‡æ»¤æ–¹å¼","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/"},{"categories":["Linux","Network"],"content":"åˆ†ç‰‡æ ‡è®° å½“å‘é€ç«¯çš„MTUå¤§äºåˆ°ç›®çš„è·¯å¾„é“¾è·¯ä¸Šçš„MTUæ—¶å°±ä¼šè¢«åˆ†ç‰‡ï¼Œåˆ†ç‰‡ä¿¡æ¯åœ¨IPå¤´çš„ç¬¬ä¸ƒå’Œç¬¬å…«å­—èŠ‚ï¼š +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ |Flags| Fragment Offset | +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ Bit 0: ä¿ç•™ï¼Œå¿…é¡»æ˜¯0 Bit 1: (DF) 0 = å¯èƒ½åˆ†ç‰‡, 1 = ä¸åˆ†ç‰‡ Bit 2: (MF) 0 = æœ€åçš„åˆ†ç‰‡, 1 = è¿˜æœ‰åˆ†ç‰‡ Fragment Offsetå­—æ®µåªæœ‰åœ¨åˆ†ç‰‡çš„æ—¶å€™æ‰ä½¿ç”¨ã€‚ è¦æŠ“å¸¦DFä½æ ‡è®°çš„ä¸åˆ†ç‰‡çš„åŒ…ï¼Œç¬¬ä¸ƒå­—èŠ‚çš„å€¼åº”è¯¥æ˜¯ï¼š 01000000 = 64 tcpdump -i eth1 'ip[6] = 64' ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/:3:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤é«˜çº§è¿‡æ»¤æ–¹å¼","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/"},{"categories":["Linux","Network"],"content":"æŠ“åˆ†ç‰‡åŒ… åŒ¹é…MFï¼Œåˆ†ç‰‡åŒ… tcpdump -i eth1 'ip[6] = 32' æœ€ååˆ†ç‰‡åŒ…çš„å¼€å§‹3ä½æ˜¯0ï¼Œä½†æ˜¯æœ‰Fragment Offsetå­—æ®µã€‚ åŒ¹é…åˆ†ç‰‡å’Œæœ€ååˆ†ç‰‡ tcpdump -i eth1 '((ip[6:2] \u003e 0) and (not ip[6] = 64))' æµ‹è¯•åˆ†ç‰‡å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š ping -M want -s 3000 192.168.1.1 ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/:4:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤é«˜çº§è¿‡æ»¤æ–¹å¼","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/"},{"categories":["Linux","Network"],"content":"åŒ¹é…å°TTL TTLå­—æ®µåœ¨ç¬¬ä¹å­—èŠ‚ï¼Œå¹¶ä¸”æ­£å¥½æ˜¯å®Œæ•´çš„ä¸€ä¸ªå­—èŠ‚ï¼ŒTTLæœ€å¤§å€¼æ˜¯255ï¼ŒäºŒè¿›åˆ¶ä¸º11111111ã€‚ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤éªŒè¯ä¸€ä¸‹ï¼š $ ping -M want -s 3000 -t 256 192.168.1.200 ping: ttl 256 out of range +-+-+-+-+-+-+-+-+ | Time to Live | +-+-+-+-+-+-+-+-+ åœ¨ç½‘å…³å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤çœ‹çœ‹ç½‘ç»œä¸­è°åœ¨ä½¿ç”¨traceroute tcpdump -i eth1 'ip[8] \u003c 5' ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/:5:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤é«˜çº§è¿‡æ»¤æ–¹å¼","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/"},{"categories":["Linux","Network"],"content":"æŠ“å¤§äºXå­—èŠ‚çš„åŒ… å¤§äº600å­—èŠ‚ tcpdump -i eth1 'ip[2:2] \u003e 600' ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/:6:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤é«˜çº§è¿‡æ»¤æ–¹å¼","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/"},{"categories":["Linux","Network"],"content":"æ›´å¤šçš„è¿‡æ»¤æ–¹å¼ é¦–å…ˆè¿˜æ˜¯éœ€è¦çŸ¥é“TCPåŸºæœ¬ç»“æ„ TCPå¤´ 0 1 2 3 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ | Source Port | Destination Port | +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ | Sequence Number | +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ | Acknowledgment Number | +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ | Data | |C|E|U|A|P|R|S|F| | | Offset| Res. |W|C|R|C|S|S|Y|I| Window | | | |R|E|G|K|H|T|N|N| | +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ | Checksum | Urgent Pointer | +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ | Options | Padding | +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ | data | +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ ã€€ /*TCPå¤´å®šä¹‰ï¼Œå…±20ä¸ªå­—èŠ‚*/ typedef struct _TCP_HEADER { short m_sSourPort; //æºç«¯å£å·16bit short m_sDestPort; //ç›®çš„ç«¯å£å·16bit unsigned int m_uiSequNum; //åºåˆ—å·32bit unsigned int m_uiAcknowledgeNum; //ç¡®è®¤å·32bit short m_sHeaderLenAndFlag; //å‰4ä½ï¼šTCPå¤´é•¿åº¦ï¼›ä¸­6ä½ï¼šä¿ç•™ï¼›å6ä½ï¼šæ ‡å¿—ä½ short m_sWindowSize; //çª—å£å¤§å°16bit short m_sCheckSum; //æ£€éªŒå’Œ16bit short m_surgentPointer; //ç´§æ€¥æ•°æ®åç§»é‡16bit }__attribute__((packed))TCP_HEADER, *PTCP_HEADER; /*TCPå¤´ä¸­çš„é€‰é¡¹å®šä¹‰ kind(8bit)+Length(8bitï¼Œæ•´ä¸ªé€‰é¡¹çš„é•¿åº¦ï¼ŒåŒ…å«å‰ä¸¤éƒ¨åˆ†)+å†…å®¹(å¦‚æœæœ‰çš„è¯) KIND = 1è¡¨ç¤º æ— æ“ä½œNOPï¼Œæ— åé¢çš„éƒ¨åˆ† 2è¡¨ç¤º maximum segment åé¢çš„LENGTHå°±æ˜¯maximum segmenté€‰é¡¹çš„é•¿åº¦ï¼ˆä»¥byteä¸ºå•ä½ï¼Œ1+1+å†…å®¹éƒ¨åˆ†é•¿åº¦ï¼‰ 3è¡¨ç¤º windows scale åé¢çš„LENGTHå°±æ˜¯ windows scaleé€‰é¡¹çš„é•¿åº¦ï¼ˆä»¥byteä¸ºå•ä½ï¼Œ1+1+å†…å®¹éƒ¨åˆ†é•¿åº¦ï¼‰ 4è¡¨ç¤º SACK permitted LENGTHä¸º2ï¼Œæ²¡æœ‰å†…å®¹éƒ¨åˆ† 5è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªSACKåŒ… LENGTHä¸º2ï¼Œæ²¡æœ‰å†…å®¹éƒ¨åˆ† 8è¡¨ç¤ºæ—¶é—´æˆ³ï¼ŒLENGTHä¸º10ï¼Œå«8ä¸ªå­—èŠ‚çš„æ—¶é—´æˆ³ */ 16ä½æºç«¯å£å·å’Œ16ä½ç›®çš„ç«¯å£å·ã€‚ 32ä½åºå·ï¼š â€‹ ä¸€æ¬¡TCPé€šä¿¡è¿‡ç¨‹ä¸­æŸä¸€ä¸ªä¼ è¾“æ–¹å‘ä¸Šçš„å­—èŠ‚æµçš„æ¯ä¸ªå­—èŠ‚çš„ç¼–å·ï¼Œé€šè¿‡è¿™ä¸ªæ¥ç¡®è®¤å‘é€çš„æ•°æ®æœ‰åºï¼Œæ¯”å¦‚ç°åœ¨åºåˆ—å·ä¸º1000ï¼Œå‘é€äº†1000ï¼Œä¸‹ä¸€ä¸ªåºåˆ—å·å°±æ˜¯2000ã€‚ 32ä½ç¡®è®¤å·ï¼š â€‹ ç”¨æ¥å“åº”TCPæŠ¥æ–‡æ®µï¼Œç»™æ”¶åˆ°çš„TCPæŠ¥æ–‡æ®µçš„åºå·åŠ 1ï¼Œä¸‰æ¡æ—¶è¿˜è¦æºå¸¦è‡ªå·±çš„åºå·ã€‚ 4ä½å¤´éƒ¨é•¿åº¦ï¼š â€‹ æ ‡è¯†è¯¥TCPå¤´éƒ¨æœ‰å¤šå°‘ä¸ª4å­—èŠ‚ï¼Œå…±è¡¨ç¤ºæœ€é•¿15*4=60å­—èŠ‚ã€‚åŒIPå¤´éƒ¨ã€‚ 6ä½ä¿ç•™ï¼š â€‹ 6ä½æ ‡å¿—ã€‚URGï¼ˆç´§æ€¥æŒ‡é’ˆæ˜¯å¦æœ‰æ•ˆï¼‰ACKï¼ˆè¡¨ç¤ºç¡®è®¤å·æ˜¯å¦æœ‰æ•ˆï¼‰PSHï¼ˆæç¤ºæ¥æ”¶ç«¯åº”ç”¨ç¨‹åºåº”è¯¥ç«‹å³ä»TCPæ¥æ”¶ç¼“å†²åŒºè¯»èµ°æ•°æ®ï¼‰RSTï¼ˆè¡¨ç¤ºè¦æ±‚å¯¹æ–¹é‡æ–°å»ºç«‹è¿æ¥ï¼‰SYNï¼ˆè¡¨ç¤ºè¯·æ±‚å»ºç«‹ä¸€ä¸ªè¿æ¥ï¼‰FINï¼ˆè¡¨ç¤ºé€šçŸ¥å¯¹æ–¹æœ¬ç«¯è¦å…³é—­è¿æ¥ï¼‰ 16ä½çª—å£å¤§å°ï¼š â€‹ TCPæµé‡æ§åˆ¶çš„ä¸€ä¸ªæ‰‹æ®µï¼Œç”¨æ¥å‘Šè¯‰å¯¹ç«¯TCPç¼“å†²åŒºè¿˜èƒ½å®¹çº³å¤šå°‘å­—èŠ‚ã€‚ 16ä½æ ¡éªŒå’Œï¼š â€‹ ç”±å‘é€ç«¯å¡«å……ï¼Œæ¥æ”¶ç«¯å¯¹æŠ¥æ–‡æ®µæ‰§è¡ŒCRCç®—æ³•ä»¥æ£€éªŒTCPæŠ¥æ–‡æ®µåœ¨ä¼ è¾“ä¸­æ˜¯å¦æŸåã€‚ 16ä½ç´§æ€¥æŒ‡é’ˆï¼š â€‹ ä¸€ä¸ªæ­£çš„åç§»é‡ï¼Œå®ƒå’Œåºå·æ®µçš„å€¼ç›¸åŠ è¡¨ç¤ºæœ€åä¸€ä¸ªç´§æ€¥æ•°æ®çš„ä¸‹ä¸€å­—èŠ‚çš„åºå·ã€‚ æ ‡å¿—ä½å­—æ®µï¼ˆUã€Aã€Pã€Rã€Sã€Fï¼‰ï¼š å 6æ¯”ç‰¹ã€‚å„æ¯”ç‰¹çš„å«ä¹‰å¦‚ä¸‹ï¼š URGï¼šç´§æ€¥æŒ‡é’ˆï¼ˆurgent pointerï¼‰æœ‰æ•ˆã€‚ ACKï¼šç¡®è®¤åºå·æœ‰æ•ˆã€‚ PSHï¼šæ¥æ”¶æ–¹åº”è¯¥å°½å¿«å°†è¿™ä¸ªæŠ¥æ–‡æ®µäº¤ç»™åº”ç”¨å±‚ã€‚ RSTï¼šé‡å»ºè¿æ¥ã€‚ SYNï¼šå‘èµ·ä¸€ä¸ªè¿æ¥ã€‚ FINï¼šé‡Šæ”¾ä¸€ä¸ªè¿æ¥ã€‚ çª—å£å¤§å°å­—æ®µï¼šå 16æ¯”ç‰¹ã€‚æ­¤å­—æ®µç”¨æ¥è¿›è¡Œæµé‡æ§åˆ¶ã€‚å•ä½ä¸ºå­—èŠ‚æ•°ï¼Œè¿™ä¸ªå€¼æ˜¯æœ¬æœºæœŸæœ›ä¸€æ¬¡æ¥æ”¶çš„å­—èŠ‚æ•°ã€‚ TCPæ ¡éªŒå’Œå­—æ®µï¼šå 16æ¯”ç‰¹ã€‚å¯¹æ•´ä¸ªTCPæŠ¥æ–‡æ®µï¼Œå³TCPå¤´éƒ¨å’ŒTCPæ•°æ®è¿›è¡Œæ ¡éªŒå’Œè®¡ç®—ï¼Œå¹¶ç”±ç›®æ ‡ç«¯è¿›è¡ŒéªŒè¯ã€‚ ç´§æ€¥æŒ‡é’ˆå­—æ®µï¼šå 16æ¯”ç‰¹ã€‚å®ƒæ˜¯ä¸€ä¸ªåç§»é‡ï¼Œå’Œåºå·å­—æ®µä¸­çš„å€¼ç›¸åŠ è¡¨ç¤ºç´§æ€¥æ•°æ®æœ€åä¸€ä¸ªå­—èŠ‚çš„åºå·ã€‚ é€‰é¡¹å­—æ®µï¼šå 32æ¯”ç‰¹ã€‚å¯èƒ½åŒ…æ‹¬\"çª—å£æ‰©å¤§å› å­\"ã€â€œæ—¶é—´æˆ³\"ç­‰é€‰é¡¹ã€‚ æŠ“å–æºç«¯å£å¤§äº1024çš„TCPæ•°æ®åŒ… tcpdump -i eth1 'tcp[0:2] \u003e 1024' åŒ¹é…TCPæ•°æ®åŒ…çš„ç‰¹æ®Šæ ‡è®° TCPæ ‡è®°å®šä¹‰åœ¨TCPå¤´çš„ç¬¬åå››ä¸ªå­—èŠ‚ +-+-+-+-+-+-+-+-+ |C|E|U|A|P|R|S|F| |W|C|R|C|S|S|Y|I| |R|E|G|K|H|T|N|N| +-+-+-+-+-+-+-+-+ åªæŠ“SYNåŒ…ï¼Œç¬¬åå››å­—èŠ‚æ˜¯äºŒè¿›åˆ¶çš„00000010ï¼Œä¹Ÿå°±æ˜¯åè¿›åˆ¶çš„2 tcpdump -i eth1 'tcp[13] = 2' æŠ“SYN, ACK ï¼ˆ00010010 or 18ï¼‰ tcpdump -i eth1 'tcp[13] = 18' æŠ“SYNæˆ–è€…SYN-ACK tcpdump -i eth1 'tcp[13] \u0026 2 = 2' æŠ“PSH-ACK tcpdump -i eth1 'tcp[13] = 24' æŠ“æ‰€æœ‰åŒ…å«FINæ ‡è®°çš„åŒ…ï¼ˆFINé€šå¸¸å’ŒACKä¸€èµ·ï¼Œè¡¨ç¤ºå¹½ä¼šå®Œäº†ï¼Œå›è§ï¼‰ tcpdump -i eth1 'tcp[13] \u0026 1 = 1' æŠ“RST tcpdump -i eth1 'tcp[13] \u0026 4 = 4' ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/:7:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤é«˜çº§è¿‡æ»¤æ–¹å¼","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/"},{"categories":["Linux","Network"],"content":"å¸¸ç”¨çš„å­—æ®µåç§»åå­— tcpdumpè€ƒè™‘äº†ä¸€äº›æ•°å­—ææƒ§ç—‡è€…çš„éœ€æ±‚ï¼Œæä¾›äº†éƒ¨åˆ†å¸¸ç”¨çš„å­—æ®µåç§»åå­—ï¼š icmptype (ICMPç±»å‹å­—æ®µ) icmpcode (ICMPç¬¦å·å­—æ®µ) tcpflags (TCPæ ‡è®°å­—æ®µ) ICMPç±»å‹å€¼æœ‰ï¼š icmp-echoreply, icmp-unreach, icmp-sourcequench, icmp-redirect, icmp-echo, icmp-routeradvert, icmp-routersolicit, icmp-timxceed, icmp-paramprob, icmp-tstamp, icmp-tstampreply, icmp-ireq, icmp-ireqreply, icmp-maskreq, icmp-maskreply TCPæ ‡è®°å€¼ï¼š tcp-fin, tcp-syn, tcp-rst, tcp-push, tcp-push, tcp-ack, tcp-urg è¿™æ ·ä¸Šé¢æŒ‰ç…§TCPæ ‡è®°ä½æŠ“åŒ…çš„å°±å¯ä»¥å†™ç›´è§‚çš„è¡¨è¾¾å¼äº†ï¼š åªæŠ“SYNåŒ… tcpdump -i eth1 'tcp[tcpflags] = tcp-syn' æŠ“SYN, ACK tcpdump -i eth1 'tcp[tcpflags] \u0026 tcp-syn != 0 and tcp[tcpflags] \u0026 tcp-ack != 0' ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/:8:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤é«˜çº§è¿‡æ»¤æ–¹å¼","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/"},{"categories":["Linux","Network"],"content":"æŠ“SMTPæ•°æ® tcpdump -i eth1 '((port 25) and (tcp[(tcp[12]\u003e\u003e2):4] = 0x4d41494c))' æŠ“å–æ•°æ®åŒºå¼€å§‹ä¸º\"MAIL\"çš„åŒ…ï¼Œâ€œMAIL\"çš„åå…­è¿›åˆ¶ä¸º0x4d41494cã€‚ ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/:9:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤é«˜çº§è¿‡æ»¤æ–¹å¼","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/"},{"categories":["Linux","Network"],"content":"æŠ“HTTP GETæ•°æ® tcpdump -i eth1 'tcp[(tcp[12]\u003e\u003e2):4] = 0x47455420' â€œGET â€œçš„åå…­è¿›åˆ¶æ˜¯47455420 ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/:10:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤é«˜çº§è¿‡æ»¤æ–¹å¼","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/"},{"categories":["Linux","Network"],"content":"æŠ“SSHè¿”å› tcpdump -i eth1 'tcp[(tcp[12]\u003e\u003e2):4] = 0x5353482D' ã€€â€œSSH-â€œçš„åå…­è¿›åˆ¶æ˜¯0x5353482D tcpdump -i eth1 '(tcp[(tcp[12]\u003e\u003e2):4] = 0x5353482D) and (tcp[((tcp[12]\u003e\u003e2)+4):2] = 0x312E)' ","date":"0001-01-01","objectID":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/:11:0","tags":["TCPDump","Network","Linux"],"title":"tcpdumpå‘½ä»¤é«˜çº§è¿‡æ»¤æ–¹å¼","uri":"/tcpdump%E5%91%BD%E4%BB%A4%E9%AB%98%E7%BA%A7%E8%BF%87%E6%BB%A4%E6%96%B9%E5%BC%8F/"}]